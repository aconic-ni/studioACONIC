"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5479],{3998:(e,a,o)=>{o.d(a,{$:()=>l,r:()=>d});var s=o(95155),r=o(12115),t=o(32467),i=o(83101),n=o(64269);let d=(0,i.F)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),l=r.forwardRef((e,a)=>{let{className:o,variant:r,size:i,asChild:l=!1,...c}=e,u=l?t.DX:"button";return(0,s.jsx)(u,{className:(0,n.cn)(d({variant:r,size:i,className:o})),ref:a,...c})});l.displayName="Button"},14585:(e,a,o)=>{let s;o.d(a,{db:()=>c,j2:()=>l,yA:()=>s});var r=o(52078),t=o(59253),i=o(19708),n=o(68871);let d={apiKey:"AIzaSyAmJn-Kyy-efCeEqvjSZBADRLasPNXkShc",authDomain:"aconic-examiner.firebaseapp.com",projectId:"aconic-examiner",storageBucket:"aconic-examiner.appspot.com",messagingSenderId:"836588880993",appId:"1:836588880993:web:209d3f7cf414300258d620",measurementId:"G-C5GDZT3L32"};s=(0,r.Dk)().length?(0,r.Sx)():(0,r.Wp)(d);let l=(0,t.xI)(s),c=(0,i.aU)(s);try{d.measurementId?(0,n.P5)(s):console.warn("Firebase Analytics not initialized because measurementId is missing from firebaseConfig.")}catch(e){console.warn("Firebase Analytics could not be initialized.",e)}},15894:(e,a,o)=>{o.d(a,{dj:()=>u});var s=o(12115);let r=0,t=new Map,i=e=>{if(t.has(e))return;let a=setTimeout(()=>{t.delete(e),l({type:"REMOVE_TOAST",toastId:e})},1e6);t.set(e,a)},n=[],d={toasts:[]};function l(e){d=((e,a)=>{switch(a.type){case"ADD_TOAST":return{...e,toasts:[a.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===a.toast.id?{...e,...a.toast}:e)};case"DISMISS_TOAST":{let{toastId:o}=a;return o?i(o):e.toasts.forEach(e=>{i(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===o||void 0===o?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===a.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==a.toastId)}}})(d,e),n.forEach(e=>{e(d)})}function c(e){let{...a}=e,o=(r=(r+1)%Number.MAX_SAFE_INTEGER).toString(),s=()=>l({type:"DISMISS_TOAST",toastId:o});return l({type:"ADD_TOAST",toast:{...a,id:o,open:!0,onOpenChange:e=>{e||s()}}}),{id:o,dismiss:s,update:e=>l({type:"UPDATE_TOAST",toast:{...e,id:o}})}}function u(){let[e,a]=s.useState(d);return s.useEffect(()=>(n.push(a),()=>{let e=n.indexOf(a);e>-1&&n.splice(e,1)}),[e]),{...e,toast:c,dismiss:e=>l({type:"DISMISS_TOAST",toastId:e})}}},39833:(e,a,o)=>{o.d(a,{J:()=>g,q:()=>A});var s=o(11064),r=o(86456),t=o(42176),i=o(77187),n=o(98039),d=o(2165),l=o(80358),c=o(19201),u=o(51982),m=o(90109),b=o(44575),h=o(6943),p=o(86291),f=o(88397),v=o(75004);let g={admin:{home:"/admin",navLinks:["admin","assignments","dashboard","dbPrevios","dbPagos","dbMemorandum","dbPermisos","dbValidaciones","photos","reportsPrevios","reportsAforo","facturacion","legalRequest","aforador"]},coordinadora:{home:"/executive",navLinks:["assignments","dashboard","dbPrevios","dbPagos","dbMemorandum","dbPermisos","dbValidaciones","photos","reportsPrevios","legalRequest","facturacion","aforador"]},supervisor:{home:"/supervisor",navLinks:["assignments","dashboard","dbPrevios","dbPagos","dbMemorandum","dbPermisos","dbValidaciones","photos","reportsPrevios","agenteCasos","aforador"]},ejecutivo:{home:"/executive",navLinks:["dashboard","dbPrevios","dbPagos","dbMemorandum","dbPermisos","photos","reportsPrevios","legalRequest"]},gestor:{home:"/examiner",navLinks:["dbPrevios","photos"]},aforador:{home:"/aforador",navLinks:["aforador","dbPrevios","reportsPrevios","photos"]},agente:{home:"/agente",navLinks:["dbPrevios","photos","agenteCasos"]},digitador:{home:"/gestionlocal",navLinks:["reportsAforo","photos"]},revisor:{home:"/databasePay",navLinks:["dbPagos","dbMemorandum","dbValidaciones","photos"]},calificador:{home:"/databasePay",navLinks:["dbPagos","dbMemorandum","dbValidaciones","photos"]},autorevisor:{home:"/databasePay",navLinks:["dbPagos","dbMemorandum","photos"]},autorevisor_plus:{home:"/databasePay",navLinks:["dbPagos","dbMemorandum","photos"]},invitado:{home:"/permisos",navLinks:["dbPermisos"]},facturador:{home:"/facturacion",navLinks:["facturacion","dbPrevios","dbPagos","photos"]},legal:{home:"/legal",navLinks:["dashboard","dbPagos","dbMemorandum","dbPermisos","dbValidaciones","photos","legal"]}},A={admin:{href:"/admin",label:"Admin",icon:s.A},assignments:{href:"/assignments",label:"Asignaciones",icon:r.A},dashboard:{href:"/dashboard",label:"Dashboard",icon:t.A},dbPrevios:{href:"/database",label:"Base de Datos (Previos)",icon:i.A},dbPagos:{href:"/databasePay",label:"Base de Datos (Pagos)",icon:n.A},dbMemorandum:{href:"/memorandum",label:"Memorandos (RH)",icon:d.A},dbPermisos:{href:"/permisos",label:"Gesti\xf3n de Permisos",icon:l.A},dbValidaciones:{href:"/validaciones",label:"Validaciones",icon:c.A},photos:{href:"https://aconisani-my.sharepoint.com/:f:/g/personal/asuntos_juridicos_aconic_com_ni/Emrpj4Ss8bhDifpuYc8U_bwBj9r29FGcXxzfxu4PSh2tEQ?e=tkoEC0",label:"Fotos",icon:u.A,isExternal:!0},reportsPrevios:{href:"/reports",label:"Reportes de Previos",icon:t.A},reportsAforo:{href:"/gestionlocal",label:"Gesti\xf3n Local Aforo",icon:m.A},agenteCasos:{href:"/agente/casos",label:"Gesti\xf3n de Casos",icon:b.A},supervisor:{href:"/supervisor",label:"Panel Supervisor",icon:h.A},executive:{href:"/executive",label:"M\xf3dulo Ejecutivo",icon:b.A},facturacion:{href:"/facturacion",label:"Facturaci\xf3n",icon:p.A},legal:{href:"/legal",label:"M\xf3dulo Legal",icon:f.A},legalRequest:{href:"/legal/request",label:"Solicitud Legal",icon:f.A},aforador:{href:"/aforador",label:"Panel Aforador",icon:v.A}}},48579:(e,a,o)=>{o.d(a,{FirebaseAppProvider:()=>n,s:()=>d});var s=o(95155),r=o(12115),t=o(14585);let i=(0,r.createContext)(void 0),n=e=>{let{children:a}=e,[o,n]=(0,r.useState)(null),[d,l]=(0,r.useState)(!1);return(0,r.useEffect)(()=>{t.yA&&(n(t.yA),l(!0))},[]),(0,s.jsx)(i.Provider,{value:{firebaseApp:o,isFirebaseInitialized:d},children:a})},d=()=>{let e=(0,r.useContext)(i);if(void 0===e)throw Error("useFirebaseApp must be used within a FirebaseAppProvider");return e}},54901:(e,a,o)=>{o.d(a,{A:()=>u,AuthProvider:()=>c});var s=o(95155),r=o(12115),t=o(59253),i=o(14585),n=o(19708),d=o(48579);let l=(0,r.createContext)(void 0),c=e=>{let{children:a}=e,[o,c]=(0,r.useState)(null),[u,m]=(0,r.useState)(!0),[b,h]=(0,r.useState)(!1),{isFirebaseInitialized:p}=(0,d.s)(),f=(0,r.useCallback)(async e=>{if(e.isAnonymous){c(null),h(!1);return}let a=(0,n.H9)(i.db,"users",e.uid),o=await (0,n.x7)(a);if(o.exists()){let a=o.data(),s=a.role||"gestor",r=[];if(a.visibilityGroup&&a.visibilityGroup.length>0)try{let e=(0,n.P)((0,n.rJ)(i.db,"users"),(0,n._M)((0,n.Fs)(),"in",a.visibilityGroup));r=(await (0,n.GG)(e)).docs.map(e=>({uid:e.id,displayName:e.data().displayName||"N/A",email:e.data().email||"N/A"}))}catch(e){console.error("Error fetching visibility group members:",e)}c({uid:e.uid,email:e.email,displayName:a.displayName,role:s,roleTitle:a.roleTitle||null,hasReportsAccess:a.hasReportsAccess||!1,hasPaymentAccess:a.hasPaymentAccess||!1,visibilityGroup:r,canReviewUserEmails:a.canReviewUserEmails||[]}),h(!!a.displayName)}else{let o="gestor";await (0,n.BN)(a,{email:e.email,role:o,createdAt:(0,n.O5)(),hasReportsAccess:!1,hasPaymentAccess:!1},{merge:!0}),c({uid:e.uid,email:e.email,displayName:null,role:o,roleTitle:null,hasReportsAccess:!1,hasPaymentAccess:!1}),h(!1)}},[]),v=async e=>{if(!o)throw Error("User not authenticated");m(!0);let a=(0,n.H9)(i.db,"users",o.uid);try{let s={displayName:e,email:o.email},r=await (0,n.x7)(a);r.exists()&&r.data().role||(s.role="gestor",s.createdAt=(0,n.O5)()),await (0,n.BN)(a,s,{merge:!0}),c(a=>a?{...a,displayName:e,role:a.role||"gestor"}:null),h(!0)}catch(e){console.error("Error updating user profile:",e)}finally{m(!1)}};(0,r.useEffect)(()=>{if(!p)return void m(!0);let e=(0,t.hg)(i.j2,async e=>{m(!0),e?await f(e):(c(null),h(!1)),m(!1)});return()=>e()},[p,f]);let g=async()=>{m(!0);try{await (0,t.CI)(i.j2),c(null),h(!1)}catch(e){console.error("Error signing out: ",e)}finally{m(!1)}};return(0,s.jsx)(l.Provider,{value:{user:o,loading:u,logout:g,isProfileComplete:b,updateUserProfile:v},children:a})},u=()=>{let e=(0,r.useContext)(l);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},64269:(e,a,o)=>{o.d(a,{cn:()=>t});var s=o(2821),r=o(75889);function t(){for(var e=arguments.length,a=Array(e),o=0;o<e;o++)a[o]=arguments[o];return(0,r.QP)((0,s.$)(a))}}}]);