"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9321],{59321:(e,t,r)=>{r.d(t,{v:()=>Q});var s=r(95155),a=r(12115),l=r(15239),i=r(3998),n=r(86948),c=r(13141),d=r(75968),o=r(94908),x=r(26615),m=r(59729),p=r(5225),b=r(27314),u=r(28127),h=r(92129),j=r(91719),N=r(10639),g=r(57325),f=r(11064),v=r(16473),A=r(74421),y=r(22637),D=r(6713),k=r(88964),C=r(76251),w=r(19708),S=r(87270),E=r(11647),T=r(5282),F=r(80160),I=r(34238),L=r(64269),O=r(14585),M=r(52619),R=r.n(M);function $(){return(0,s.jsxs)(i.$,{type:"button",onClick:()=>{window.print()},variant:"default",children:[(0,s.jsx)(C.A,{className:"mr-2 h-4 w-4"})," Imprimir"]})}let P=e=>{let{label:t,value:r,className:a}=e;return(0,s.jsxs)("div",{className:(0,L.cn)("border-b border-black flex justify-between items-baseline py-1 print:py-0.5",a),children:[(0,s.jsx)("span",{className:"text-xs font-semibold text-gray-700 print:text-[8pt]",children:t}),(0,s.jsx)("p",{className:"text-xs font-medium text-gray-800 print:text-[9pt]",children:r||""})]})},V=e=>{let{label:t,value:r,className:a}=e;return(0,s.jsxs)("div",{className:(0,L.cn)("border-b border-black flex justify-between items-baseline py-1 print:py-0.5",a),children:[(0,s.jsx)("span",{className:"text-xs font-semibold text-gray-700 print:text-[8pt]",children:t}),(0,s.jsx)("p",{className:"text-xs font-medium text-gray-800 print:text-[9pt]",children:r||""})]})},G=e=>{let{label:t,value:r,className:a}=e;return(0,s.jsxs)("tr",{className:(0,L.cn)("border-b border-black last:border-b-0",a),children:[(0,s.jsx)("td",{className:"text-xs font-semibold text-gray-700 print:text-[8pt] p-1 w-2/5 border-r border-black",children:t}),(0,s.jsx)("td",{className:"text-xs font-medium text-gray-800 print:text-[9pt] p-1",children:r||""})]})},U=e=>{let{title:t,subtitle:r,className:a,children:l,align:i="left"}=e;return(0,s.jsxs)("div",{className:(0,L.cn)("flex flex-col",a),children:[(0,s.jsx)("div",{className:"flex-grow border-b-2 border-black print:h-6 mb-1"}),(0,s.jsxs)("div",{className:(0,L.cn)("text-xs print:text-[8pt]","text-".concat(i)),children:[(0,s.jsx)("p",{className:"font-semibold",children:"Firma y Sello"}),(0,s.jsx)("p",{className:"font-bold text-black",children:t}),r&&(0,s.jsx)("p",{className:"text-gray-600 print:text-[7pt]",children:r}),(0,s.jsx)("div",{className:"min-h-[30px] print:min-h-[20px] text-black font-semibold",children:l})]})]})};function H(e){let{worksheet:t,onClose:r}=e,[c,d]=(0,a.useState)(null);(0,a.useEffect)(()=>{(async()=>{if(t.aforador&&"-"!==t.aforador){let e=(0,w.P)((0,w.rJ)(O.db,"users"),(0,w._M)("displayName","==",t.aforador)),r=await (0,w.GG)(e);r.empty||d(r.docs[0].data())}else d(null)})()},[t.aforador]);let o=Number(t.cantidadTotal)||(t.documents||[]).reduce((e,t)=>e+(Number(t.cantidad)||0),0),x=Number(t.grossWeight)||(t.documents||[]).reduce((e,t)=>e+(Number(t.peso)||0),0),m=Number(t.packageNumber)||(t.documents||[]).reduce((e,t)=>e+(Number(t.bulto)||0),0),p=(t.documents||[]).reduce((e,t)=>e+(Number(t.total)||0),0),b=(t.valor||0)+(t.flete||0)+(t.seguro||0)+(t.otrosGastos||0),u=t.documents&&t.documents.length>0?t.documents:[],h=Array.from({length:Math.max(0,9-u.length)},(e,t)=>({id:"empty-".concat(t)}));return(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)(n.Zp,{className:"w-full max-w-5xl mx-auto shadow-none border-none card-print-styles",id:"printable-area",children:[(0,s.jsxs)("div",{className:"p-4 print:p-2 bg-white",children:[(0,s.jsx)("div",{className:"hidden print:block",children:(0,s.jsx)(l.default,{src:"/imagenes/HEADERANEX7DETAIL.svg",alt:"Anexo 7 Header",width:800,height:100,className:"w-full h-auto mb-2 print:mb-1",priority:!0})}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-x-8 mb-2 print:mb-1",children:[(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsx)(P,{label:"Fecha",value:(e=>{if(!e)return"";let t=e instanceof w.Dc?e.toDate():e;return(0,T.GP)(t,"dd/MM/yyyy")})(new Date)}),(0,s.jsx)(P,{label:"Empresa que solicita",value:t.consignee}),(0,s.jsx)(P,{label:"RUC",value:t.ruc}),(0,s.jsx)(P,{label:"Almac\xe9n de Salida",value:t.almacenSalida}),(0,s.jsx)(P,{label:"C\xf3digo de Almac\xe9n",value:t.codigoAlmacen})]}),(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsx)(P,{label:"RESA No",value:t.resa}),(0,s.jsx)(P,{label:"Factura No",value:t.facturaNumber}),"anexo_7"===t.worksheetType&&t.transportDocumentNumber&&(0,s.jsx)(P,{label:"Documento de Transporte",value:t.transportDocumentNumber}),(0,s.jsx)(P,{label:"Delegaci\xf3n de Aduana Destino",value:(e=>{if(!e)return"N/A";let t=I.gb.find(t=>t.value===e);return t?t.label.substring(5):e})(t.dispatchCustoms)}),(0,s.jsx)(P,{label:"C\xf3digo de Aduana",value:t.dispatchCustoms})]})]}),(0,s.jsxs)("div",{className:"border-2 border-black",children:[(0,s.jsx)("h3",{className:"text-center text-sm font-bold border-b-2 border-black py-1 print:text-xs",children:"DESCRIPCI\xd3N DE MERCANC\xcdAS"}),(0,s.jsxs)("table",{className:"w-full border-collapse",children:[(0,s.jsx)("thead",{children:(0,s.jsx)("tr",{className:"border-b-2 border-black",children:["CANTIDAD","ORIGEN","UM","SAC","PESO","DESCRIPCI\xd3N","BULTOS","VALOR"].map(e=>(0,s.jsx)("th",{className:"print:p-0.5 print:text-[8pt] text-center border-r last:border-r-0 border-black h-auto font-bold",children:e},e))})}),(0,s.jsxs)("tbody",{children:[u.map((e,t)=>(0,s.jsxs)("tr",{className:"border-b border-gray-400 h-6 print:h-5",children:[(0,s.jsx)("td",{className:"print:p-0.5 print:text-[8pt] text-center border-r border-black",children:e.cantidad?Number(e.cantidad).toLocaleString("es-NI"):""}),(0,s.jsx)("td",{className:"print:p-0.5 print:text-[8pt] text-center border-r border-black",children:String(e.origen||"")}),(0,s.jsx)("td",{className:"print:p-0.5 print:text-[8pt] text-center border-r border-black",children:String(e.um||"")}),(0,s.jsx)("td",{className:"print:p-0.5 print:text-[8pt] text-center border-r border-black",children:String(e.sac||"")}),(0,s.jsx)("td",{className:"print:p-0.5 print:text-[8pt] text-center border-r border-black",children:e.peso?Number(e.peso).toLocaleString("es-NI",{minimumFractionDigits:2,maximumFractionDigits:2}):""}),(0,s.jsx)("td",{className:"print:p-0.5 print:text-[8pt] text-left border-r border-black",children:e.descripcion}),(0,s.jsx)("td",{className:"print:p-0.5 print:text-[8pt] text-center border-r border-black",children:e.bulto?Number(e.bulto).toLocaleString("es-NI"):""}),(0,s.jsx)("td",{className:"print:p-0.5 print:text-[8pt] text-right",children:e.total?Number(e.total).toLocaleString("es-NI",{minimumFractionDigits:2,maximumFractionDigits:2}):""})]},e.id||t)),h.map(e=>(0,s.jsxs)("tr",{className:"border-b border-gray-400 h-6 print:h-5",children:[(0,s.jsx)("td",{className:"border-r border-black",children:"\xa0"}),(0,s.jsx)("td",{className:"border-r border-black"}),(0,s.jsx)("td",{className:"border-r border-black"}),(0,s.jsx)("td",{className:"border-r border-black"}),(0,s.jsx)("td",{className:"border-r border-black"}),(0,s.jsx)("td",{className:"border-r border-black"}),(0,s.jsx)("td",{className:"border-r border-black"}),(0,s.jsx)("td",{})]},e.id))]}),(0,s.jsx)("tfoot",{children:(0,s.jsxs)("tr",{className:"border-t-2 border-black font-bold text-xs print:text-[9pt] h-6 print:h-5",children:[(0,s.jsxs)("td",{className:"p-1 print:p-0.5 text-left pr-2",colSpan:3,children:["TOTAL: ",o>0?o.toLocaleString("es-NI"):""," ",t.unidadMedidaTotal]}),(0,s.jsx)("td",{className:"p-1 print:p-0.5 text-right pr-2"}),(0,s.jsx)("td",{className:"p-1 print:p-0.5 text-center",children:x>0?x.toLocaleString("es-NI",{minimumFractionDigits:2,maximumFractionDigits:2}):""}),(0,s.jsx)("td",{className:"p-1 print:p-0.5 text-right",children:"TOTALES:"}),(0,s.jsx)("td",{className:"p-1 print:p-0.5 text-center border-l border-black",children:m>0?m.toLocaleString("es-NI"):""}),(0,s.jsx)("td",{className:"p-1 print:p-0.5 text-right border-l border-black",children:p>0?p.toLocaleString("es-NI",{minimumFractionDigits:2,maximumFractionDigits:2}):""})]})})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-3 gap-x-4 mt-2 print:mt-1",children:[(0,s.jsx)("div",{className:"w-full text-xs p-2 print:text-[8pt] print:p-1",children:(0,s.jsxs)("table",{className:"w-full border-collapse print:text-[9pt]",children:[(0,s.jsx)("thead",{children:(0,s.jsx)("tr",{children:(0,s.jsx)("th",{colSpan:2,className:"border border-black text-center text-xs p-1 print:text-[8pt] font-bold",children:"Conformaci\xf3n de Valor"})})}),(0,s.jsx)("tbody",{children:["Valor $","Flete $","Seguro $","O. Gasto $","V. Aduana $"].map(e=>{let r="";return"Valor $"===e&&(r=t.valor?"$".concat(Number(t.valor).toLocaleString("es-NI",{minimumFractionDigits:2,maximumFractionDigits:2})):""),"Flete $"===e&&(r=t.flete?"$".concat(Number(t.flete).toLocaleString("es-NI",{minimumFractionDigits:2,maximumFractionDigits:2})):""),"Seguro $"===e&&(r=t.seguro?"$".concat(Number(t.seguro).toLocaleString("es-NI",{minimumFractionDigits:2,maximumFractionDigits:2})):""),"O. Gasto $"===e&&(r=t.otrosGastos?"$".concat(Number(t.otrosGastos).toLocaleString("es-NI",{minimumFractionDigits:2,maximumFractionDigits:2})):""),"V. Aduana $"===e&&(r="$".concat(b.toLocaleString("es-NI",{minimumFractionDigits:2,maximumFractionDigits:2}))),(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{className:(0,L.cn)("border border-black p-1 w-[50%] print:p-0.5","V. Aduana $"===e?"border-t-2":""),children:e}),(0,s.jsx)("td",{className:"border border-black p-1 w-auto font-semibold text-right ".concat("V. Aduana $"===e?"border-t-2":""),children:r})]},e)})})]})}),(0,s.jsxs)("div",{className:"p-2 print:p-1 col-span-2",children:[(0,s.jsx)("p",{className:"text-xs font-semibold text-gray-500 print:text-[8pt]",children:"NOTA:"}),(0,s.jsx)("p",{className:"text-sm print:text-xs whitespace-pre-wrap min-h-[42px]",children:t.observations})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-x-8 mt-1 print:mt-1",children:[(0,s.jsx)("div",{className:"border border-black mt-1 print:mt-1",children:(0,s.jsx)("table",{className:"w-full border-collapse",children:(0,s.jsxs)("tbody",{children:[(0,s.jsx)(G,{label:"Codigo del Transporte",value:t.codigoAduanero}),(0,s.jsx)(G,{label:"Marca",value:t.marcaVehiculo}),(0,s.jsx)(G,{label:"Placa",value:t.placaVehiculo}),(0,s.jsx)(G,{label:"Motor",value:t.motorVehiculo}),(0,s.jsx)(G,{label:"Chasis",value:t.chasisVehiculo}),(0,s.jsx)(G,{label:"Nombre Conductor",value:t.nombreConductor}),(0,s.jsx)(G,{label:"Licencia",value:t.licenciaConductor}),(0,s.jsx)(G,{label:"Cedula",value:t.cedulaConductor})]})})}),(0,s.jsxs)("div",{className:"space-y-2 print:space-y-1 mt-1 print:mt-1",children:[(0,s.jsxs)("div",{className:"space-y-1 p-2 print:p-1",children:[(0,s.jsx)(V,{label:"Bultos Totales",value:m>0?m.toLocaleString("es-NI"):""}),(0,s.jsx)(V,{label:"Peso Total",value:x>0?x.toLocaleString("es-NI",{minimumFractionDigits:2,maximumFractionDigits:2}):""}),(0,s.jsx)(V,{label:"Precinto",value:t.precinto||""})]}),(0,s.jsx)("div",{className:"h-[50px] print:h-[20px]"}),(0,s.jsxs)("div",{className:"space-y-1 p-2 print:p-1",children:[(0,s.jsx)(V,{label:"Hora de Salida",value:""}),(0,s.jsx)(V,{label:"Hora de Llegada",value:""})]})]})]}),(0,s.jsx)("div",{className:"h-[50px] print:h-[20px]"}),(0,s.jsx)("div",{className:"h-[10px] print:h-[10px]"}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-x-8 mt-2 print:mt-1",children:[(0,s.jsx)("div",{className:"h-full flex flex-col",children:(0,s.jsx)(U,{title:"CONTROL DE RECINTO ADUANERO",subtitle:"Aduana Managua",align:"left"})}),(0,s.jsx)("div",{className:"h-full flex flex-col",children:(0,s.jsx)(U,{title:"ALMACEN DE DEPOSITO",align:"center"})})]}),(0,s.jsx)("div",{className:"h-[20px]"}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-x-8 mt-2 print:mt-1",children:[(0,s.jsx)("div",{className:"h-full flex flex-col",children:(0,s.jsx)(U,{title:"Aduana de Destino.",subtitle:"En original y 3 Copias.",align:"left"})}),(0,s.jsx)("div",{className:"h-full flex flex-col",children:(0,s.jsx)(U,{title:"TRAMITANTE",align:"center",children:c&&(0,s.jsxs)("div",{className:"text-black font-semibold",children:[(0,s.jsx)("p",{children:c.displayName||"N/A"}),(0,s.jsxs)("p",{children:["Licencia: ",c.agentLicense||"N/A"]}),(0,s.jsxs)("p",{children:["C\xe9dula: ",c.cedula||"N/A"]}),(0,s.jsx)("p",{children:"AGENCIA ADUANERA ACONIC"})]})})})]})]}),(0,s.jsxs)(n.wL,{className:"justify-end gap-2 no-print border-t pt-4 mt-4",children:[(0,s.jsx)(i.$,{asChild:!0,variant:"outline",children:(0,s.jsxs)(R(),{href:"/executive/anexos?type=".concat(t.worksheetType,"&id=").concat(t.id),children:[(0,s.jsx)(k.A,{className:"mr-2 h-4 w-4"})," Editar"]})}),(0,s.jsx)(i.$,{type:"button",onClick:r,variant:"outline",children:"Cerrar"}),(0,s.jsx)($,{})]})]})})}let _=e=>{let{label:t,value:r,className:a}=e;return(0,s.jsxs)("div",{className:(0,L.cn)("border-b border-black flex justify-between items-baseline py-1 print:py-0.5",a),children:[(0,s.jsx)("span",{className:"text-xs font-semibold text-gray-700 print:text-[8pt]",children:t}),(0,s.jsx)("p",{className:"text-xs font-medium text-gray-800 print:text-[9pt]",children:r||""})]})},B=e=>{let{label:t,value:r,className:a}=e;return(0,s.jsxs)("tr",{className:(0,L.cn)("border-b border-black last:border-b-0",a),children:[(0,s.jsx)("td",{className:"text-xs font-semibold text-gray-700 print:text-[8pt] p-1 w-2/5 border-r border-black",children:t}),(0,s.jsx)("td",{className:"text-xs font-medium text-gray-800 print:text-[9pt] p-1",children:r||""})]})},q=e=>{let{title:t,subtitle:r,className:a,children:l,align:i="left",showSignatureLine:n=!0}=e;return(0,s.jsxs)("div",{className:(0,L.cn)("flex flex-col",a),children:[n&&(0,s.jsx)("div",{className:"flex-grow border-b-2 border-black print:h-6 mb-1 h-[50px]"}),(0,s.jsxs)("div",{className:(0,L.cn)("text-xs print:text-[8pt]","text-".concat(i)),children:[(0,s.jsx)("p",{className:"font-semibold",children:t}),r&&(0,s.jsx)("p",{className:"text-gray-600 print:text-[7pt]",children:r}),(0,s.jsx)("div",{className:"min-h-[30px] print:min-h-[20px] text-black font-semibold",children:l})]})]})};function W(e){let{worksheet:t,onClose:r}=e,[c,d]=(0,a.useState)(null);(0,a.useEffect)(()=>{(async()=>{if(t.aforador&&"-"!==t.aforador){let e=(0,w.P)((0,w.rJ)(O.db,"users"),(0,w._M)("displayName","==",t.aforador)),r=await (0,w.GG)(e);r.empty||d(r.docs[0].data())}else d(null)})()},[t.aforador]);let o=Number(t.cantidadTotal)||(t.documents||[]).reduce((e,t)=>e+(Number(t.cantidad)||0),0),x=Number(t.grossWeight)||(t.documents||[]).reduce((e,t)=>e+(Number(t.peso)||0),0),m=Number(t.packageNumber)||(t.documents||[]).reduce((e,t)=>e+(Number(t.bulto)||0),0),p=(t.documents||[]).reduce((e,t)=>e+(Number(t.total)||0),0),b=(t.valor||0)+(t.flete||0)+(t.seguro||0)+(t.otrosGastos||0);if("anexo_7"===t.worksheetType)return(0,s.jsx)(H,{worksheet:t,onClose:r});if("hoja_de_trabajo"===t.worksheetType||!t.worksheetType)return(0,s.jsx)(Q,{worksheet:t,onClose:r});let u=t.documents&&t.documents.length>0?t.documents:[],h=Array.from({length:Math.max(0,9-u.length)},(e,t)=>({id:"empty-".concat(t)}));return(0,s.jsxs)(n.Zp,{className:"w-full max-w-5xl mx-auto shadow-none border-none card-print-styles",id:"printable-area",children:[(0,s.jsxs)("div",{className:"p-4 print:p-2 bg-white",children:[(0,s.jsx)("div",{className:"hidden print:block",children:(0,s.jsx)(l.default,{src:"/imagenes/HEADERANEX5DETAIL.svg",alt:"Anexo Header",width:800,height:100,className:"w-full h-auto mb-2 print:mb-1",priority:!0})}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-x-8 mb-2 print:mb-1",children:[(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsx)(_,{label:"Fecha",value:(e=>{if(!e)return"";let t=e instanceof w.Dc?e.toDate():e;return(0,T.GP)(t,"dd/MM/yyyy")})(new Date)}),(0,s.jsx)(_,{label:"Empresa que solicita",value:t.consignee}),(0,s.jsx)(_,{label:"RUC",value:t.ruc}),(0,s.jsx)(_,{label:"Almac\xe9n de Salida",value:t.almacenSalida}),(0,s.jsx)(_,{label:"C\xf3digo de Almac\xe9n",value:t.codigoAlmacen})]}),(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsx)(_,{label:"RESA No",value:t.resa}),(0,s.jsx)(_,{label:"Factura No",value:t.facturaNumber}),(0,s.jsx)(_,{label:"Delegaci\xf3n de Aduana Destino",value:(e=>{if(!e)return"N/A";let t=I.gb.find(t=>t.value===e);return t?t.label.substring(5):e})(t.dispatchCustoms)}),(0,s.jsx)(_,{label:"C\xf3digo de Aduana",value:t.dispatchCustoms})]})]}),(0,s.jsxs)("div",{className:"border-2 border-black",children:[(0,s.jsx)("h3",{className:"text-center text-sm font-bold border-b-2 border-black py-1 print:text-xs",children:"Descripci\xf3n de las mercanc\xedas"}),(0,s.jsxs)("table",{className:"w-full border-collapse",children:[(0,s.jsx)("thead",{children:(0,s.jsx)("tr",{className:"border-b-2 border-black",children:["CANTIDAD","ORIGEN","UM","SAC","PESO","DESCRIPCION","LINEA AEREA","N\xb0 DE GUIA AEREA","BULTO","TOTAL"].map(e=>(0,s.jsx)("th",{className:"print:p-0.5 print:text-[8pt] text-center border-r last:border-r-0 border-black h-auto font-bold",children:e},e))})}),(0,s.jsxs)("tbody",{children:[u.map((e,t)=>(0,s.jsxs)("tr",{className:"border-b border-gray-400 h-6 print:h-5",children:[(0,s.jsx)("td",{className:"print:p-0.5 print:text-[8pt] text-center border-r border-black",children:e.cantidad?Number(e.cantidad).toLocaleString("es-NI"):""}),(0,s.jsx)("td",{className:"print:p-0.5 print:text-[8pt] text-center border-r border-black",children:String(e.origen||"")}),(0,s.jsx)("td",{className:"print:p-0.5 print:text-[8pt] text-center border-r border-black",children:String(e.um||"")}),(0,s.jsx)("td",{className:"print:p-0.5 print:text-[8pt] text-center border-r border-black",children:String(e.sac||"")}),(0,s.jsx)("td",{className:"print:p-0.5 print:text-[8pt] text-center border-r border-black",children:e.peso?Number(e.peso).toLocaleString("es-NI",{minimumFractionDigits:2,maximumFractionDigits:2}):""}),(0,s.jsx)("td",{className:"print:p-0.5 print:text-[8pt] text-left border-r border-black",children:e.descripcion}),(0,s.jsx)("td",{className:"print:p-0.5 print:text-[8pt] text-center border-r border-black",children:e.linea||""}),(0,s.jsx)("td",{className:"print:p-0.5 print:text-[8pt] text-center border-r border-black",children:e.guia||""}),(0,s.jsx)("td",{className:"print:p-0.5 print:text-[8pt] text-center border-r border-black",children:e.bulto?Number(e.bulto).toLocaleString("es-NI"):""}),(0,s.jsx)("td",{className:"print:p-0.5 print:text-[8pt] text-right",children:e.total?Number(e.total).toLocaleString("es-NI",{minimumFractionDigits:2,maximumFractionDigits:2}):""})]},e.id||t)),h.map(e=>(0,s.jsxs)("tr",{className:"border-b border-gray-400 h-6 print:h-5",children:[(0,s.jsx)("td",{className:"border-r border-black",children:"\xa0"}),(0,s.jsx)("td",{className:"border-r border-black"}),(0,s.jsx)("td",{className:"border-r border-black"}),(0,s.jsx)("td",{className:"border-r border-black"}),(0,s.jsx)("td",{className:"border-r border-black"}),(0,s.jsx)("td",{className:"border-r border-black"}),(0,s.jsx)("td",{className:"border-r border-black"}),(0,s.jsx)("td",{className:"border-r border-black"}),(0,s.jsx)("td",{className:"border-r border-black"}),(0,s.jsx)("td",{})]},e.id))]}),(0,s.jsx)("tfoot",{children:(0,s.jsxs)("tr",{className:"border-t-2 border-black font-bold text-xs print:text-[9pt] h-6 print:h-5",children:[(0,s.jsxs)("td",{className:"p-1 print:p-0.5 text-left pr-2",colSpan:4,children:["TOTAL: ",o>0?o.toLocaleString("es-NI"):""," ",t.unidadMedidaTotal]}),(0,s.jsx)("td",{className:"p-1 print:p-0.5 text-center",children:x>0?x.toLocaleString("es-NI",{minimumFractionDigits:2,maximumFractionDigits:2}):""}),(0,s.jsx)("td",{className:"p-1 print:p-0.5 text-right",colSpan:3,children:"TOTALES:"}),(0,s.jsx)("td",{className:"p-1 print:p-0.5 text-center border-l border-black",children:m>0?m.toLocaleString("es-NI"):""}),(0,s.jsx)("td",{className:"p-1 print:p-0.5 text-right border-l border-black",children:p>0?p.toLocaleString("es-NI",{minimumFractionDigits:2,maximumFractionDigits:2}):""})]})})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-3 gap-x-4 mt-2 print:mt-1",children:[(0,s.jsx)("div",{className:"w-full text-xs p-2 print:text-[8pt] print:p-1 col-span-1",children:(0,s.jsxs)("table",{className:"w-full border-collapse print:text-[9pt]",children:[(0,s.jsx)("thead",{children:(0,s.jsx)("tr",{children:(0,s.jsx)("th",{colSpan:2,className:"border border-black text-center text-xs p-1 print:text-[8pt] font-bold",children:"Conformaci\xf3n de Valor"})})}),(0,s.jsx)("tbody",{children:["Valor $","Flete $","Seguro $","O. Gasto $","V. Aduana $"].map(e=>{let r="";return"Valor $"===e&&(r=t.valor?"$".concat(Number(t.valor).toLocaleString("es-NI",{minimumFractionDigits:2,maximumFractionDigits:2})):""),"Flete $"===e&&(r=t.flete?"$".concat(Number(t.flete).toLocaleString("es-NI",{minimumFractionDigits:2,maximumFractionDigits:2})):""),"Seguro $"===e&&(r=t.seguro?"$".concat(Number(t.seguro).toLocaleString("es-NI",{minimumFractionDigits:2,maximumFractionDigits:2})):""),"O. Gasto $"===e&&(r=t.otrosGastos?"$".concat(Number(t.otrosGastos).toLocaleString("es-NI",{minimumFractionDigits:2,maximumFractionDigits:2})):""),"V. Aduana $"===e&&(r="$".concat(b.toLocaleString("es-NI",{minimumFractionDigits:2,maximumFractionDigits:2}))),(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{className:(0,L.cn)("border border-black p-1 w-[50%] print:p-0.5","V. Aduana $"===e?"border-t-2":""),children:e}),(0,s.jsx)("td",{className:"border border-black p-1 w-auto font-semibold text-right ".concat("V. Aduana $"===e?"border-t-2":""),children:r})]},e)})})]})}),(0,s.jsxs)("div",{className:"p-2 print:p-1 col-span-1",children:[(0,s.jsx)("p",{className:"text-xs font-semibold text-gray-500 print:text-[8pt]",children:"NOTA:"}),(0,s.jsx)("p",{className:"text-sm print:text-xs whitespace-pre-wrap min-h-[42px]",children:t.observations})]}),(0,s.jsxs)("div",{className:"space-y-1 p-2 print:p-1 col-span-1",children:[(0,s.jsx)(_,{label:"Bultos Totales",value:m>0?m.toLocaleString("es-NI"):""}),(0,s.jsx)(_,{label:"Peso Total",value:x>0?x.toLocaleString("es-NI",{minimumFractionDigits:2,maximumFractionDigits:2}):""}),(0,s.jsx)(_,{label:"Precinto",value:t.precinto||""}),(0,s.jsx)(_,{label:"Precinto Lateral",value:t.precintoLateral||""}),(0,s.jsx)("div",{className:"h-[25px]"}),(0,s.jsx)("div",{className:"border-b-2 border-black"}),(0,s.jsx)("p",{className:"text-xs font-semibold text-center pt-1",children:"Firma Inspector ACCA"})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-x-8 mt-1 print:mt-1",children:[(0,s.jsx)("div",{className:"border border-black mt-1 print:mt-1",children:(0,s.jsx)("table",{className:"w-full border-collapse",children:(0,s.jsxs)("tbody",{children:[(0,s.jsx)(B,{label:"CODIGO DE ADUANERO",value:t.codigoAduanero}),(0,s.jsx)(B,{label:"Marca",value:t.marcaVehiculo}),(0,s.jsx)(B,{label:"Placa",value:t.placaVehiculo}),(0,s.jsx)(B,{label:"Motor",value:t.motorVehiculo}),(0,s.jsx)(B,{label:"Chasis",value:t.chasisVehiculo}),(0,s.jsx)(B,{label:"VIN",value:t.vin}),(0,s.jsx)(B,{label:"Nombre Conductor",value:t.nombreConductor}),(0,s.jsx)(B,{label:"Licencia",value:t.licenciaConductor}),(0,s.jsx)(B,{label:"Cedula",value:t.cedulaConductor}),(0,s.jsx)(B,{label:"Tipo de medio",value:t.tipoMedio}),(0,s.jsx)(B,{label:"Peso Vac\xedo",value:t.pesoVacioVehiculo})]})})}),(0,s.jsxs)("div",{className:"border-t border-b border-black mt-1 print:mt-1 p-2 flex flex-col justify-between",children:[(0,s.jsx)("p",{className:"text-center font-bold text-sm",children:"TRAMITANTE"}),c&&(0,s.jsxs)("div",{className:"text-center text-black font-semibold text-xs",children:[(0,s.jsx)("p",{children:c.displayName||"N/A"}),(0,s.jsxs)("p",{children:["Licencia: ",c.agentLicense||"N/A"]}),(0,s.jsxs)("p",{children:["C\xe9dula: ",c.cedula||"N/A"]}),(0,s.jsx)("p",{children:"AGENCIA ADUANERA ACONIC"})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("div",{className:"flex-grow border-b-2 border-black print:h-6 mb-1 h-[50px]"}),(0,s.jsx)("p",{className:"text-xs font-semibold text-gray-700 print:text-[8pt] text-center",children:"Firma y Sello"})]})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-x-8 mt-2 print:mt-1",children:[(0,s.jsx)(q,{title:"ADUANA DESTINO",subtitle:"Firma y Sello",align:"left",className:"w-full"}),(0,s.jsxs)("div",{className:"border border-black p-2 flex flex-col justify-between",children:[(0,s.jsx)("p",{className:"text-center font-bold text-sm",children:"TRANSITO"}),(0,s.jsx)("p",{className:"text-xs font-semibold text-gray-700 print:text-[8pt] text-center",children:"Firma y Sello"}),(0,s.jsx)(_,{label:"HORA DE SALIDA",value:""}),(0,s.jsx)(_,{label:"HORA DE LLEGADA",value:""})]})]})]}),(0,s.jsxs)(n.wL,{className:"justify-end gap-2 no-print border-t pt-4 mt-4",children:[(0,s.jsx)(i.$,{asChild:!0,variant:"outline",children:(0,s.jsxs)(R(),{href:"/executive/anexos?type=".concat(t.worksheetType,"&id=").concat(t.id),children:[(0,s.jsx)(k.A,{className:"mr-2 h-4 w-4"})," Editar"]})}),(0,s.jsx)(i.$,{type:"button",onClick:r,variant:"outline",children:"Cerrar"}),(0,s.jsx)($,{})]})]})}let X=e=>{if(!e)return"N/A";let t=e.toDate();return(0,T.GP)(t,"dd/MM/yy HH:mm",{locale:F.es})},J=e=>{if(!e)return"N/A";let t=e instanceof w.Dc?e.toDate():e;return(0,T.GP)(t,"dd/MM/yyyy")},Z=e=>{if(!e)return"N/A";let t=I.gb.find(t=>t.value===e);return t?t.label.substring(5):e},z=e=>{let t,{label:r,value:a,icon:l}=e;return t="boolean"==typeof a?a?"S\xed":"No":String(null!=a?a:"N/A"),(0,s.jsxs)("div",{className:"flex items-start gap-2 print:gap-1",children:[l&&(0,s.jsx)(l,{className:"mr-1 h-4 w-4 text-primary mt-0.5 flex-shrink-0 print:h-3 print:w-3"}),(0,s.jsxs)("p",{className:"text-xs font-medium text-muted-foreground whitespace-nowrap print:text-[8pt]",children:[r,":"]}),(0,s.jsx)("p",{className:"text-sm text-foreground print:text-[9pt]",children:t})]})},K={aereo:c.A,maritimo:d.A,frontera:o.A,terrestre:o.A},Q=e=>{var t,r;let{worksheet:c,aforoCase:d,onClose:w}=e;if("anexo_7"===c.worksheetType)return(0,s.jsx)(H,{worksheet:c,onClose:w});if("anexo_5"===c.worksheetType)return(0,s.jsx)(W,{worksheet:c,onClose:w});let T=K[c.transportMode]||o.A,F=c.lastUpdatedAt&&c.createdAt&&c.lastUpdatedAt.toMillis()!==c.createdAt.toMillis(),I=(null==(t=c.consignee)?void 0:t.toUpperCase().trim())==="PSMT NICARAGUA, SOCIEDAD ANONIMA",L=(null==d?void 0:d.resaNumber)||c.resa,O=(null==d?void 0:d.resaNotificationDate)||c.resaNotificationDate,M=(null==d?void 0:d.resaDueDate)||c.resaDueDate,$=(0,a.useMemo)(()=>{let e=c.documents||[],t=e.filter(e=>"FACTURA"===e.type),r=e.filter(e=>"FACTURA"!==e.type);return t.sort((e,t)=>{let r=parseInt(e.number.replace(/\D/g,""),10),s=parseInt(t.number.replace(/\D/g,""),10);return isNaN(r)||isNaN(s)?e.number.localeCompare(t.number):r-s}),[...t,...r]},[c.documents]);return(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)(n.Zp,{className:"mt-6 w-full max-w-5xl mx-auto custom-shadow card-print-styles",id:"printable-area",children:[(0,s.jsx)("div",{className:"hidden print:block",children:(0,s.jsx)(l.default,{src:"/imagenes/HEADERSEXA.svg",alt:"Examen Header",width:800,height:100,className:"w-full h-auto mb-4",priority:!0})}),(0,s.jsx)("div",{className:"no-print",children:(0,s.jsxs)(n.aR,{className:"print:p-0",children:[(0,s.jsxs)("div",{className:"flex justify-between items-start",children:[(0,s.jsxs)(n.ZB,{className:"text-xl md:text-2xl font-semibold text-foreground print:text-lg no-print",children:["Hoja de Trabajo: ",c.ne]}),(0,s.jsx)("button",{onClick:w,className:"p-1 text-destructive hover:text-destructive/80 no-print",children:(0,s.jsx)(x.A,{className:"h-6 w-6"})})]}),(0,s.jsx)(n.BT,{className:"text-muted-foreground no-print print:hidden",children:"Vista de solo lectura de la hoja de trabajo."})]})}),(0,s.jsxs)(n.Wu,{className:"space-y-2 print:space-y-1 print:p-0",children:[(0,s.jsxs)("div",{className:"bg-secondary/30 p-4 rounded-md shadow-sm text-sm print:p-2 print:border print:bg-transparent print:shadow-none space-y-2",children:[(0,s.jsxs)("div",{className:"p-2 border-b border-border flex justify-between items-start",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(m.A,{className:"mr-1 h-5 w-5 text-primary"}),(0,s.jsx)("p",{className:"text-sm font-medium text-muted-foreground print:text-xs",children:"Consignatario:"})]}),(0,s.jsx)("p",{className:"text-lg text-foreground font-semibold ml-8 print:text-base",children:c.consignee}),(0,s.jsxs)("div",{className:"text-xs text-muted-foreground ml-8 mt-1",children:[(0,s.jsxs)("span",{children:["Creado: ",X(c.createdAt)]}),F&&(0,s.jsxs)("span",{className:"ml-2",children:["| Modificado: ",X(c.lastUpdatedAt)]})]})]}),(0,s.jsx)("div",{className:"print-only:block hidden",children:(0,s.jsxs)(E.E,{className:"text-base print:text-sm print:font-bold",children:["Hoja de Trabajo: ",c.ne]})})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 print:grid-cols-3 gap-x-6 gap-y-3 print:gap-x-4 print:gap-y-1 ",children:[(0,s.jsx)(z,{label:"NE",value:c.ne,icon:p.A}),(0,s.jsx)(z,{label:"Referencia",value:c.reference,icon:p.A}),(0,s.jsx)(z,{label:"Ejecutivo",value:c.executive,icon:b.A}),(0,s.jsx)(z,{label:"ETA",value:J(c.eta),icon:u.A}),(0,s.jsx)(z,{label:"Peso Bruto",value:c.grossWeight,icon:h.A}),(0,s.jsx)(z,{label:"Peso Neto",value:c.netWeight,icon:h.A}),(0,s.jsx)(z,{label:"N\xfamero de Bultos",value:c.packageNumber,icon:j.A}),(0,s.jsx)(z,{label:"Aduana de Entrada",value:Z(c.entryCustoms),icon:N.A}),(0,s.jsx)(z,{label:"Aduana de Despacho",value:Z(c.dispatchCustoms),icon:N.A}),(0,s.jsx)(z,{label:"RESA",value:L,icon:g.A}),(0,s.jsx)(z,{label:"Fecha Notif. RESA",value:J(O),icon:u.A}),(0,s.jsx)(z,{label:"Fecha Venc. RESA",value:J(M),icon:u.A}),(0,s.jsx)(z,{label:"Modo de Transporte",value:c.transportMode,icon:T}),c.inLocalWarehouse&&(0,s.jsx)(z,{label:"Localizaci\xf3n",value:c.location,icon:N.A}),(0,s.jsx)(z,{label:"Aplica TLC",value:c.appliesTLC,icon:f.A}),(0,s.jsx)(z,{label:"Aplica Modexo",value:c.appliesModexo,icon:v.A}),c.appliesModexo&&(0,s.jsx)(z,{label:"C\xf3digo Modexo",value:c.modexoCode}),I&&c.aforador&&(0,s.jsx)(z,{label:"Aforador Asignado",value:c.aforador,icon:b.A})]})]}),(0,s.jsxs)("div",{className:"print:mt-1",children:[(0,s.jsx)("h4",{className:"text-lg font-medium mb-2 text-foreground print:text-sm print:mb-1",children:"Descripci\xf3n"}),(0,s.jsx)("p",{className:"text-sm p-4 border rounded-md bg-card whitespace-pre-wrap print:border print:p-2 print:text-xs",children:c.description})]}),c.observations&&(0,s.jsxs)("div",{className:"print:mt-1",children:[(0,s.jsx)("h4",{className:"text-lg font-medium mb-2 text-foreground print:text-sm print:mb-1",children:"Observaciones"}),(0,s.jsx)("p",{className:"text-sm p-4 border rounded-md bg-card whitespace-pre-wrap print:border print:p-2 print:text-xs",children:c.observations})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 print:grid-cols-2 print:gap-x-4",children:[(c.transportDocumentType||c.transportCompany||c.transportDocumentNumber)&&(0,s.jsxs)("div",{className:"print:mt-1 mt-4",children:[(0,s.jsx)("h4",{className:"text-lg font-medium mb-2 text-foreground print:text-sm print:mb-1",children:"Documento de Transporte"}),(0,s.jsxs)("div",{className:"p-4 border rounded-md bg-card space-y-2 print:p-2 print:space-y-1",children:[(0,s.jsx)(z,{label:"Tipo",value:"guia_aerea"===c.transportDocumentType?"Gu\xeda A\xe9rea":"bl"===c.transportDocumentType?"BL":"Carta de Porte"}),(0,s.jsx)(z,{label:"Compa\xf1\xeda",value:c.transportCompany}),(0,s.jsx)(z,{label:"N\xfamero",value:c.transportDocumentNumber})]})]}),(0,s.jsxs)("div",{className:"print:mt-1 mt-4",children:[(0,s.jsx)("h4",{className:"text-lg font-medium mb-2 text-foreground print:text-sm print:mb-1",children:"Documentos Entregados"}),(0,s.jsx)("div",{className:"rounded-md border print:border",children:(0,s.jsxs)(S.XI,{className:"print:text-[8pt]",children:[(0,s.jsx)(S.A0,{children:(0,s.jsxs)(S.Hj,{children:[(0,s.jsx)(S.nd,{className:"print:p-1",children:"Tipo"}),(0,s.jsx)(S.nd,{className:"print:p-1",children:"N\xfamero"}),(0,s.jsx)(S.nd,{className:"print:p-1",children:"Formato"})]})}),(0,s.jsx)(S.BF,{children:$.length>0?$.map(e=>(0,s.jsxs)(S.Hj,{children:[(0,s.jsx)(S.nA,{className:"print:p-1",children:e.type}),(0,s.jsx)(S.nA,{className:"print:p-1",children:e.number}),(0,s.jsx)(S.nA,{className:"print:p-1",children:(0,s.jsx)(E.E,{variant:e.isCopy?"secondary":"default",className:"print:text-xs print:px-1 print:py-0",children:e.isCopy?"Copia":"Original"})})]},e.id)):(0,s.jsx)(S.Hj,{children:(0,s.jsx)(S.nA,{colSpan:3,className:"text-center text-muted-foreground print:p-1",children:"No hay documentos."})})})]})})]}),(0,s.jsxs)("div",{className:"mt-4 print:mt-1",children:[(0,s.jsx)("h4",{className:"text-lg font-medium mb-2 text-foreground print:text-sm print:mb-1",children:"Permisos Requeridos"}),(0,s.jsx)("div",{className:"rounded-md border print:border",children:(0,s.jsxs)(S.XI,{className:"print:text-[8pt]",children:[(0,s.jsx)(S.A0,{children:(0,s.jsxs)(S.Hj,{children:[(0,s.jsx)(S.nd,{className:"print:p-1",children:"Permiso"}),(0,s.jsx)(S.nd,{className:"print:p-1",children:"Factura Asociada"}),(0,s.jsx)(S.nd,{className:"print:p-1",children:"Estado"}),(0,s.jsx)(S.nd,{className:"print:p-1",children:"Fecha Sometido"}),(0,s.jsx)(S.nd,{className:"print:p-1",children:"Fecha Retiro Aprox."})]})}),(0,s.jsx)(S.BF,{children:(null==(r=c.requiredPermits)?void 0:r.length)>0?c.requiredPermits.map(e=>(0,s.jsxs)(S.Hj,{children:[(0,s.jsx)(S.nA,{className:"font-medium print:p-1",children:e.name}),(0,s.jsx)(S.nA,{className:"print:p-1",children:e.facturaNumber||"N/A"}),(0,s.jsx)(S.nA,{className:"print:p-1",children:(0,s.jsx)(E.E,{variant:"Entregado"===e.status?"default":"secondary",children:e.status})}),(0,s.jsx)(S.nA,{className:"print:p-1",children:J(e.tramiteDate)}),(0,s.jsx)(S.nA,{className:"print:p-1",children:J(e.estimatedDeliveryDate)})]},e.id)):(0,s.jsx)(S.Hj,{children:(0,s.jsx)(S.nA,{colSpan:5,className:"text-center text-muted-foreground print:p-1",children:"No hay permisos requeridos."})})})]})})]})]}),(0,s.jsxs)("div",{className:"grid md:grid-cols-2 print:grid-cols-2 gap-4 print:gap-2 print:mt-1",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"text-lg font-medium mb-2 text-foreground print:text-sm print:mb-1",children:"Detalles de Operaci\xf3n"}),(0,s.jsxs)("div",{className:"space-y-3 p-4 border rounded-md print:border print:p-2 print:space-y-1",children:[(0,s.jsx)(z,{label:"Tipo de Operaci\xf3n",value:c.operationType?c.operationType.charAt(0).toUpperCase()+c.operationType.slice(1):void 0,icon:A.A}),c.operationType&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(z,{label:"Modelo (Patr\xf3n)",value:c.patternRegime}),(0,s.jsx)(z,{label:"Sub-R\xe9gimen",value:c.subRegime})]})]})]}),(0,s.jsx)("div",{children:(0,s.jsxs)("div",{className:"space-y-3 p-4 border rounded-md print:border print:p-2 print:space-y-1",children:[(0,s.jsx)(z,{label:"Es Mancomunada",value:c.isJointOperation}),c.isJointOperation&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(z,{label:"NE Mancomunado",value:c.jointNe,icon:y.A}),(0,s.jsx)(z,{label:"Referencia Mancomunada",value:c.jointReference,icon:D.A})]}),c.dcCorrespondiente&&(0,s.jsxs)("div",{className:"flex items-center gap-2 pt-2 border-t",children:[(0,s.jsx)("p",{className:"text-xs font-medium text-muted-foreground whitespace-nowrap print:text-[8pt]",children:"DC Correspondiente:"}),(0,s.jsx)("p",{className:"text-sm text-foreground print:text-[8pt]",children:c.dcCorrespondiente}),(0,s.jsx)(E.E,{variant:c.isSplit?"destructive":"default",className:"print:text-xs print:px-1 print:py-0",children:c.isSplit?"Split":"Full"})]})]})})]}),(0,s.jsx)("div",{className:"hidden print:block",children:(0,s.jsx)(l.default,{src:"/imagenes/FOOTERSOLICITUDETAIL.svg",alt:"Footer",width:800,height:50,className:"w-full h-auto mt-6",priority:!0})})]}),(0,s.jsxs)(n.wL,{className:"justify-end gap-2 no-print border-t pt-4",children:[(0,s.jsx)(i.$,{asChild:!0,variant:"outline",children:(0,s.jsxs)(R(),{href:"/executive/worksheet?id=".concat(c.id),children:[(0,s.jsx)(k.A,{className:"mr-2 h-4 w-4"})," Editar"]})}),(0,s.jsx)(i.$,{type:"button",onClick:w,variant:"outline",children:"Cerrar"}),(0,s.jsxs)(i.$,{type:"button",onClick:()=>{window.print()},variant:"default",children:[(0,s.jsx)(C.A,{className:"mr-2 h-4 w-4"})," Imprimir"]})]})]})})}}}]);