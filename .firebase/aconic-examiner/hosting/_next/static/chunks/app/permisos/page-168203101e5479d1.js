(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[207],{11186:(e,t,s)=>{"use strict";s.d(t,{bq:()=>u,eb:()=>f,gC:()=>h,l6:()=>c,yv:()=>m});var a=s(95155),r=s(12115),i=s(47887),n=s(59007),l=s(42614),d=s(72251),o=s(64269);let c=i.bL;i.YJ;let m=i.WT,u=r.forwardRef((e,t)=>{let{className:s,children:r,...l}=e;return(0,a.jsxs)(i.l9,{ref:t,className:(0,o.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",s),...l,children:[r,(0,a.jsx)(i.In,{asChild:!0,children:(0,a.jsx)(n.A,{className:"h-4 w-4 opacity-50"})})]})});u.displayName=i.l9.displayName;let x=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(i.PP,{ref:t,className:(0,o.cn)("flex cursor-default items-center justify-center py-1",s),...r,children:(0,a.jsx)(l.A,{className:"h-4 w-4"})})});x.displayName=i.PP.displayName;let p=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(i.wn,{ref:t,className:(0,o.cn)("flex cursor-default items-center justify-center py-1",s),...r,children:(0,a.jsx)(n.A,{className:"h-4 w-4"})})});p.displayName=i.wn.displayName;let h=r.forwardRef((e,t)=>{let{className:s,children:r,position:n="popper",...l}=e;return(0,a.jsx)(i.ZL,{children:(0,a.jsxs)(i.UC,{ref:t,className:(0,o.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===n&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",s),position:n,...l,children:[(0,a.jsx)(x,{}),(0,a.jsx)(i.LM,{className:(0,o.cn)("p-1","popper"===n&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:r}),(0,a.jsx)(p,{})]})})});h.displayName=i.UC.displayName,r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(i.JU,{ref:t,className:(0,o.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",s),...r})}).displayName=i.JU.displayName;let f=r.forwardRef((e,t)=>{let{className:s,children:r,...n}=e;return(0,a.jsxs)(i.q7,{ref:t,className:(0,o.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s),...n,children:[(0,a.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,a.jsx)(i.VF,{children:(0,a.jsx)(d.A,{className:"h-4 w-4"})})}),(0,a.jsx)(i.p4,{children:r})]})});f.displayName=i.q7.displayName,r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(i.wv,{ref:t,className:(0,o.cn)("-mx-1 my-1 h-px bg-muted",s),...r})}).displayName=i.wv.displayName},31120:(e,t,s)=>{"use strict";s.d(t,{T:()=>n});var a=s(95155),r=s(12115),i=s(64269);let n=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("textarea",{className:(0,i.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",s),ref:t,...r})});n.displayName="Textarea"},32383:()=>{},32898:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>ei});var a=s(95155),r=s(12115),i=s(20063),n=s(54901),l=s(35434),d=s(3998),o=s(86948),c=s(87270),m=s(92033),u=s(27500),x=s(58772),p=s(53489),h=s(28813),f=s(91798),j=s(90109),g=s(5468),N=s(72251),v=s(14585),b=s(19708),y=s(65142),w=s(11647),A=s(5282),E=s(48109),k=s(80160),C=s(44385),D=s(18527),R=s(28068),S=s(29653),P=s(62593),T=s(59729),I=s(5225),M=s(44381),F=s(27314),_=s(28127),L=s(52587);let B=e=>{let{label:t,children:s,icon:r}=e;return(0,a.jsxs)("div",{className:"flex justify-between items-start py-2 border-b border-border/50",children:[(0,a.jsxs)("p",{className:"text-sm font-medium text-muted-foreground flex items-center",children:[(0,a.jsx)(r,{className:"h-4 w-4 mr-2"})," ",t]}),(0,a.jsx)("div",{className:"text-sm text-right text-foreground",children:s})]})},G=e=>{if(!e)return"N/A";let t=e.toDate();return(0,A.GP)(t,"dd/MM/yy",{locale:k.es})},z=e=>{var t;let{permit:s,getStatusBadgeVariant:i}=e,[n,l]=(0,r.useState)(!1);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(o.Zp,{className:"w-full",children:[(0,a.jsx)(o.aR,{children:(0,a.jsxs)("div",{className:"flex justify-between items-start",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(o.ZB,{className:"font-bold text-lg text-primary",children:s.name}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:s.ne})]}),(0,a.jsxs)(w.E,{variant:i(s.status),className:"flex items-center gap-1",children:[(0,a.jsx)(()=>{switch(s.status){case"Entregado":return(0,a.jsx)(D.A,{className:"h-4 w-4 text-green-500"});case"Rechazado":return(0,a.jsx)(R.A,{className:"h-4 w-4 text-red-500"});case"En Tr\xe1mite":return(0,a.jsx)(S.A,{className:"h-4 w-4 text-blue-500"});default:return(0,a.jsx)(P.A,{className:"h-4 w-4 text-gray-500"})}},{}),s.status]})]})}),(0,a.jsxs)(o.Wu,{className:"space-y-2",children:[(0,a.jsx)(B,{label:"Consignatario",icon:T.A,children:s.consignee||"N/A"}),(0,a.jsx)(B,{label:"Tipo de Tr\xe1mite",icon:I.A,children:s.tipoTramite||"N/A"}),(0,a.jsx)(B,{label:"Referencia",icon:I.A,children:s.reference||"N/A"}),(0,a.jsx)(B,{label:"Factura Asociada",icon:M.A,children:s.facturaNumber||"N/A"}),(0,a.jsx)(B,{label:"Ejecutivo Asignado",icon:F.A,children:s.assignedExecutive||s.executive}),(0,a.jsx)(B,{label:"Fecha Sometido",icon:_.A,children:G(s.tramiteDate)}),(0,a.jsx)(B,{label:"Fecha Entrega Estimada",icon:_.A,children:G(s.estimatedDeliveryDate)}),(0,a.jsxs)(d.$,{variant:"outline",size:"sm",className:"w-full mt-4",onClick:()=>l(!0),children:[(0,a.jsx)(u.A,{className:"mr-2 h-4 w-4"})," Ver Comentarios (",(null==(t=s.comments)?void 0:t.length)||0,")"]})]})]}),s&&(0,a.jsx)(L.o,{isOpen:n,onClose:()=>l(!1),permit:s,worksheetId:s.ne,onCommentsUpdate:()=>{}})]})};var H=s(15894),q=s(4246),$=s(73457),U=s(51834),W=s(63817),O=s(15239),J=s(36204),V=s(76251),Z=s(54264),X=s.n(Z);let Y=e=>{let{data:t,onClose:s}=e,i=(0,r.useRef)(null);return(0,a.jsx)("div",{className:"bg-background min-h-screen p-4 sm:p-8",id:"printable-area",children:(0,a.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,a.jsxs)("div",{className:"no-print mb-6 flex justify-between items-center",children:[(0,a.jsxs)(d.$,{variant:"outline",onClick:s,children:[(0,a.jsx)(J.A,{className:"mr-2 h-4 w-4"})," Volver"]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsxs)(d.$,{onClick:()=>{if(i.current){let e=i.current;X()(e,{scale:2}).then(e=>{let s=document.createElement("a");s.download="entrega_permisos_".concat(t.recipient.replace(/\s/g,"_"),".jpg"),s.href=e.toDataURL("image/jpeg",.95),s.click()})}},children:[(0,a.jsx)(p.A,{className:"mr-2 h-4 w-4"})," Descargar"]}),(0,a.jsxs)(d.$,{onClick:()=>{window.print()},children:[(0,a.jsx)(V.A,{className:"mr-2 h-4 w-4"})," Imprimir"]})]})]}),(0,a.jsx)("div",{ref:i,children:(0,a.jsxs)(o.Zp,{className:"shadow-lg print:shadow-none print:border-none print:bg-transparent",children:[(0,a.jsxs)(o.aR,{className:"print:p-0",children:[(0,a.jsx)(O.default,{src:"/AconicExaminer/imagenes/HEADERSEXA.svg",alt:"Header",width:800,height:100,className:"w-full h-auto",priority:!0}),(0,a.jsxs)("div",{className:"text-center my-4 print:my-2",children:[(0,a.jsx)("h1",{className:"font-bold text-xl print:text-lg",children:"Entrega de Permisos"}),(0,a.jsxs)("p",{className:"text-sm text-muted-foreground print:text-xs",children:["Generado el: ",(0,A.GP)(new Date,"PPP p",{locale:k.es})]})]})]}),(0,a.jsxs)(o.Wu,{className:"print:p-0",children:[(0,a.jsxs)("div",{className:"text-sm space-y-4 print:text-xs mb-6",children:[(0,a.jsxs)("p",{children:["Estimado/a ",(0,a.jsx)("span",{className:"font-semibold",children:t.recipient}),";"]}),(0,a.jsxs)("p",{children:["Por este medio se hace entrega de los siguientes ",t.permits.length," permisos gestionados:"]})]}),(0,a.jsx)("div",{className:"border rounded-lg overflow-hidden print:border-gray-400",children:(0,a.jsxs)(c.XI,{children:[(0,a.jsx)(c.A0,{children:(0,a.jsxs)(c.Hj,{children:[(0,a.jsx)(c.nd,{className:"print:text-[8pt]",children:"NE"}),(0,a.jsx)(c.nd,{className:"print:text-[8pt]",children:"Consignatario"}),(0,a.jsx)(c.nd,{className:"print:text-[8pt]",children:"Referencia"}),(0,a.jsx)(c.nd,{className:"print:text-[8pt]",children:"Factura"}),(0,a.jsx)(c.nd,{className:"print:text-[8pt]",children:"Permiso"}),(0,a.jsx)(c.nd,{className:"print:text-[8pt]",children:"Tipo Tr\xe1mite"}),(0,a.jsx)(c.nd,{className:"print:text-[8pt]",children:"Fecha Entrega"})]})}),(0,a.jsx)(c.BF,{children:t.permits.map(e=>(0,a.jsxs)(c.Hj,{children:[(0,a.jsx)(c.nA,{className:"font-medium print:text-[8pt] print:p-1",children:e.ne}),(0,a.jsx)(c.nA,{className:"print:text-[8pt] print:p-1",children:e.consignee}),(0,a.jsx)(c.nA,{className:"print:text-[8pt] print:p-1",children:e.reference||"N/A"}),(0,a.jsx)(c.nA,{className:"print:text-[8pt] print:p-1",children:e.facturaNumber||"N/A"}),(0,a.jsx)(c.nA,{className:"print:text-[8pt] print:p-1",children:e.name}),(0,a.jsx)(c.nA,{className:"print:text-[8pt] print:p-1",children:e.tipoTramite||"N/A"}),(0,a.jsx)(c.nA,{className:"print:text-[8pt] print:p-1",children:e.estimatedDeliveryDate?(0,A.GP)(e.estimatedDeliveryDate.toDate(),"dd/MM/yy"):"N/A"})]},e.id))})]})}),(0,a.jsx)("div",{className:"text-sm space-y-4 print:text-xs mt-6",children:(0,a.jsx)("p",{children:"Sin m\xe1s a que hacer referencia, esperando se encuentre bien."})}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4 pt-16 print:pt-12",children:[(0,a.jsx)("div",{children:(0,a.jsx)("div",{className:"border-t-2 border-black pt-2",children:(0,a.jsx)("p",{className:"text-sm text-center font-medium print:text-xs",children:"Firma de Recibido"})})}),(0,a.jsx)("div",{children:(0,a.jsx)("div",{className:"border-t-2 border-black pt-2",children:(0,a.jsx)("p",{className:"text-sm text-center font-medium print:text-xs",children:"Firma de Entregado"})})})]}),(0,a.jsx)(O.default,{src:"/AconicExaminer/imagenes/FOOTERSOLICITUDETAIL.svg",alt:"Footer",width:800,height:50,className:"w-full h-auto mt-12 print:mt-8",priority:!0})]})]})})]})})};var Q=s(64269),K=s(27339);let ee=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e)return"N/A";let s=e.toDate?e.toDate():new Date(e);return s instanceof Date&&!isNaN(s.getTime())?(0,A.GP)(s,t?"dd/MM/yy HH:mm":"dd/MM/yy",{locale:k.es}):"Fecha Inv\xe1lida"};var et=s(76444),es=s(11186),ea=s(11929);let er=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e)return"N/A";let s=e.toDate();return(0,A.GP)(s,t?"dd/MM/yy":"dd/MM/yy HH:mm",{locale:k.es})};function ei(){let{user:e,loading:t}=(0,n.A)(),s=(0,i.useRouter)(),D=(0,C.a)(),{toast:R}=(0,H.dj)(),[S,P]=(0,r.useState)([]),[T,I]=(0,r.useState)(!0),[M,F]=(0,r.useState)(""),[_,B]=(0,r.useState)(!0),[G,O]=(0,r.useState)([]),[J,V]=(0,r.useState)(!1),[Z,X]=(0,r.useState)(""),[ei,en]=(0,r.useState)(null),[el,ed]=(0,r.useState)(!1),[eo,ec]=(0,r.useState)(!1),[em,eu]=(0,r.useState)(!1),[ex,ep]=(0,r.useState)(!1),[eh,ef]=(0,r.useState)(),[ej,eg]=(0,r.useState)(),[eN,ev]=(0,r.useState)(1),[eb,ey]=(0,r.useState)(30),[ew,eA]=(0,r.useState)([]),[eE,ek]=(0,r.useState)(null),[eC,eD]=(0,r.useState)(!1),eR=(0,r.useRef)(null);(0,r.useEffect)(()=>{t||e||s.push("/")},[e,t,s]),(0,r.useEffect)(()=>{if(!e||!e.email)return;(async()=>{if(e&&["admin","supervisor","coordinadora","ejecutivo"].includes(e.role||"")){let t=e.visibilityGroup||[],s=(0,b.P)((0,b.rJ)(v.db,"users"),(0,b._M)("role","in",["ejecutivo","coordinadora"]));eA(Array.from(new Map([...t,...(await (0,b.GG)(s)).docs.map(e=>({uid:e.id,...e.data()}))].map(e=>[e.uid,e])).values()))}})();let t=e=>{let t=[];e.forEach(e=>{let s=e.data();s.requiredPermits&&s.requiredPermits.length>0&&s.requiredPermits.forEach(e=>{t.push({...e,worksheetId:s.id,ne:s.ne,reference:s.reference,executive:s.executive,consignee:s.consignee,worksheetCreatedAt:s.createdAt,eta:s.eta})})}),P(t),I(!1)},s=e=>{console.error("Error fetching permits from worksheets:",e),I(!1)},a=(async()=>{let a;I(!0);let r=(0,b.rJ)(v.db,"worksheets");if("admin"===e.role||"supervisor"===e.role||"coordinadora"===e.role)a=(0,b.P)(r,(0,b.My)("createdAt","desc"));else if("ejecutivo"===e.role&&e.visibilityGroup&&e.visibilityGroup.length>0){let t=Array.from(new Set([e.email,...e.visibilityGroup.map(e=>e.email)])).filter(Boolean);a=(0,b.P)(r,(0,b._M)("createdBy","in",t),(0,b.My)("createdAt","desc"))}else if("invitado"===e.role){let t=(0,b.rJ)(v.db,"users/".concat(e.uid,"/consigneeDirectory")),s=(await (0,b.GG)(t)).docs.map(e=>e.data().name);if(!(s.length>0))return P([]),I(!1),()=>{};a=(0,b.P)(r,(0,b._M)("consignee","in",s),(0,b.My)("createdAt","desc"))}else a=(0,b.P)(r,(0,b._M)("createdBy","==",e.email),(0,b.My)("createdAt","desc"));return(0,b.aQ)(a,t,s)})();return()=>{a.then(e=>e())}},[e]);let eS=(0,r.useMemo)(()=>{let e=S;if(_&&(e=e.filter(e=>"Entregado"!==e.status&&!e.permitDelivery)),M){let t=M.toLowerCase();e=e.filter(e=>{var s,a;return e.ne.toLowerCase().includes(t)||(null==(s=e.reference)?void 0:s.toLowerCase().includes(t))||String(e.facturaNumber).toLowerCase().includes(t)||e.executive.toLowerCase().includes(t)||e.assignedExecutive&&e.assignedExecutive.toLowerCase().includes(t)||e.name.toLowerCase().includes(t)||(null==(a=e.consignee)?void 0:a.toLowerCase().includes(t))})}return e.sort((e,t)=>{var s,a,r,i;return(null!=(r=null==(s=t.worksheetCreatedAt)?void 0:s.toMillis())?r:0)-(null!=(i=null==(a=e.worksheetCreatedAt)?void 0:a.toMillis())?i:0)}),e},[S,M,_]),eP=Math.ceil(eS.length/eb),eT=(0,r.useMemo)(()=>{let e=(eN-1)*eb,t=e+eb;return eS.slice(e,t)},[eS,eN,eb]),eI=e=>{switch(e){case"Entregado":case"Aprobado":return"default";case"Rechazado":return"destructive";case"En Tr\xe1mite":case"Sometido de Nuevo":return"secondary";default:return"outline"}},eM=async e=>{var t;let s=null==(t=e.target.files)?void 0:t[0];if(!s)return;eD(!0),R({title:"Importando...",description:"Procesando el archivo Excel."});let a=new FileReader;a.onload=async e=>{try{var t,s,a;let r=new Uint8Array(null==(t=e.target)?void 0:t.result),i=q.LF(r,{type:"array"}),n=i.SheetNames[0],l=i.Sheets[n],d=q.Wp.sheet_to_json(l),o=(0,b.wP)(v.db),c=0,m=0;for(let e of d){let t=null==(s=e.NE)?void 0:s.toString().trim(),r=null==(a=e.Permiso)?void 0:a.toString().trim();if(!t||!r){m++;continue}let i=(0,b.H9)(v.db,"worksheets",t),n=await (0,b.x7)(i);if(n.exists()){let t=n.data(),s=t.requiredPermits||[],a=s.findIndex(e=>e.name===r),l=e=>{if(null==e||""===String(e).trim()||"N/A"===String(e).trim().toUpperCase())return null;let t=new Date("number"==typeof e?Date.UTC(0,0,e-1):e);return isNaN(t.getTime())?null:b.Dc.fromDate(t)},d={name:r,facturaNumber:e["Factura Asociada"]||void 0,status:e.Estado||"Pendiente",recibo:e.Recibo||void 0,tramiteDate:l(e["Fecha Sometido"]),estimatedDeliveryDate:l(e["Fecha Retiro Estimada"]),assignedExecutive:e["Ejecutivo Asignado"]||t.executive,tipoTramite:e["Tipo de Tr\xe1mite"]||void 0};Object.keys(d).forEach(e=>void 0===d[e]&&delete d[e]),-1!==a?s[a]={...s[a],...d}:s.push({id:(0,ea.A)(),...d});let m=l(e.ETA),u={requiredPermits:s};m&&(u.eta=m),e.Consignatario&&(u.consignee=e.Consignatario),o.update(i,u),c++}else m++}c>0?(await o.commit(),R({title:"Importaci\xf3n Completa",description:"".concat(c," registros de permisos han sido actualizados/a\xf1adidos. ").concat(m>0?"".concat(m," filas omitidas (NE no encontrado)."):"")})):R({title:"Sin Cambios",description:"No se encontraron NEs coincidentes en el archivo para actualizar. Se omitieron ".concat(m," filas.")})}catch(e){console.error("Error al importar el archivo: ",e),R({title:"Error de Importaci\xf3n",description:e.message||"Hubo un problema al leer el archivo Excel.",variant:"destructive"})}finally{eD(!1),eR.current&&(eR.current.value="")}},a.readAsArrayBuffer(s)},eF=async()=>{if(!Z)return void R({title:"Error",description:"Por favor, seleccione un destinatario.",variant:"destructive"});if(!e||!e.displayName)return;ed(!0);let t=S.filter(e=>G.includes(e.id)),s=(0,b.wP)(v.db),a=new Map;for(let s of t){if(!a.has(s.worksheetId)){let e=await (0,b.x7)((0,b.H9)(v.db,"worksheets",s.worksheetId));e.exists()&&a.set(s.worksheetId,e.data().requiredPermits||[])}let t=a.get(s.worksheetId);if(t){let a=t.findIndex(e=>e.id===s.id);-1!==a&&(t[a]={...t[a],status:"Entregado",permitDelivery:{deliveredTo:Z,deliveredBy:e.displayName,deliveredAt:b.Dc.now()}})}}a.forEach((e,t)=>{let a=(0,b.H9)(v.db,"worksheets",t);s.update(a,{requiredPermits:e})});try{await s.commit(),en({permits:t,recipient:Z}),V(!1),O([]),R({title:"Entrega Registrada",description:"".concat(t.length," permisos marcados como entregados.")})}catch(e){console.error("Error confirming delivery: ",e),R({title:"Error",description:"No se pudo registrar la entrega.",variant:"destructive"})}finally{ed(!1)}},e_=async()=>{if(0===G.length||!eh&&!ej)return void R({title:"Sin cambios",description:"Seleccione al menos un permiso y una fecha para actualizar."});ed(!0);let e=(0,b.wP)(v.db),t=new Map;for(let e of S.filter(e=>G.includes(e.id))){if(!t.has(e.worksheetId)){let s=await (0,b.x7)((0,b.H9)(v.db,"worksheets",e.worksheetId));s.exists()&&t.set(e.worksheetId,s.data().requiredPermits||[])}let s=t.get(e.worksheetId);if(s){let t=s.findIndex(t=>t.id===e.id);if(-1!==t){let e={...s[t]};eh&&(e.tramiteDate=b.Dc.fromDate(eh)),ej&&(e.estimatedDeliveryDate=b.Dc.fromDate(ej)),s[t]=e}}}t.forEach((t,s)=>{let a={requiredPermits:t.map(e=>({...e,tramiteDate:e.tramiteDate||null,estimatedDeliveryDate:e.estimatedDeliveryDate||null}))};e.update((0,b.H9)(v.db,"worksheets",s),a)});try{await e.commit(),R({title:"Actualizaci\xf3n Exitosa",description:"".concat(G.length," permisos han sido actualizados.")}),eu(!1),O([]),ef(void 0),eg(void 0)}catch(e){console.error("Error bulk updating permits:",e),R({title:"Error",description:"No se pudieron actualizar los permisos.",variant:"destructive"})}finally{ed(!1)}},eL=async e=>{if(0===G.length)return;ed(!0);let t=(0,b.wP)(v.db),s=new Map;for(let t of S.filter(e=>G.includes(e.id))){if(!s.has(t.worksheetId)){let e=await (0,b.x7)((0,b.H9)(v.db,"worksheets",t.worksheetId));e.exists()&&s.set(t.worksheetId,e.data().requiredPermits||[])}let a=s.get(t.worksheetId);if(a){let s=a.findIndex(e=>e.id===t.id);-1!==s&&(a[s].status=e)}}s.forEach((e,s)=>{t.update((0,b.H9)(v.db,"worksheets",s),{requiredPermits:e})});try{await t.commit(),R({title:"Actualizaci\xf3n Exitosa",description:"".concat(G.length," permisos han cambiado a '").concat(e,"'.")}),O([])}catch(e){R({title:"Error",description:"No se pudieron actualizar los estados.",variant:"destructive"})}finally{ed(!1),ep(!1)}};return t||!e?(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-background",children:(0,a.jsx)(m.A,{className:"h-12 w-12 animate-spin text-primary"})}):ei?(0,a.jsx)(Y,{data:ei,onClose:()=>en(null)}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(l.G,{children:(0,a.jsx)("div",{className:"py-2 md:py-5",children:(0,a.jsxs)(o.Zp,{className:"w-full max-w-screen-2xl mx-auto custom-shadow",children:[(0,a.jsxs)(o.aR,{children:[(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between sm:items-center gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(o.ZB,{className:"text-2xl font-semibold",children:"Gesti\xf3n de Permisos"}),(0,a.jsx)(o.BT,{children:"Seguimiento del estado de todos los permisos requeridos."})]}),(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row gap-2",children:[(0,a.jsx)("input",{type:"file",ref:eR,onChange:eM,className:"hidden",accept:".xlsx, .xls"}),(0,a.jsxs)(d.$,{onClick:()=>{var e;return null==(e=eR.current)?void 0:e.click()},variant:"outline",disabled:eC,children:[eC?(0,a.jsx)(m.A,{className:"mr-2 h-4 w-4 animate-spin"}):(0,a.jsx)(x.A,{className:"mr-2 h-4 w-4"}),"Importar"]}),(0,a.jsxs)(d.$,{onClick:()=>{let e=q.Wp.aoa_to_sheet([["ETA","NE","Consignatario","Factura Asociada","Permiso","Tipo de Tr\xe1mite","Estado","Recibo","Ejecutivo Asignado","Fecha Sometido","Fecha Retiro Estimada"]]),t=q.Wp.book_new();q.Wp.book_append_sheet(t,e,"Plantilla Permisos"),q._h(t,"plantilla_permisos.xlsx")},variant:"outline",children:[(0,a.jsx)(p.A,{className:"mr-2 h-4 w-4"})," Plantilla"]}),(0,a.jsxs)(d.$,{onClick:()=>eu(!0),variant:"outline",disabled:0===G.length,children:[(0,a.jsx)(h.A,{className:"mr-2 h-4 w-4"})," Modificaci\xf3n Masiva (",G.length,")"]}),(0,a.jsxs)(d.$,{onClick:()=>ep(!0),variant:"outline",disabled:0===G.length,children:[(0,a.jsx)(h.A,{className:"mr-2 h-4 w-4"})," Asignar Estatus (",G.length,")"]}),(0,a.jsxs)(d.$,{onClick:()=>{if(0===eS.length)return void R({title:"Sin Datos",description:"No hay permisos para exportar.",variant:"secondary"});ec(!0),(e=>{let t=new Date,s=(0,A.GP)(t,"dd/MM/yy HH:mm",{locale:k.es}),a=["NE","Consignatario","ETA","Referencia","Factura Asociada","Permiso","Tipo de Tr\xe1mite","Estado","Recibo","Ejecutivo Asignado","Fecha Sometido","Fecha Retiro Estimada","Entregado a","Fecha de Remisi\xf3n"],r=e.map(e=>{var t,s;return[e.ne,e.consignee||"N/A",ee(e.eta,!1),e.reference||"N/A",e.facturaNumber||"N/A",e.name,e.tipoTramite||"N/A",e.status,e.recibo||"N/A",e.assignedExecutive||e.executive,ee(e.tramiteDate,!1),ee(e.estimatedDeliveryDate,!1),(null==(t=e.permitDelivery)?void 0:t.deliveredTo)||"Pendiente",ee(null==(s=e.permitDelivery)?void 0:s.deliveredAt,!0)]}),i=[["Reporte de Gesti\xf3n de Permisos"],["Generado el: ".concat(s)],[],a,...r],n=q.Wp.aoa_to_sheet(i),l=a.map((e,t)=>({wch:Math.max(e.length,...r.map(e=>String(e[t]||"").length))+2}));n["!cols"]=l;let d=q.Wp.book_new();q.Wp.book_append_sheet(d,n,"Reporte Permisos"),q._h(d,"Reporte_Permisos_".concat(t.toISOString().split("T")[0],".xlsx"))})(eS),ec(!1)},variant:"outline",disabled:eo,children:[eo?(0,a.jsx)(m.A,{className:"mr-2 h-4 w-4 animate-spin"}):(0,a.jsx)(p.A,{className:"mr-2 h-4 w-4"}),"Exportar a Excel"]}),(0,a.jsxs)(d.$,{onClick:()=>V(!0),disabled:0===G.length,children:[(0,a.jsx)(f.A,{className:"mr-2 h-4 w-4"})," Generar Entrega (",G.length,")"]})]})]}),(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row items-center space-x-4 pt-4 border-t mt-4",children:[(0,a.jsxs)("div",{className:"relative flex-grow w-full sm:w-auto",children:[(0,a.jsx)(j.A,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground"}),(0,a.jsx)(y.p,{placeholder:"Buscar en todos los campos...",className:"pl-10 w-full",value:M,onChange:e=>F(e.target.value)})]}),(0,a.jsxs)(d.$,{variant:_?"secondary":"ghost",onClick:()=>B(!_),className:"w-full sm:w-auto",children:[(0,a.jsx)(g.A,{className:"mr-2 h-4 w-4"}),_?"Pendientes de Entrega":"Viendo Todos"]})]})]}),(0,a.jsxs)(o.Wu,{children:[T?(0,a.jsx)("div",{className:"flex justify-center items-center py-10",children:(0,a.jsx)(m.A,{className:"h-8 w-8 animate-spin text-primary"})}):0===eT.length?(0,a.jsx)("div",{className:"text-center py-10 px-6 bg-secondary/30 rounded-lg",children:(0,a.jsx)("p",{className:"mt-1 text-muted-foreground",children:"No se encontraron permisos con los filtros actuales."})}):D?(0,a.jsx)("div",{className:"space-y-4",children:eT.map(e=>(0,a.jsx)(z,{permit:e,getStatusBadgeVariant:eI},"".concat(e.worksheetId,"-").concat(e.id)))}):(0,a.jsx)("div",{className:"overflow-x-auto table-container rounded-lg border",children:(0,a.jsxs)(c.XI,{children:[(0,a.jsx)(c.A0,{children:(0,a.jsxs)(c.Hj,{children:[(0,a.jsx)(c.nd,{className:"w-12",children:(0,a.jsx)($.S,{checked:G.length>0&&G.length===eT.length,onCheckedChange:()=>{G.length===eT.length?O([]):O(eT.map(e=>e.id))}})}),(0,a.jsx)(c.nd,{children:"Fecha de Reporte"}),(0,a.jsx)(c.nd,{children:"ETA"}),(0,a.jsx)(c.nd,{children:"Referencia"}),(0,a.jsx)(c.nd,{children:"NE"}),(0,a.jsx)(c.nd,{children:"Consignatario"}),(0,a.jsx)(c.nd,{children:"Factura Asociada"}),(0,a.jsx)(c.nd,{children:"Permiso"}),(0,a.jsx)(c.nd,{children:"Tipo de Tr\xe1mite"}),(0,a.jsx)(c.nd,{children:"Estado"}),(0,a.jsx)(c.nd,{children:"Recibo"}),(0,a.jsx)(c.nd,{children:"Ejecutivo Asignado"}),(0,a.jsx)(c.nd,{children:"Fecha Sometido"}),(0,a.jsx)(c.nd,{children:"Fecha Retiro Estimada"}),(0,a.jsx)(c.nd,{children:"Comentarios"}),(0,a.jsx)(c.nd,{children:"Entregado a"}),(0,a.jsx)(c.nd,{children:"Fecha de Remisi\xf3n"})]})}),(0,a.jsx)(c.BF,{children:eT.map(e=>{var t;let s=e.estimatedDeliveryDate?(0,E.c)(e.estimatedDeliveryDate.toDate(),new Date):null,r=(0,Q.cn)("Entregado"!==e.status&&null!==s&&s<=3&&"bg-yellow-100 dark:bg-yellow-900/30");return(0,a.jsxs)(c.Hj,{className:r,children:[(0,a.jsx)(c.nA,{children:(0,a.jsx)($.S,{checked:G.includes(e.id),onCheckedChange:()=>{O(t=>t.includes(e.id)?t.filter(t=>t!==e.id):[...t,e.id])}})}),(0,a.jsx)(c.nA,{className:"font-medium",children:er(e.worksheetCreatedAt,!1)}),(0,a.jsx)(c.nA,{className:"font-medium",children:er(e.eta,!1)}),(0,a.jsx)(c.nA,{children:e.reference||"N/A"}),(0,a.jsx)(c.nA,{className:"font-medium",children:e.ne}),(0,a.jsx)(c.nA,{children:e.consignee}),(0,a.jsx)(c.nA,{children:e.facturaNumber||"N/A"}),(0,a.jsx)(c.nA,{children:e.name}),(0,a.jsx)(c.nA,{children:e.tipoTramite||"N/A"}),(0,a.jsx)(c.nA,{children:(0,a.jsx)(w.E,{variant:eI(e.status),children:e.status})}),(0,a.jsx)(c.nA,{children:e.recibo||"N/A"}),(0,a.jsx)(c.nA,{children:e.assignedExecutive||e.executive}),(0,a.jsx)(c.nA,{children:er(e.tramiteDate,!1)}),(0,a.jsx)(c.nA,{children:er(e.estimatedDeliveryDate,!1)}),(0,a.jsx)(c.nA,{children:(0,a.jsxs)(d.$,{variant:"ghost",size:"icon",onClick:()=>ek({permit:e,index:-1}),children:[(0,a.jsx)(u.A,{className:"h-4 w-4"}),e.comments&&e.comments.length>0&&(0,a.jsx)(w.E,{variant:"destructive",className:"absolute -top-1 -right-1 h-4 w-4 p-0 justify-center text-xs",children:e.comments.length})]})}),(0,a.jsx)(c.nA,{children:e.permitDelivery?(0,a.jsx)(w.E,{className:"bg-blue-100 text-blue-700",children:e.permitDelivery.deliveredTo}):(0,a.jsx)(w.E,{variant:"outline",children:"Pendiente"})}),(0,a.jsx)(c.nA,{children:er(null==(t=e.permitDelivery)?void 0:t.deliveredAt,!0)})]},"".concat(e.worksheetId,"-").concat(e.id))})})]})}),(0,a.jsxs)("div",{className:"flex items-center justify-between space-x-2 py-4",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("p",{className:"text-sm font-medium",children:"Filas por p\xe1gina"}),(0,a.jsxs)(es.l6,{value:"".concat(eb),onValueChange:e=>{ey(Number(e)),ev(1)},children:[(0,a.jsx)(es.bq,{className:"h-8 w-[70px]",children:(0,a.jsx)(es.yv,{placeholder:eb})}),(0,a.jsx)(es.gC,{side:"top",children:[30,40,50].map(e=>(0,a.jsx)(es.eb,{value:"".concat(e),children:e},e))})]})]}),(0,a.jsxs)("div",{className:"text-sm text-muted-foreground",children:["Total de permisos: ",eS.length]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsxs)("span",{className:"text-sm",children:["P\xe1gina ",eN," de ",eP]}),(0,a.jsx)(d.$,{variant:"outline",size:"sm",onClick:()=>ev(e=>Math.max(e-1,1)),disabled:1===eN,children:"Anterior"}),(0,a.jsx)(d.$,{variant:"outline",size:"sm",onClick:()=>ev(e=>Math.min(e+1,eP)),disabled:eN===eP,children:"Siguiente"})]})]})]})]})})}),eE&&(0,a.jsx)(L.o,{isOpen:!!eE,onClose:()=>ek(null),permit:eE.permit,worksheetId:eE.permit.worksheetId,onCommentsUpdate:()=>{}}),(0,a.jsx)(U.lG,{open:J,onOpenChange:V,children:(0,a.jsxs)(U.Cf,{children:[(0,a.jsxs)(U.c7,{children:[(0,a.jsx)(U.L3,{children:"Confirmar Entrega de Permisos"}),(0,a.jsxs)(U.rr,{children:["Seleccione la persona que recibe los ",G.length," permisos seleccionados."]})]}),(0,a.jsx)("div",{className:"py-4",children:(0,a.jsxs)(W.uB,{className:"rounded-lg border shadow-sm",children:[(0,a.jsx)(W.G7,{placeholder:"Buscar persona..."}),(0,a.jsxs)(W.oI,{children:[(0,a.jsx)(W.xL,{children:"No se encontr\xf3 persona."}),(0,a.jsx)(W.L$,{children:ew.map(e=>(0,a.jsxs)(W.h_,{value:e.displayName||"",onSelect:t=>{X(t===Z?"":e.displayName||"")},children:[(0,a.jsx)(N.A,{className:(0,Q.cn)("mr-2 h-4 w-4",Z===e.displayName?"opacity-100":"opacity-0")}),e.displayName]},e.uid))})]})]})}),(0,a.jsxs)(U.Es,{className:"pt-4",children:[(0,a.jsx)(d.$,{variant:"outline",onClick:()=>V(!1),children:"Cancelar"}),(0,a.jsxs)(d.$,{onClick:eF,disabled:!Z||el,children:[el&&(0,a.jsx)(m.A,{className:"mr-2 h-4 w-4 animate-spin"}),"Confirmar y Generar Ticket"]})]})]})}),(0,a.jsx)(U.lG,{open:em,onOpenChange:eu,children:(0,a.jsxs)(U.Cf,{children:[(0,a.jsxs)(U.c7,{children:[(0,a.jsx)(U.L3,{children:"Actualizaci\xf3n Masiva de Fechas"}),(0,a.jsxs)(U.rr,{children:["Seleccione las fechas que desea aplicar a los ",G.length," permisos seleccionados. Los campos que deje en blanco no se modificar\xe1n."]})]}),(0,a.jsxs)("div",{className:"space-y-4 py-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(et.J,{children:"Fecha de Tr\xe1mite"}),(0,a.jsx)(K.l,{date:eh,onDateChange:ef})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(et.J,{children:"Fecha de Retiro (Estimada)"}),(0,a.jsx)(K.l,{date:ej,onDateChange:eg})]})]}),(0,a.jsxs)(U.Es,{children:[(0,a.jsx)(d.$,{variant:"outline",onClick:()=>eu(!1),children:"Cancelar"}),(0,a.jsxs)(d.$,{onClick:e_,disabled:el,children:[el&&(0,a.jsx)(m.A,{className:"mr-2 h-4 w-4 animate-spin"}),"Aplicar Cambios"]})]})]})}),(0,a.jsx)(U.lG,{open:ex,onOpenChange:ep,children:(0,a.jsxs)(U.Cf,{children:[(0,a.jsxs)(U.c7,{children:[(0,a.jsx)(U.L3,{children:"Actualizaci\xf3n Masiva de Estado"}),(0,a.jsxs)(U.rr,{children:["Seleccione el estatus a aplicar a los ",G.length," permisos seleccionados."]})]}),(0,a.jsx)("div",{className:"py-4",children:(0,a.jsxs)(es.l6,{onValueChange:e=>eL(e),children:[(0,a.jsx)(es.bq,{children:(0,a.jsx)(es.yv,{placeholder:"Seleccionar nuevo estado..."})}),(0,a.jsxs)(es.gC,{children:[(0,a.jsx)(es.eb,{value:"Pendiente",children:"Pendiente"}),(0,a.jsx)(es.eb,{value:"En Tr\xe1mite",children:"En Tr\xe1mite"}),(0,a.jsx)(es.eb,{value:"Entregado",children:"Entregado"}),(0,a.jsx)(es.eb,{value:"Rechazado",children:"Rechazado"}),(0,a.jsx)(es.eb,{value:"Sometido de Nuevo",children:"Sometido de Nuevo"}),(0,a.jsx)(es.eb,{value:"Aprobado",children:"Aprobado"})]})]})}),(0,a.jsx)(U.Es,{children:(0,a.jsx)(d.$,{variant:"outline",onClick:()=>ep(!1),children:"Cancelar"})})]})})]})}},44385:(e,t,s)=>{"use strict";s.d(t,{a:()=>r});var a=s(12115);function r(){let[e,t]=a.useState(void 0);return a.useEffect(()=>{let e=window.matchMedia("(max-width: ".concat(767,"px)")),s=()=>{t(window.innerWidth<768)};return e.addEventListener("change",s),t(window.innerWidth<768),()=>e.removeEventListener("change",s)},[]),!!e}},51834:(e,t,s)=>{"use strict";s.d(t,{Cf:()=>m,Es:()=>x,HM:()=>o,L3:()=>p,c7:()=>u,lG:()=>l,rr:()=>h});var a=s(95155),r=s(12115),i=s(89511),n=s(64269);let l=i.bL;i.l9;let d=i.ZL,o=i.bm,c=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(i.hJ,{ref:t,className:(0,n.cn)("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",s),...r})});c.displayName=i.hJ.displayName;let m=r.forwardRef((e,t)=>{let{className:s,children:r,...l}=e;return(0,a.jsxs)(d,{children:[(0,a.jsx)(c,{}),(0,a.jsxs)(i.UC,{ref:t,className:(0,n.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",s),...l,children:[r,(0,a.jsx)(i.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:(0,a.jsx)("span",{className:"sr-only",children:"Close"})})]})]})});m.displayName=i.UC.displayName;let u=e=>{let{className:t,...s}=e;return(0,a.jsx)("div",{className:(0,n.cn)("flex flex-col space-y-1.5 text-center sm:text-left",t),...s})};u.displayName="DialogHeader";let x=e=>{let{className:t,...s}=e;return(0,a.jsx)("div",{className:(0,n.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...s})};x.displayName="DialogFooter";let p=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(i.hE,{ref:t,className:(0,n.cn)("text-lg font-semibold leading-none tracking-tight",s),...r})});p.displayName=i.hE.displayName;let h=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(i.VY,{ref:t,className:(0,n.cn)("text-sm text-muted-foreground",s),...r})});h.displayName=i.VY.displayName},63817:(e,t,s)=>{"use strict";s.d(t,{G7:()=>o,L$:()=>u,h_:()=>x,oI:()=>c,uB:()=>d,xL:()=>m});var a=s(95155),r=s(12115),i=s(41808),n=s(90109),l=s(64269);s(51834);let d=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(i.uB,{ref:t,className:(0,l.cn)("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",s),...r})});d.displayName=i.uB.displayName;let o=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsxs)("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[(0,a.jsx)(n.A,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),(0,a.jsx)(i.uB.Input,{ref:t,className:(0,l.cn)("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",s),...r})]})});o.displayName=i.uB.Input.displayName;let c=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(i.uB.List,{ref:t,className:(0,l.cn)("max-h-[300px] overflow-y-auto overflow-x-hidden",s),...r})});c.displayName=i.uB.List.displayName;let m=r.forwardRef((e,t)=>(0,a.jsx)(i.uB.Empty,{ref:t,className:"py-6 text-center text-sm",...e}));m.displayName=i.uB.Empty.displayName;let u=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(i.uB.Group,{ref:t,className:(0,l.cn)("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",s),...r})});u.displayName=i.uB.Group.displayName,r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(i.uB.Separator,{ref:t,className:(0,l.cn)("-mx-1 h-px bg-border",s),...r})}).displayName=i.uB.Separator.displayName;let x=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(i.uB.Item,{ref:t,className:(0,l.cn)("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none aria-selected:bg-accent aria-selected:text-accent-foreground data-[disabled='true']:pointer-events-none data-[disabled='true']:opacity-50",s),...r})});x.displayName=i.uB.Item.displayName},65142:(e,t,s)=>{"use strict";s.d(t,{p:()=>n});var a=s(95155),r=s(12115),i=s(64269);let n=r.forwardRef((e,t)=>{let{className:s,type:r,...n}=e;return(0,a.jsx)("input",{type:r,className:(0,i.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","aria-[invalid=true]:border-destructive aria-[invalid=true]:ring-destructive",s),ref:t,...n})});n.displayName="Input"},73457:(e,t,s)=>{"use strict";s.d(t,{S:()=>d});var a=s(95155),r=s(12115),i=s(38162),n=s(72251),l=s(64269);let d=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(i.bL,{ref:t,className:(0,l.cn)("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",s),...r,children:(0,a.jsx)(i.C1,{className:(0,l.cn)("flex items-center justify-center text-current"),children:(0,a.jsx)(n.A,{className:"h-4 w-4"})})})});d.displayName=i.bL.displayName},74864:(e,t,s)=>{Promise.resolve().then(s.bind(s,32898))},76444:(e,t,s)=>{"use strict";s.d(t,{J:()=>o});var a=s(95155),r=s(12115),i=s(10489),n=s(83101),l=s(64269);let d=(0,n.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),o=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(i.b,{ref:t,className:(0,l.cn)(d(),s),...r})});o.displayName=i.b.displayName},83686:()=>{},87270:(e,t,s)=>{"use strict";s.d(t,{A0:()=>l,BF:()=>d,Hj:()=>o,XI:()=>n,nA:()=>m,nd:()=>c});var a=s(95155),r=s(12115),i=s(64269);let n=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{className:"relative w-full overflow-auto",children:(0,a.jsx)("table",{ref:t,className:(0,i.cn)("w-full caption-bottom text-sm",s),...r})})});n.displayName="Table";let l=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("thead",{ref:t,className:(0,i.cn)("[&_tr]:border-b",s),...r})});l.displayName="TableHeader";let d=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("tbody",{ref:t,className:(0,i.cn)("[&_tr:last-child]:border-0",s),...r})});d.displayName="TableBody",r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("tfoot",{ref:t,className:(0,i.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",s),...r})}).displayName="TableFooter";let o=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("tr",{ref:t,className:(0,i.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",s),...r})});o.displayName="TableRow";let c=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("th",{ref:t,className:(0,i.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",s),...r})});c.displayName="TableHead";let m=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("td",{ref:t,className:(0,i.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",s),...r})});m.displayName="TableCell",r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("caption",{ref:t,className:(0,i.cn)("mt-4 text-sm text-muted-foreground",s),...r})}).displayName="TableCaption"}},e=>{e.O(0,[2992,7138,3524,4316,4865,9255,3744,5282,9351,3504,6505,9459,5479,5171,7089,8441,1255,7358],()=>e(e.s=74864)),_N_E=e.O()}]);