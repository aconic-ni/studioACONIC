(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[207],{5225:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(14294).A)("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]])},27500:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(14294).A)("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]])},27538:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>en});var s=a(95155),r=a(12115),i=a(20063),n=a(54901),l=a(35434),d=a(3998),o=a(86948),c=a(87270),m=a(92033),u=a(27500),h=a(58772),x=a(53489),p=a(28813),f=a(14294);let j=(0,f.A)("GitCommitHorizontal",[["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}],["line",{x1:"3",x2:"9",y1:"12",y2:"12",key:"1dyftd"}],["line",{x1:"15",x2:"21",y1:"12",y2:"12",key:"oup4p8"}]]);var y=a(90109);let g=(0,f.A)("SlidersHorizontal",[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]]);var v=a(72251),N=a(14585),b=a(19708),w=a(65142),k=a(11647),A=a(5282),E=a(48109),C=a(80160),D=a(44385),S=a(18527),M=a(28068),R=a(29653),P=a(62593),T=a(59729),I=a(5225),F=a(44381),_=a(27314),H=a(28127),L=a(52587);let z=e=>{let{label:t,children:a,icon:r}=e;return(0,s.jsxs)("div",{className:"flex justify-between items-start py-2 border-b border-border/50",children:[(0,s.jsxs)("p",{className:"text-sm font-medium text-muted-foreground flex items-center",children:[(0,s.jsx)(r,{className:"h-4 w-4 mr-2"})," ",t]}),(0,s.jsx)("div",{className:"text-sm text-right text-foreground",children:a})]})},B=e=>{if(!e)return"N/A";let t=e.toDate();return(0,A.GP)(t,"dd/MM/yy",{locale:C.es})},G=e=>{var t;let{permit:a,getStatusBadgeVariant:i}=e,[n,l]=(0,r.useState)(!1);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(o.Zp,{className:"w-full",children:[(0,s.jsx)(o.aR,{children:(0,s.jsxs)("div",{className:"flex justify-between items-start",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(o.ZB,{className:"font-bold text-lg text-primary",children:a.name}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:a.ne})]}),(0,s.jsxs)(k.E,{variant:i(a.status),className:"flex items-center gap-1",children:[(0,s.jsx)(()=>{switch(a.status){case"Entregado":return(0,s.jsx)(S.A,{className:"h-4 w-4 text-green-500"});case"Rechazado":return(0,s.jsx)(M.A,{className:"h-4 w-4 text-red-500"});case"En Tr\xe1mite":return(0,s.jsx)(R.A,{className:"h-4 w-4 text-blue-500"});default:return(0,s.jsx)(P.A,{className:"h-4 w-4 text-gray-500"})}},{}),a.status]})]})}),(0,s.jsxs)(o.Wu,{className:"space-y-2",children:[(0,s.jsx)(z,{label:"Consignatario",icon:T.A,children:a.consignee||"N/A"}),(0,s.jsx)(z,{label:"Tipo de Tr\xe1mite",icon:I.A,children:a.tipoTramite||"N/A"}),(0,s.jsx)(z,{label:"Referencia",icon:I.A,children:a.reference||"N/A"}),(0,s.jsx)(z,{label:"Factura Asociada",icon:F.A,children:a.facturaNumber||"N/A"}),(0,s.jsx)(z,{label:"Ejecutivo Asignado",icon:_.A,children:a.assignedExecutive||a.executive}),(0,s.jsx)(z,{label:"Fecha Sometido",icon:H.A,children:B(a.tramiteDate)}),(0,s.jsx)(z,{label:"Fecha Entrega Estimada",icon:H.A,children:B(a.estimatedDeliveryDate)}),(0,s.jsxs)(d.$,{variant:"outline",size:"sm",className:"w-full mt-4",onClick:()=>l(!0),children:[(0,s.jsx)(u.A,{className:"mr-2 h-4 w-4"})," Ver Comentarios (",(null==(t=a.comments)?void 0:t.length)||0,")"]})]})]}),a&&(0,s.jsx)(L.o,{isOpen:n,onClose:()=>l(!1),permit:a,worksheetId:a.ne,onCommentsUpdate:()=>{}})]})};var q=a(15894),$=a(4246),O=a(73457),V=a(51834),W=a(63817),U=a(15239),Z=a(36204),J=a(76251),X=a(54264),K=a.n(X);let Y=e=>{let{data:t,onClose:a}=e,i=(0,r.useRef)(null);return(0,s.jsx)("div",{className:"bg-background min-h-screen p-4 sm:p-8",id:"printable-area",children:(0,s.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,s.jsxs)("div",{className:"no-print mb-6 flex justify-between items-center",children:[(0,s.jsxs)(d.$,{variant:"outline",onClick:a,children:[(0,s.jsx)(Z.A,{className:"mr-2 h-4 w-4"})," Volver"]}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsxs)(d.$,{onClick:()=>{if(i.current){let e=i.current;K()(e,{scale:2}).then(e=>{let a=document.createElement("a");a.download="entrega_permisos_".concat(t.recipient.replace(/\s/g,"_"),".jpg"),a.href=e.toDataURL("image/jpeg",.95),a.click()})}},children:[(0,s.jsx)(x.A,{className:"mr-2 h-4 w-4"})," Descargar"]}),(0,s.jsxs)(d.$,{onClick:()=>{window.print()},children:[(0,s.jsx)(J.A,{className:"mr-2 h-4 w-4"})," Imprimir"]})]})]}),(0,s.jsx)("div",{ref:i,children:(0,s.jsxs)(o.Zp,{className:"shadow-lg print:shadow-none print:border-none print:bg-transparent",children:[(0,s.jsxs)(o.aR,{className:"print:p-0",children:[(0,s.jsx)(U.default,{src:"/AconicExaminer/imagenes/HEADERSEXA.svg",alt:"Header",width:800,height:100,className:"w-full h-auto",priority:!0}),(0,s.jsxs)("div",{className:"text-center my-4 print:my-2",children:[(0,s.jsx)("h1",{className:"font-bold text-xl print:text-lg",children:"Entrega de Permisos"}),(0,s.jsxs)("p",{className:"text-sm text-muted-foreground print:text-xs",children:["Generado el: ",(0,A.GP)(new Date,"PPP p",{locale:C.es})]})]})]}),(0,s.jsxs)(o.Wu,{className:"print:p-0",children:[(0,s.jsxs)("div",{className:"text-sm space-y-4 print:text-xs mb-6",children:[(0,s.jsxs)("p",{children:["Estimado/a ",(0,s.jsx)("span",{className:"font-semibold",children:t.recipient}),";"]}),(0,s.jsxs)("p",{children:["Por este medio se hace entrega de los siguientes ",t.permits.length," permisos gestionados:"]})]}),(0,s.jsx)("div",{className:"border rounded-lg overflow-hidden print:border-gray-400",children:(0,s.jsxs)(c.XI,{children:[(0,s.jsx)(c.A0,{children:(0,s.jsxs)(c.Hj,{children:[(0,s.jsx)(c.nd,{className:"print:text-[8pt]",children:"NE"}),(0,s.jsx)(c.nd,{className:"print:text-[8pt]",children:"Consignatario"}),(0,s.jsx)(c.nd,{className:"print:text-[8pt]",children:"Referencia"}),(0,s.jsx)(c.nd,{className:"print:text-[8pt]",children:"Factura"}),(0,s.jsx)(c.nd,{className:"print:text-[8pt]",children:"Permiso"}),(0,s.jsx)(c.nd,{className:"print:text-[8pt]",children:"Tipo Tr\xe1mite"}),(0,s.jsx)(c.nd,{className:"print:text-[8pt]",children:"Fecha Entrega"})]})}),(0,s.jsx)(c.BF,{children:t.permits.map(e=>(0,s.jsxs)(c.Hj,{children:[(0,s.jsx)(c.nA,{className:"font-medium print:text-[8pt] print:p-1",children:e.ne}),(0,s.jsx)(c.nA,{className:"print:text-[8pt] print:p-1",children:e.consignee}),(0,s.jsx)(c.nA,{className:"print:text-[8pt] print:p-1",children:e.reference||"N/A"}),(0,s.jsx)(c.nA,{className:"print:text-[8pt] print:p-1",children:e.facturaNumber||"N/A"}),(0,s.jsx)(c.nA,{className:"print:text-[8pt] print:p-1",children:e.name}),(0,s.jsx)(c.nA,{className:"print:text-[8pt] print:p-1",children:e.tipoTramite||"N/A"}),(0,s.jsx)(c.nA,{className:"print:text-[8pt] print:p-1",children:e.estimatedDeliveryDate?(0,A.GP)(e.estimatedDeliveryDate.toDate(),"dd/MM/yy"):"N/A"})]},e.id))})]})}),(0,s.jsx)("div",{className:"text-sm space-y-4 print:text-xs mt-6",children:(0,s.jsx)("p",{children:"Sin m\xe1s a que hacer referencia, esperando se encuentre bien."})}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4 pt-16 print:pt-12",children:[(0,s.jsx)("div",{children:(0,s.jsx)("div",{className:"border-t-2 border-black pt-2",children:(0,s.jsx)("p",{className:"text-sm text-center font-medium print:text-xs",children:"Firma de Recibido"})})}),(0,s.jsx)("div",{children:(0,s.jsx)("div",{className:"border-t-2 border-black pt-2",children:(0,s.jsx)("p",{className:"text-sm text-center font-medium print:text-xs",children:"Firma de Entregado"})})})]}),(0,s.jsx)(U.default,{src:"/AconicExaminer/imagenes/FOOTERSOLICITUDETAIL.svg",alt:"Footer",width:800,height:50,className:"w-full h-auto mt-12 print:mt-8",priority:!0})]})]})})]})})};var Q=a(64269),ee=a(27339);let et=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e)return"N/A";let a=e.toDate?e.toDate():new Date(e);return a instanceof Date&&!isNaN(a.getTime())?(0,A.GP)(a,t?"dd/MM/yy HH:mm":"dd/MM/yy",{locale:C.es}):"Fecha Inv\xe1lida"};var ea=a(76444),es=a(11186),er=a(11929);let ei=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e)return"N/A";let a=e.toDate();return(0,A.GP)(a,t?"dd/MM/yy":"dd/MM/yy HH:mm",{locale:C.es})};function en(){let{user:e,loading:t}=(0,n.A)(),a=(0,i.useRouter)(),f=(0,D.a)(),{toast:S}=(0,q.dj)(),[M,R]=(0,r.useState)([]),[P,T]=(0,r.useState)(!0),[I,F]=(0,r.useState)(""),[_,H]=(0,r.useState)(!0),[z,B]=(0,r.useState)([]),[U,Z]=(0,r.useState)(!1),[J,X]=(0,r.useState)(""),[K,en]=(0,r.useState)(null),[el,ed]=(0,r.useState)(!1),[eo,ec]=(0,r.useState)(!1),[em,eu]=(0,r.useState)(!1),[eh,ex]=(0,r.useState)(!1),[ep,ef]=(0,r.useState)(),[ej,ey]=(0,r.useState)(),[eg,ev]=(0,r.useState)(1),[eN,eb]=(0,r.useState)(30),[ew,ek]=(0,r.useState)([]),[eA,eE]=(0,r.useState)(null),[eC,eD]=(0,r.useState)(!1),eS=(0,r.useRef)(null);(0,r.useEffect)(()=>{t||e||a.push("/")},[e,t,a]),(0,r.useEffect)(()=>{if(!e||!e.email)return;(async()=>{if(e&&["admin","supervisor","coordinadora","ejecutivo"].includes(e.role||"")){let t=e.visibilityGroup||[],a=(0,b.P)((0,b.rJ)(N.db,"users"),(0,b._M)("role","in",["ejecutivo","coordinadora"]));ek(Array.from(new Map([...t,...(await (0,b.GG)(a)).docs.map(e=>({uid:e.id,...e.data()}))].map(e=>[e.uid,e])).values()))}})();let t=e=>{let t=[];e.forEach(e=>{let a=e.data();a.requiredPermits&&a.requiredPermits.length>0&&a.requiredPermits.forEach(e=>{t.push({...e,worksheetId:a.id,ne:a.ne,reference:a.reference,executive:a.executive,consignee:a.consignee,worksheetCreatedAt:a.createdAt,eta:a.eta})})}),R(t),T(!1)},a=e=>{console.error("Error fetching permits from worksheets:",e),T(!1)},s=(async()=>{let s;T(!0);let r=(0,b.rJ)(N.db,"worksheets");if("admin"===e.role||"supervisor"===e.role||"coordinadora"===e.role)s=(0,b.P)(r,(0,b.My)("createdAt","desc"));else if("ejecutivo"===e.role&&e.visibilityGroup&&e.visibilityGroup.length>0){let t=Array.from(new Set([e.email,...e.visibilityGroup.map(e=>e.email)])).filter(Boolean);s=(0,b.P)(r,(0,b._M)("createdBy","in",t),(0,b.My)("createdAt","desc"))}else if("invitado"===e.role){let t=(0,b.rJ)(N.db,"users/".concat(e.uid,"/consigneeDirectory")),a=(await (0,b.GG)(t)).docs.map(e=>e.data().name);if(!(a.length>0))return R([]),T(!1),()=>{};s=(0,b.P)(r,(0,b._M)("consignee","in",a),(0,b.My)("createdAt","desc"))}else s=(0,b.P)(r,(0,b._M)("createdBy","==",e.email),(0,b.My)("createdAt","desc"));return(0,b.aQ)(s,t,a)})();return()=>{s.then(e=>e())}},[e]);let eM=(0,r.useMemo)(()=>{let e=M;if(_&&(e=e.filter(e=>"Entregado"!==e.status&&!e.permitDelivery)),I){let t=I.toLowerCase();e=e.filter(e=>{var a,s;return e.ne.toLowerCase().includes(t)||(null==(a=e.reference)?void 0:a.toLowerCase().includes(t))||String(e.facturaNumber).toLowerCase().includes(t)||e.executive.toLowerCase().includes(t)||e.assignedExecutive&&e.assignedExecutive.toLowerCase().includes(t)||e.name.toLowerCase().includes(t)||(null==(s=e.consignee)?void 0:s.toLowerCase().includes(t))})}return e.sort((e,t)=>{var a,s,r,i;return(null!=(r=null==(a=t.worksheetCreatedAt)?void 0:a.toMillis())?r:0)-(null!=(i=null==(s=e.worksheetCreatedAt)?void 0:s.toMillis())?i:0)}),e},[M,I,_]),eR=Math.ceil(eM.length/eN),eP=(0,r.useMemo)(()=>{let e=(eg-1)*eN,t=e+eN;return eM.slice(e,t)},[eM,eg,eN]),eT=e=>{switch(e){case"Entregado":case"Aprobado":return"default";case"Rechazado":return"destructive";case"En Tr\xe1mite":case"Sometido de Nuevo":return"secondary";default:return"outline"}},eI=async e=>{var t;let a=null==(t=e.target.files)?void 0:t[0];if(!a)return;eD(!0),S({title:"Importando...",description:"Procesando el archivo Excel."});let s=new FileReader;s.onload=async e=>{try{var t,a,s;let r=new Uint8Array(null==(t=e.target)?void 0:t.result),i=$.LF(r,{type:"array"}),n=i.SheetNames[0],l=i.Sheets[n],d=$.Wp.sheet_to_json(l),o=(0,b.wP)(N.db),c=0,m=0;for(let e of d){let t=null==(a=e.NE)?void 0:a.toString().trim(),r=null==(s=e.Permiso)?void 0:s.toString().trim();if(!t||!r){m++;continue}let i=(0,b.H9)(N.db,"worksheets",t),n=await (0,b.x7)(i);if(n.exists()){let t=n.data(),a=t.requiredPermits||[],s=a.findIndex(e=>e.name===r),l=e=>{if(null==e||""===String(e).trim()||"N/A"===String(e).trim().toUpperCase())return null;let t=new Date("number"==typeof e?Date.UTC(0,0,e-1):e);return isNaN(t.getTime())?null:b.Dc.fromDate(t)},d={name:r,facturaNumber:e["Factura Asociada"]||void 0,status:e.Estado||"Pendiente",recibo:e.Recibo||void 0,tramiteDate:l(e["Fecha Sometido"]),estimatedDeliveryDate:l(e["Fecha Retiro Estimada"]),assignedExecutive:e["Ejecutivo Asignado"]||t.executive,tipoTramite:e["Tipo de Tr\xe1mite"]||void 0};Object.keys(d).forEach(e=>void 0===d[e]&&delete d[e]),-1!==s?a[s]={...a[s],...d}:a.push({id:(0,er.A)(),...d});let m=l(e.ETA),u={requiredPermits:a};m&&(u.eta=m),e.Consignatario&&(u.consignee=e.Consignatario),o.update(i,u),c++}else m++}c>0?(await o.commit(),S({title:"Importaci\xf3n Completa",description:"".concat(c," registros de permisos han sido actualizados/a\xf1adidos. ").concat(m>0?"".concat(m," filas omitidas (NE no encontrado)."):"")})):S({title:"Sin Cambios",description:"No se encontraron NEs coincidentes en el archivo para actualizar. Se omitieron ".concat(m," filas.")})}catch(e){console.error("Error al importar el archivo: ",e),S({title:"Error de Importaci\xf3n",description:e.message||"Hubo un problema al leer el archivo Excel.",variant:"destructive"})}finally{eD(!1),eS.current&&(eS.current.value="")}},s.readAsArrayBuffer(a)},eF=async()=>{if(!J)return void S({title:"Error",description:"Por favor, seleccione un destinatario.",variant:"destructive"});if(!e||!e.displayName)return;ed(!0);let t=M.filter(e=>z.includes(e.id)),a=(0,b.wP)(N.db),s=new Map;for(let a of t){if(!s.has(a.worksheetId)){let e=await (0,b.x7)((0,b.H9)(N.db,"worksheets",a.worksheetId));e.exists()&&s.set(a.worksheetId,e.data().requiredPermits||[])}let t=s.get(a.worksheetId);if(t){let s=t.findIndex(e=>e.id===a.id);-1!==s&&(t[s]={...t[s],status:"Entregado",permitDelivery:{deliveredTo:J,deliveredBy:e.displayName,deliveredAt:b.Dc.now()}})}}s.forEach((e,t)=>{let s=(0,b.H9)(N.db,"worksheets",t);a.update(s,{requiredPermits:e})});try{await a.commit(),en({permits:t,recipient:J}),Z(!1),B([]),S({title:"Entrega Registrada",description:"".concat(t.length," permisos marcados como entregados.")})}catch(e){console.error("Error confirming delivery: ",e),S({title:"Error",description:"No se pudo registrar la entrega.",variant:"destructive"})}finally{ed(!1)}},e_=async()=>{if(0===z.length||!ep&&!ej)return void S({title:"Sin cambios",description:"Seleccione al menos un permiso y una fecha para actualizar."});ed(!0);let e=(0,b.wP)(N.db),t=new Map;for(let e of M.filter(e=>z.includes(e.id))){if(!t.has(e.worksheetId)){let a=await (0,b.x7)((0,b.H9)(N.db,"worksheets",e.worksheetId));a.exists()&&t.set(e.worksheetId,a.data().requiredPermits||[])}let a=t.get(e.worksheetId);if(a){let t=a.findIndex(t=>t.id===e.id);if(-1!==t){let e={...a[t]};ep&&(e.tramiteDate=b.Dc.fromDate(ep)),ej&&(e.estimatedDeliveryDate=b.Dc.fromDate(ej)),a[t]=e}}}t.forEach((t,a)=>{let s={requiredPermits:t.map(e=>({...e,tramiteDate:e.tramiteDate||null,estimatedDeliveryDate:e.estimatedDeliveryDate||null}))};e.update((0,b.H9)(N.db,"worksheets",a),s)});try{await e.commit(),S({title:"Actualizaci\xf3n Exitosa",description:"".concat(z.length," permisos han sido actualizados.")}),eu(!1),B([]),ef(void 0),ey(void 0)}catch(e){console.error("Error bulk updating permits:",e),S({title:"Error",description:"No se pudieron actualizar los permisos.",variant:"destructive"})}finally{ed(!1)}},eH=async e=>{if(0===z.length)return;ed(!0);let t=(0,b.wP)(N.db),a=new Map;for(let t of M.filter(e=>z.includes(e.id))){if(!a.has(t.worksheetId)){let e=await (0,b.x7)((0,b.H9)(N.db,"worksheets",t.worksheetId));e.exists()&&a.set(t.worksheetId,e.data().requiredPermits||[])}let s=a.get(t.worksheetId);if(s){let a=s.findIndex(e=>e.id===t.id);-1!==a&&(s[a].status=e)}}a.forEach((e,a)=>{t.update((0,b.H9)(N.db,"worksheets",a),{requiredPermits:e})});try{await t.commit(),S({title:"Actualizaci\xf3n Exitosa",description:"".concat(z.length," permisos han cambiado a '").concat(e,"'.")}),B([])}catch(e){S({title:"Error",description:"No se pudieron actualizar los estados.",variant:"destructive"})}finally{ed(!1),ex(!1)}};return t||!e?(0,s.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-background",children:(0,s.jsx)(m.A,{className:"h-12 w-12 animate-spin text-primary"})}):K?(0,s.jsx)(Y,{data:K,onClose:()=>en(null)}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(l.G,{children:(0,s.jsx)("div",{className:"py-2 md:py-5",children:(0,s.jsxs)(o.Zp,{className:"w-full max-w-screen-2xl mx-auto custom-shadow",children:[(0,s.jsxs)(o.aR,{children:[(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between sm:items-center gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(o.ZB,{className:"text-2xl font-semibold",children:"Gesti\xf3n de Permisos"}),(0,s.jsx)(o.BT,{children:"Seguimiento del estado de todos los permisos requeridos."})]}),(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row gap-2",children:[(0,s.jsx)("input",{type:"file",ref:eS,onChange:eI,className:"hidden",accept:".xlsx, .xls"}),(0,s.jsxs)(d.$,{onClick:()=>{var e;return null==(e=eS.current)?void 0:e.click()},variant:"outline",disabled:eC,children:[eC?(0,s.jsx)(m.A,{className:"mr-2 h-4 w-4 animate-spin"}):(0,s.jsx)(h.A,{className:"mr-2 h-4 w-4"}),"Importar"]}),(0,s.jsxs)(d.$,{onClick:()=>{let e=$.Wp.aoa_to_sheet([["ETA","NE","Consignatario","Factura Asociada","Permiso","Tipo de Tr\xe1mite","Estado","Recibo","Ejecutivo Asignado","Fecha Sometido","Fecha Retiro Estimada"]]),t=$.Wp.book_new();$.Wp.book_append_sheet(t,e,"Plantilla Permisos"),$._h(t,"plantilla_permisos.xlsx")},variant:"outline",children:[(0,s.jsx)(x.A,{className:"mr-2 h-4 w-4"})," Plantilla"]}),(0,s.jsxs)(d.$,{onClick:()=>eu(!0),variant:"outline",disabled:0===z.length,children:[(0,s.jsx)(p.A,{className:"mr-2 h-4 w-4"})," Modificaci\xf3n Masiva (",z.length,")"]}),(0,s.jsxs)(d.$,{onClick:()=>ex(!0),variant:"outline",disabled:0===z.length,children:[(0,s.jsx)(p.A,{className:"mr-2 h-4 w-4"})," Asignar Estatus (",z.length,")"]}),(0,s.jsxs)(d.$,{onClick:()=>{if(0===eM.length)return void S({title:"Sin Datos",description:"No hay permisos para exportar.",variant:"secondary"});ec(!0),(e=>{let t=new Date,a=(0,A.GP)(t,"dd/MM/yy HH:mm",{locale:C.es}),s=["NE","Consignatario","ETA","Referencia","Factura Asociada","Permiso","Tipo de Tr\xe1mite","Estado","Recibo","Ejecutivo Asignado","Fecha Sometido","Fecha Retiro Estimada","Entregado a","Fecha de Remisi\xf3n"],r=e.map(e=>{var t,a;return[e.ne,e.consignee||"N/A",et(e.eta,!1),e.reference||"N/A",e.facturaNumber||"N/A",e.name,e.tipoTramite||"N/A",e.status,e.recibo||"N/A",e.assignedExecutive||e.executive,et(e.tramiteDate,!1),et(e.estimatedDeliveryDate,!1),(null==(t=e.permitDelivery)?void 0:t.deliveredTo)||"Pendiente",et(null==(a=e.permitDelivery)?void 0:a.deliveredAt,!0)]}),i=[["Reporte de Gesti\xf3n de Permisos"],["Generado el: ".concat(a)],[],s,...r],n=$.Wp.aoa_to_sheet(i),l=s.map((e,t)=>({wch:Math.max(e.length,...r.map(e=>String(e[t]||"").length))+2}));n["!cols"]=l;let d=$.Wp.book_new();$.Wp.book_append_sheet(d,n,"Reporte Permisos"),$._h(d,"Reporte_Permisos_".concat(t.toISOString().split("T")[0],".xlsx"))})(eM),ec(!1)},variant:"outline",disabled:eo,children:[eo?(0,s.jsx)(m.A,{className:"mr-2 h-4 w-4 animate-spin"}):(0,s.jsx)(x.A,{className:"mr-2 h-4 w-4"}),"Exportar a Excel"]}),(0,s.jsxs)(d.$,{onClick:()=>Z(!0),disabled:0===z.length,children:[(0,s.jsx)(j,{className:"mr-2 h-4 w-4"})," Generar Entrega (",z.length,")"]})]})]}),(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row items-center space-x-4 pt-4 border-t mt-4",children:[(0,s.jsxs)("div",{className:"relative flex-grow w-full sm:w-auto",children:[(0,s.jsx)(y.A,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground"}),(0,s.jsx)(w.p,{placeholder:"Buscar en todos los campos...",className:"pl-10 w-full",value:I,onChange:e=>F(e.target.value)})]}),(0,s.jsxs)(d.$,{variant:_?"secondary":"ghost",onClick:()=>H(!_),className:"w-full sm:w-auto",children:[(0,s.jsx)(g,{className:"mr-2 h-4 w-4"}),_?"Pendientes de Entrega":"Viendo Todos"]})]})]}),(0,s.jsxs)(o.Wu,{children:[P?(0,s.jsx)("div",{className:"flex justify-center items-center py-10",children:(0,s.jsx)(m.A,{className:"h-8 w-8 animate-spin text-primary"})}):0===eP.length?(0,s.jsx)("div",{className:"text-center py-10 px-6 bg-secondary/30 rounded-lg",children:(0,s.jsx)("p",{className:"mt-1 text-muted-foreground",children:"No se encontraron permisos con los filtros actuales."})}):f?(0,s.jsx)("div",{className:"space-y-4",children:eP.map(e=>(0,s.jsx)(G,{permit:e,getStatusBadgeVariant:eT},"".concat(e.worksheetId,"-").concat(e.id)))}):(0,s.jsx)("div",{className:"overflow-x-auto table-container rounded-lg border",children:(0,s.jsxs)(c.XI,{children:[(0,s.jsx)(c.A0,{children:(0,s.jsxs)(c.Hj,{children:[(0,s.jsx)(c.nd,{className:"w-12",children:(0,s.jsx)(O.S,{checked:z.length>0&&z.length===eP.length,onCheckedChange:()=>{z.length===eP.length?B([]):B(eP.map(e=>e.id))}})}),(0,s.jsx)(c.nd,{children:"Fecha de Reporte"}),(0,s.jsx)(c.nd,{children:"ETA"}),(0,s.jsx)(c.nd,{children:"Referencia"}),(0,s.jsx)(c.nd,{children:"NE"}),(0,s.jsx)(c.nd,{children:"Consignatario"}),(0,s.jsx)(c.nd,{children:"Factura Asociada"}),(0,s.jsx)(c.nd,{children:"Permiso"}),(0,s.jsx)(c.nd,{children:"Tipo de Tr\xe1mite"}),(0,s.jsx)(c.nd,{children:"Estado"}),(0,s.jsx)(c.nd,{children:"Recibo"}),(0,s.jsx)(c.nd,{children:"Ejecutivo Asignado"}),(0,s.jsx)(c.nd,{children:"Fecha Sometido"}),(0,s.jsx)(c.nd,{children:"Fecha Retiro Estimada"}),(0,s.jsx)(c.nd,{children:"Comentarios"}),(0,s.jsx)(c.nd,{children:"Entregado a"}),(0,s.jsx)(c.nd,{children:"Fecha de Remisi\xf3n"})]})}),(0,s.jsx)(c.BF,{children:eP.map(e=>{var t;let a=e.estimatedDeliveryDate?(0,E.c)(e.estimatedDeliveryDate.toDate(),new Date):null,r=(0,Q.cn)("Entregado"!==e.status&&null!==a&&a<=3&&"bg-yellow-100 dark:bg-yellow-900/30");return(0,s.jsxs)(c.Hj,{className:r,children:[(0,s.jsx)(c.nA,{children:(0,s.jsx)(O.S,{checked:z.includes(e.id),onCheckedChange:()=>{B(t=>t.includes(e.id)?t.filter(t=>t!==e.id):[...t,e.id])}})}),(0,s.jsx)(c.nA,{className:"font-medium",children:ei(e.worksheetCreatedAt,!1)}),(0,s.jsx)(c.nA,{className:"font-medium",children:ei(e.eta,!1)}),(0,s.jsx)(c.nA,{children:e.reference||"N/A"}),(0,s.jsx)(c.nA,{className:"font-medium",children:e.ne}),(0,s.jsx)(c.nA,{children:e.consignee}),(0,s.jsx)(c.nA,{children:e.facturaNumber||"N/A"}),(0,s.jsx)(c.nA,{children:e.name}),(0,s.jsx)(c.nA,{children:e.tipoTramite||"N/A"}),(0,s.jsx)(c.nA,{children:(0,s.jsx)(k.E,{variant:eT(e.status),children:e.status})}),(0,s.jsx)(c.nA,{children:e.recibo||"N/A"}),(0,s.jsx)(c.nA,{children:e.assignedExecutive||e.executive}),(0,s.jsx)(c.nA,{children:ei(e.tramiteDate,!1)}),(0,s.jsx)(c.nA,{children:ei(e.estimatedDeliveryDate,!1)}),(0,s.jsx)(c.nA,{children:(0,s.jsxs)(d.$,{variant:"ghost",size:"icon",onClick:()=>eE({permit:e,index:-1}),children:[(0,s.jsx)(u.A,{className:"h-4 w-4"}),e.comments&&e.comments.length>0&&(0,s.jsx)(k.E,{variant:"destructive",className:"absolute -top-1 -right-1 h-4 w-4 p-0 justify-center text-xs",children:e.comments.length})]})}),(0,s.jsx)(c.nA,{children:e.permitDelivery?(0,s.jsx)(k.E,{className:"bg-blue-100 text-blue-700",children:e.permitDelivery.deliveredTo}):(0,s.jsx)(k.E,{variant:"outline",children:"Pendiente"})}),(0,s.jsx)(c.nA,{children:ei(null==(t=e.permitDelivery)?void 0:t.deliveredAt,!0)})]},"".concat(e.worksheetId,"-").concat(e.id))})})]})}),(0,s.jsxs)("div",{className:"flex items-center justify-between space-x-2 py-4",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)("p",{className:"text-sm font-medium",children:"Filas por p\xe1gina"}),(0,s.jsxs)(es.l6,{value:"".concat(eN),onValueChange:e=>{eb(Number(e)),ev(1)},children:[(0,s.jsx)(es.bq,{className:"h-8 w-[70px]",children:(0,s.jsx)(es.yv,{placeholder:eN})}),(0,s.jsx)(es.gC,{side:"top",children:[30,40,50].map(e=>(0,s.jsx)(es.eb,{value:"".concat(e),children:e},e))})]})]}),(0,s.jsxs)("div",{className:"text-sm text-muted-foreground",children:["Total de permisos: ",eM.length]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsxs)("span",{className:"text-sm",children:["P\xe1gina ",eg," de ",eR]}),(0,s.jsx)(d.$,{variant:"outline",size:"sm",onClick:()=>ev(e=>Math.max(e-1,1)),disabled:1===eg,children:"Anterior"}),(0,s.jsx)(d.$,{variant:"outline",size:"sm",onClick:()=>ev(e=>Math.min(e+1,eR)),disabled:eg===eR,children:"Siguiente"})]})]})]})]})})}),eA&&(0,s.jsx)(L.o,{isOpen:!!eA,onClose:()=>eE(null),permit:eA.permit,worksheetId:eA.permit.worksheetId,onCommentsUpdate:()=>{}}),(0,s.jsx)(V.lG,{open:U,onOpenChange:Z,children:(0,s.jsxs)(V.Cf,{children:[(0,s.jsxs)(V.c7,{children:[(0,s.jsx)(V.L3,{children:"Confirmar Entrega de Permisos"}),(0,s.jsxs)(V.rr,{children:["Seleccione la persona que recibe los ",z.length," permisos seleccionados."]})]}),(0,s.jsx)("div",{className:"py-4",children:(0,s.jsxs)(W.uB,{className:"rounded-lg border shadow-sm",children:[(0,s.jsx)(W.G7,{placeholder:"Buscar persona..."}),(0,s.jsxs)(W.oI,{children:[(0,s.jsx)(W.xL,{children:"No se encontr\xf3 persona."}),(0,s.jsx)(W.L$,{children:ew.map(e=>(0,s.jsxs)(W.h_,{value:e.displayName||"",onSelect:t=>{X(t===J?"":e.displayName||"")},children:[(0,s.jsx)(v.A,{className:(0,Q.cn)("mr-2 h-4 w-4",J===e.displayName?"opacity-100":"opacity-0")}),e.displayName]},e.uid))})]})]})}),(0,s.jsxs)(V.Es,{className:"pt-4",children:[(0,s.jsx)(d.$,{variant:"outline",onClick:()=>Z(!1),children:"Cancelar"}),(0,s.jsxs)(d.$,{onClick:eF,disabled:!J||el,children:[el&&(0,s.jsx)(m.A,{className:"mr-2 h-4 w-4 animate-spin"}),"Confirmar y Generar Ticket"]})]})]})}),(0,s.jsx)(V.lG,{open:em,onOpenChange:eu,children:(0,s.jsxs)(V.Cf,{children:[(0,s.jsxs)(V.c7,{children:[(0,s.jsx)(V.L3,{children:"Actualizaci\xf3n Masiva de Fechas"}),(0,s.jsxs)(V.rr,{children:["Seleccione las fechas que desea aplicar a los ",z.length," permisos seleccionados. Los campos que deje en blanco no se modificar\xe1n."]})]}),(0,s.jsxs)("div",{className:"space-y-4 py-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(ea.J,{children:"Fecha de Tr\xe1mite"}),(0,s.jsx)(ee.l,{date:ep,onDateChange:ef})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(ea.J,{children:"Fecha de Retiro (Estimada)"}),(0,s.jsx)(ee.l,{date:ej,onDateChange:ey})]})]}),(0,s.jsxs)(V.Es,{children:[(0,s.jsx)(d.$,{variant:"outline",onClick:()=>eu(!1),children:"Cancelar"}),(0,s.jsxs)(d.$,{onClick:e_,disabled:el,children:[el&&(0,s.jsx)(m.A,{className:"mr-2 h-4 w-4 animate-spin"}),"Aplicar Cambios"]})]})]})}),(0,s.jsx)(V.lG,{open:eh,onOpenChange:ex,children:(0,s.jsxs)(V.Cf,{children:[(0,s.jsxs)(V.c7,{children:[(0,s.jsx)(V.L3,{children:"Actualizaci\xf3n Masiva de Estado"}),(0,s.jsxs)(V.rr,{children:["Seleccione el estatus a aplicar a los ",z.length," permisos seleccionados."]})]}),(0,s.jsx)("div",{className:"py-4",children:(0,s.jsxs)(es.l6,{onValueChange:e=>eH(e),children:[(0,s.jsx)(es.bq,{children:(0,s.jsx)(es.yv,{placeholder:"Seleccionar nuevo estado..."})}),(0,s.jsxs)(es.gC,{children:[(0,s.jsx)(es.eb,{value:"Pendiente",children:"Pendiente"}),(0,s.jsx)(es.eb,{value:"En Tr\xe1mite",children:"En Tr\xe1mite"}),(0,s.jsx)(es.eb,{value:"Entregado",children:"Entregado"}),(0,s.jsx)(es.eb,{value:"Rechazado",children:"Rechazado"}),(0,s.jsx)(es.eb,{value:"Sometido de Nuevo",children:"Sometido de Nuevo"}),(0,s.jsx)(es.eb,{value:"Aprobado",children:"Aprobado"})]})]})}),(0,s.jsx)(V.Es,{children:(0,s.jsx)(d.$,{variant:"outline",onClick:()=>ex(!1),children:"Cancelar"})})]})})]})}},28813:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(14294).A)("FilePen",[["path",{d:"M12.5 22H18a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v9.5",key:"1couwa"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M13.378 15.626a1 1 0 1 0-3.004-3.004l-5.01 5.012a2 2 0 0 0-.506.854l-.837 2.87a.5.5 0 0 0 .62.62l2.87-.837a2 2 0 0 0 .854-.506z",key:"1y4qbx"}]])},32383:()=>{},38162:(e,t,a)=>{"use strict";a.d(t,{C1:()=>A,bL:()=>k});var s=a(12115),r=a(94446),i=a(3468),n=a(92556),l=a(23558),d=a(78108),o=a(84288),c=a(76842),m=a(97602),u=a(95155),h="Checkbox",[x,p]=(0,i.A)(h),[f,j]=x(h),y=s.forwardRef((e,t)=>{let{__scopeCheckbox:a,name:i,checked:d,defaultChecked:o,required:c,disabled:h,value:x="on",onCheckedChange:p,form:j,...y}=e,[g,v]=s.useState(null),k=(0,r.s)(t,e=>v(e)),A=s.useRef(!1),E=!g||j||!!g.closest("form"),[C=!1,D]=(0,l.i)({prop:d,defaultProp:o,onChange:p}),S=s.useRef(C);return s.useEffect(()=>{let e=null==g?void 0:g.form;if(e){let t=()=>D(S.current);return e.addEventListener("reset",t),()=>e.removeEventListener("reset",t)}},[g,D]),(0,u.jsxs)(f,{scope:a,state:C,disabled:h,children:[(0,u.jsx)(m.sG.button,{type:"button",role:"checkbox","aria-checked":b(C)?"mixed":C,"aria-required":c,"data-state":w(C),"data-disabled":h?"":void 0,disabled:h,value:x,...y,ref:k,onKeyDown:(0,n.m)(e.onKeyDown,e=>{"Enter"===e.key&&e.preventDefault()}),onClick:(0,n.m)(e.onClick,e=>{D(e=>!!b(e)||!e),E&&(A.current=e.isPropagationStopped(),A.current||e.stopPropagation())})}),E&&(0,u.jsx)(N,{control:g,bubbles:!A.current,name:i,value:x,checked:C,required:c,disabled:h,form:j,style:{transform:"translateX(-100%)"},defaultChecked:!b(o)&&o})]})});y.displayName=h;var g="CheckboxIndicator",v=s.forwardRef((e,t)=>{let{__scopeCheckbox:a,forceMount:s,...r}=e,i=j(g,a);return(0,u.jsx)(c.C,{present:s||b(i.state)||!0===i.state,children:(0,u.jsx)(m.sG.span,{"data-state":w(i.state),"data-disabled":i.disabled?"":void 0,...r,ref:t,style:{pointerEvents:"none",...e.style}})})});v.displayName=g;var N=e=>{let{control:t,checked:a,bubbles:r=!0,defaultChecked:i,...n}=e,l=s.useRef(null),c=(0,d.Z)(a),m=(0,o.X)(t);s.useEffect(()=>{let e=l.current,t=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(c!==a&&t){let s=new Event("click",{bubbles:r});e.indeterminate=b(a),t.call(e,!b(a)&&a),e.dispatchEvent(s)}},[c,a,r]);let h=s.useRef(!b(a)&&a);return(0,u.jsx)("input",{type:"checkbox","aria-hidden":!0,defaultChecked:null!=i?i:h.current,...n,tabIndex:-1,ref:l,style:{...e.style,...m,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function b(e){return"indeterminate"===e}function w(e){return b(e)?"indeterminate":e?"checked":"unchecked"}var k=y,A=v},44381:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(14294).A)("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]])},44385:(e,t,a)=>{"use strict";a.d(t,{a:()=>r});var s=a(12115);function r(){let[e,t]=s.useState(void 0);return s.useEffect(()=>{let e=window.matchMedia("(max-width: ".concat(767,"px)")),a=()=>{t(window.innerWidth<768)};return e.addEventListener("change",a),t(window.innerWidth<768),()=>e.removeEventListener("change",a)},[]),!!e}},51834:(e,t,a)=>{"use strict";a.d(t,{Cf:()=>m,Es:()=>h,HM:()=>o,L3:()=>x,c7:()=>u,lG:()=>l,rr:()=>p});var s=a(95155),r=a(12115),i=a(89511),n=a(64269);let l=i.bL;i.l9;let d=i.ZL,o=i.bm,c=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(i.hJ,{ref:t,className:(0,n.cn)("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...r})});c.displayName=i.hJ.displayName;let m=r.forwardRef((e,t)=>{let{className:a,children:r,...l}=e;return(0,s.jsxs)(d,{children:[(0,s.jsx)(c,{}),(0,s.jsxs)(i.UC,{ref:t,className:(0,n.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",a),...l,children:[r,(0,s.jsx)(i.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:(0,s.jsx)("span",{className:"sr-only",children:"Close"})})]})]})});m.displayName=i.UC.displayName;let u=e=>{let{className:t,...a}=e;return(0,s.jsx)("div",{className:(0,n.cn)("flex flex-col space-y-1.5 text-center sm:text-left",t),...a})};u.displayName="DialogHeader";let h=e=>{let{className:t,...a}=e;return(0,s.jsx)("div",{className:(0,n.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...a})};h.displayName="DialogFooter";let x=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(i.hE,{ref:t,className:(0,n.cn)("text-lg font-semibold leading-none tracking-tight",a),...r})});x.displayName=i.hE.displayName;let p=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(i.VY,{ref:t,className:(0,n.cn)("text-sm text-muted-foreground",a),...r})});p.displayName=i.VY.displayName},58772:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(14294).A)("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]])},59729:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(14294).A)("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]])},63817:(e,t,a)=>{"use strict";a.d(t,{G7:()=>o,L$:()=>u,h_:()=>h,oI:()=>c,uB:()=>d,xL:()=>m});var s=a(95155),r=a(12115),i=a(41808),n=a(90109),l=a(64269);a(51834);let d=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(i.uB,{ref:t,className:(0,l.cn)("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",a),...r})});d.displayName=i.uB.displayName;let o=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsxs)("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[(0,s.jsx)(n.A,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),(0,s.jsx)(i.uB.Input,{ref:t,className:(0,l.cn)("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",a),...r})]})});o.displayName=i.uB.Input.displayName;let c=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(i.uB.List,{ref:t,className:(0,l.cn)("max-h-[300px] overflow-y-auto overflow-x-hidden",a),...r})});c.displayName=i.uB.List.displayName;let m=r.forwardRef((e,t)=>(0,s.jsx)(i.uB.Empty,{ref:t,className:"py-6 text-center text-sm",...e}));m.displayName=i.uB.Empty.displayName;let u=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(i.uB.Group,{ref:t,className:(0,l.cn)("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",a),...r})});u.displayName=i.uB.Group.displayName,r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(i.uB.Separator,{ref:t,className:(0,l.cn)("-mx-1 h-px bg-border",a),...r})}).displayName=i.uB.Separator.displayName;let h=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(i.uB.Item,{ref:t,className:(0,l.cn)("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none aria-selected:bg-accent aria-selected:text-accent-foreground data-[disabled='true']:pointer-events-none data-[disabled='true']:opacity-50",a),...r})});h.displayName=i.uB.Item.displayName},65142:(e,t,a)=>{"use strict";a.d(t,{p:()=>n});var s=a(95155),r=a(12115),i=a(64269);let n=r.forwardRef((e,t)=>{let{className:a,type:r,...n}=e;return(0,s.jsx)("input",{type:r,className:(0,i.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","aria-[invalid=true]:border-destructive aria-[invalid=true]:ring-destructive",a),ref:t,...n})});n.displayName="Input"},73457:(e,t,a)=>{"use strict";a.d(t,{S:()=>d});var s=a(95155),r=a(12115),i=a(38162),n=a(72251),l=a(64269);let d=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(i.bL,{ref:t,className:(0,l.cn)("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",a),...r,children:(0,s.jsx)(i.C1,{className:(0,l.cn)("flex items-center justify-center text-current"),children:(0,s.jsx)(n.A,{className:"h-4 w-4"})})})});d.displayName=i.bL.displayName},74864:(e,t,a)=>{Promise.resolve().then(a.bind(a,27538))},76251:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(14294).A)("Printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]])},83686:()=>{},87270:(e,t,a)=>{"use strict";a.d(t,{A0:()=>l,BF:()=>d,Hj:()=>o,XI:()=>n,nA:()=>m,nd:()=>c});var s=a(95155),r=a(12115),i=a(64269);let n=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{className:"relative w-full overflow-auto",children:(0,s.jsx)("table",{ref:t,className:(0,i.cn)("w-full caption-bottom text-sm",a),...r})})});n.displayName="Table";let l=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("thead",{ref:t,className:(0,i.cn)("[&_tr]:border-b",a),...r})});l.displayName="TableHeader";let d=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("tbody",{ref:t,className:(0,i.cn)("[&_tr:last-child]:border-0",a),...r})});d.displayName="TableBody",r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("tfoot",{ref:t,className:(0,i.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",a),...r})}).displayName="TableFooter";let o=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("tr",{ref:t,className:(0,i.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",a),...r})});o.displayName="TableRow";let c=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("th",{ref:t,className:(0,i.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",a),...r})});c.displayName="TableHead";let m=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("td",{ref:t,className:(0,i.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",a),...r})});m.displayName="TableCell",r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("caption",{ref:t,className:(0,i.cn)("mt-4 text-sm text-muted-foreground",a),...r})}).displayName="TableCaption"}},e=>{e.O(0,[2992,7138,3524,4316,4865,2130,3744,5282,9351,3504,6505,5372,5479,5171,2754,8441,1255,7358],()=>e(e.s=74864)),_N_E=e.O()}]);