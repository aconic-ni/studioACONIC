(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1974],{6893:(e,a,s)=>{Promise.resolve().then(s.bind(s,67537))},24820:(e,a,s)=>{"use strict";s.d(a,{A:()=>r});let r=(0,s(14294).A)("SquareCheckBig",[["path",{d:"M21 10.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.5",key:"1uzm8b"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},25128:(e,a,s)=>{"use strict";s.d(a,{A:()=>r});let r=(0,s(14294).A)("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]])},40671:(e,a,s)=>{"use strict";s.d(a,{A:()=>r});let r=(0,s(14294).A)("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]])},41052:(e,a,s)=>{"use strict";s.d(a,{C5:()=>f,MJ:()=>j,eI:()=>p,lR:()=>h,lV:()=>c,zB:()=>m});var r=s(95155),t=s(12115),n=s(32467),o=s(22544),l=s(64269),i=s(76444);let c=o.Op,d=t.createContext({}),m=e=>{let{...a}=e;return(0,r.jsx)(d.Provider,{value:{name:a.name},children:(0,r.jsx)(o.xI,{...a})})},u=()=>{let e=t.useContext(d),a=t.useContext(x),{getFieldState:s,formState:r}=(0,o.xW)(),n=s(e.name,r);if(!e)throw Error("useFormField should be used within <FormField>");let{id:l}=a;return{id:l,name:e.name,formItemId:"".concat(l,"-form-item"),formDescriptionId:"".concat(l,"-form-item-description"),formMessageId:"".concat(l,"-form-item-message"),...n}},x=t.createContext({}),p=t.forwardRef((e,a)=>{let{className:s,...n}=e,o=t.useId();return(0,r.jsx)(x.Provider,{value:{id:o},children:(0,r.jsx)("div",{ref:a,className:(0,l.cn)("space-y-2",s),...n})})});p.displayName="FormItem";let h=t.forwardRef((e,a)=>{let{className:s,...t}=e,{error:n,formItemId:o}=u();return(0,r.jsx)(i.J,{ref:a,className:(0,l.cn)(n&&"text-destructive",s),htmlFor:o,...t})});h.displayName="FormLabel";let j=t.forwardRef((e,a)=>{let{...s}=e,{error:t,formItemId:o,formDescriptionId:l,formMessageId:i}=u();return(0,r.jsx)(n.DX,{ref:a,id:o,"aria-describedby":t?"".concat(l," ").concat(i):"".concat(l),"aria-invalid":!!t,...s})});j.displayName="FormControl",t.forwardRef((e,a)=>{let{className:s,...t}=e,{formDescriptionId:n}=u();return(0,r.jsx)("p",{ref:a,id:n,className:(0,l.cn)("text-sm text-muted-foreground",s),...t})}).displayName="FormDescription";let f=t.forwardRef((e,a)=>{var s;let{className:t,children:n,...o}=e,{error:i,formMessageId:c}=u(),d=i?String(null!=(s=null==i?void 0:i.message)?s:""):n;return d?(0,r.jsx)("p",{ref:a,id:c,className:(0,l.cn)("text-sm font-medium text-destructive",t),...o,children:d}):null});f.displayName="FormMessage"},42997:(e,a,s)=>{"use strict";s.d(a,{A:()=>r});let r=(0,s(14294).A)("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]])},50705:(e,a,s)=>{"use strict";s.d(a,{A:()=>r});let r=(0,s(14294).A)("Landmark",[["line",{x1:"3",x2:"21",y1:"22",y2:"22",key:"j8o0r"}],["line",{x1:"6",x2:"6",y1:"18",y2:"11",key:"10tf0k"}],["line",{x1:"10",x2:"10",y1:"18",y2:"11",key:"54lgf6"}],["line",{x1:"14",x2:"14",y1:"18",y2:"11",key:"380y"}],["line",{x1:"18",x2:"18",y1:"18",y2:"11",key:"1kevvc"}],["polygon",{points:"12 2 20 7 4 7",key:"jkujk7"}]])},50817:(e,a,s)=>{"use strict";s.d(a,{A:()=>r});let r=(0,s(14294).A)("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]])},51834:(e,a,s)=>{"use strict";s.d(a,{Cf:()=>m,Es:()=>x,HM:()=>c,L3:()=>p,c7:()=>u,lG:()=>l,rr:()=>h});var r=s(95155),t=s(12115),n=s(89511),o=s(64269);let l=n.bL;n.l9;let i=n.ZL,c=n.bm,d=t.forwardRef((e,a)=>{let{className:s,...t}=e;return(0,r.jsx)(n.hJ,{ref:a,className:(0,o.cn)("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",s),...t})});d.displayName=n.hJ.displayName;let m=t.forwardRef((e,a)=>{let{className:s,children:t,...l}=e;return(0,r.jsxs)(i,{children:[(0,r.jsx)(d,{}),(0,r.jsxs)(n.UC,{ref:a,className:(0,o.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",s),...l,children:[t,(0,r.jsx)(n.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:(0,r.jsx)("span",{className:"sr-only",children:"Close"})})]})]})});m.displayName=n.UC.displayName;let u=e=>{let{className:a,...s}=e;return(0,r.jsx)("div",{className:(0,o.cn)("flex flex-col space-y-1.5 text-center sm:text-left",a),...s})};u.displayName="DialogHeader";let x=e=>{let{className:a,...s}=e;return(0,r.jsx)("div",{className:(0,o.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",a),...s})};x.displayName="DialogFooter";let p=t.forwardRef((e,a)=>{let{className:s,...t}=e;return(0,r.jsx)(n.hE,{ref:a,className:(0,o.cn)("text-lg font-semibold leading-none tracking-tight",s),...t})});p.displayName=n.hE.displayName;let h=t.forwardRef((e,a)=>{let{className:s,...t}=e;return(0,r.jsx)(n.VY,{ref:a,className:(0,o.cn)("text-sm text-muted-foreground",s),...t})});h.displayName=n.VY.displayName},56639:(e,a,s)=>{"use strict";s.d(a,{A:()=>r});let r=(0,s(14294).A)("Settings2",[["path",{d:"M20 7h-9",key:"3s1dr2"}],["path",{d:"M14 17H5",key:"gfn3mx"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]])},59729:(e,a,s)=>{"use strict";s.d(a,{A:()=>r});let r=(0,s(14294).A)("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]])},60406:(e,a,s)=>{"use strict";s.d(a,{A:()=>r});let r=(0,s(14294).A)("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},65142:(e,a,s)=>{"use strict";s.d(a,{p:()=>o});var r=s(95155),t=s(12115),n=s(64269);let o=t.forwardRef((e,a)=>{let{className:s,type:t,...o}=e;return(0,r.jsx)("input",{type:t,className:(0,n.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","aria-[invalid=true]:border-destructive aria-[invalid=true]:ring-destructive",s),ref:a,...o})});o.displayName="Input"},66065:(e,a,s)=>{"use strict";s.d(a,{A:()=>r});let r=(0,s(14294).A)("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]])},67537:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>eT});var r=s(95155),t=s(12115),n=s(20063),o=s(54901),l=s(11860),i=s(35434),c=s(3998),d=s(86948),m=s(87270),u=s(11647),x=s(5225),p=s(60406),h=s(66065),j=s(50817),f=s(20146),N=s(36654),g=s(44749),v=s(13630),b=s(6259),C=s(5282),y=s(80160);function A(){let{initialContextData:e,solicitudes:a,openSolicitudModal:s,deleteSolicitud:t,setSolicitudToViewInline:n}=(0,l.U)();return 0===a.length?(0,r.jsx)("div",{className:"text-center py-8 text-muted-foreground",children:'No hay solicitudes a\xf1adidas. Haga clic en "A\xf1adir Nueva Solicitud" para comenzar.'}):(0,r.jsx)("div",{className:"overflow-x-auto table-container rounded-lg border",children:(0,r.jsxs)(m.XI,{children:[(0,r.jsx)(m.A0,{className:"bg-secondary/50",children:(0,r.jsxs)(m.Hj,{children:[(0,r.jsxs)(m.nd,{className:"px-4 py-3 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider min-w-[150px]",children:[(0,r.jsx)(h.A,{className:"inline-block h-3.5 w-3.5 mr-1 align-middle"}),"Estado"]}),(0,r.jsx)(m.nd,{className:"px-4 py-3 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider whitespace-nowrap",children:"ID Solicitud"}),(0,r.jsxs)(m.nd,{className:"px-4 py-3 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider whitespace-nowrap",children:[(0,r.jsx)(j.A,{className:"inline-block h-3.5 w-3.5 mr-1 align-middle"}),"Fecha de Solicitud"]}),(0,r.jsx)(m.nd,{className:"px-4 py-3 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"NE"}),(0,r.jsx)(m.nd,{className:"px-4 py-3 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Monto"}),(0,r.jsx)(m.nd,{className:"px-4 py-3 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Consignatario"}),(0,r.jsx)(m.nd,{className:"px-4 py-3 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Declaracion"}),(0,r.jsx)(m.nd,{className:"px-4 py-3 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Acciones"})]})}),(0,r.jsx)(m.BF,{className:"bg-card divide-y divide-border",children:a.map(a=>(0,r.jsxs)(m.Hj,{className:"hover:bg-muted/50",children:[(0,r.jsx)(m.nA,{className:"px-4 py-3 text-sm text-muted-foreground",children:(e=>{let a=[];return(e.documentosAdjuntos&&a.push((0,r.jsxs)(u.E,{variant:"outline",className:"bg-blue-100 text-blue-800 whitespace-nowrap flex items-center",children:[(0,r.jsx)(x.A,{className:"h-3 w-3 mr-1"})," Docs"]},"docs")),e.soporte&&a.push((0,r.jsxs)(u.E,{variant:"outline",className:"bg-orange-100 text-orange-800 whitespace-nowrap flex items-center",children:[(0,r.jsx)(p.A,{className:"h-3 w-3 mr-1"})," Soporte"]},"soporte")),e.impuestosPendientesCliente&&a.push((0,r.jsxs)(u.E,{variant:"outline",className:"bg-orange-100 text-orange-800 whitespace-nowrap flex items-center",children:[(0,r.jsx)(p.A,{className:"h-3 w-3 mr-1"})," Imp. Pend."]},"impuestos")),e.constanciasNoRetencion&&a.push((0,r.jsxs)(u.E,{variant:"outline",className:"bg-purple-100 text-purple-800 whitespace-nowrap flex items-center",children:[(0,r.jsx)(x.A,{className:"h-3 w-3 mr-1"})," No Ret."]},"retencion")),0===a.length)?(0,r.jsx)(u.E,{variant:"outline",children:"Sin Estados"}):(0,r.jsx)("div",{className:"flex flex-wrap gap-1",children:a})})(a)}),(0,r.jsx)(m.nA,{className:"px-4 py-3 whitespace-nowrap text-sm font-medium text-foreground",children:a.id}),(0,r.jsx)(m.nA,{className:"px-4 py-3 whitespace-nowrap text-sm text-muted-foreground",children:(null==e?void 0:e.date)?(0,C.GP)(new Date(e.date),"PPP",{locale:y.es}):"N/A"}),(0,r.jsx)(m.nA,{className:"px-4 py-3 whitespace-nowrap text-sm text-muted-foreground",children:(null==e?void 0:e.ne)||"N/A"}),(0,r.jsx)(m.nA,{className:"px-4 py-3 whitespace-nowrap text-sm font-medium text-foreground",children:((e,a)=>{if(null==e||""===e)return"N/A";let s=Number(e);if(isNaN(s))return"Inv\xe1lido";let r="";return"cordoba"===a?r="C$":"dolar"===a?r="US$":"euro"===a&&(r="€"),"".concat(r).concat(s.toLocaleString("es-NI",{minimumFractionDigits:2,maximumFractionDigits:2}))})(a.monto,a.montoMoneda)}),(0,r.jsx)(m.nA,{className:"px-4 py-3 text-sm text-muted-foreground max-w-xs truncate",children:a.consignatario||"N/A"}),(0,r.jsx)(m.nA,{className:"px-4 py-3 text-sm text-muted-foreground max-w-xs truncate",children:a.declaracionNumero||"N/A"}),(0,r.jsx)(m.nA,{className:"px-4 py-3 whitespace-nowrap text-sm font-medium",children:(0,r.jsxs)(b.rI,{children:[(0,r.jsx)(b.ty,{asChild:!0,children:(0,r.jsxs)(c.$,{variant:"ghost",className:"h-8 w-8 p-0",children:[(0,r.jsx)("span",{className:"sr-only",children:"Abrir men\xfa"}),(0,r.jsx)(f.A,{className:"h-4 w-4"})]})}),(0,r.jsxs)(b.SQ,{align:"end",children:[(0,r.jsxs)(b._2,{onClick:()=>n(a),children:[(0,r.jsx)(N.A,{className:"mr-2 h-4 w-4"})," Ver Detalle"]}),(0,r.jsxs)(b._2,{onClick:()=>s(a),children:[(0,r.jsx)(g.A,{className:"mr-2 h-4 w-4"})," Editar"]}),(0,r.jsxs)(b._2,{onClick:()=>{confirm("\xbfEst\xe1 seguro de que desea eliminar esta solicitud?")&&t(a.id)},className:"text-destructive focus:text-destructive focus:bg-destructive/10",children:[(0,r.jsx)(v.A,{className:"mr-2 h-4 w-4"})," Eliminar"]})]})]})})]},a.id))})]})})}var S=s(22452),w=s(18527),I=s(15894),R=s(72845);function E(){let{initialContextData:e,setCurrentStep:a,openAddProductModal:s,solicitudes:t,solicitudToViewInline:o,setSolicitudToViewInline:i}=(0,l.U)(),{toast:m}=(0,I.dj)(),u=(0,n.useRouter)();return e?o&&e?(0,r.jsx)(R.A,{solicitud:o,initialData:e,onBackToList:()=>i(null)}):(0,r.jsxs)(d.Zp,{className:"w-full custom-shadow",children:[(0,r.jsx)(d.aR,{children:(0,r.jsxs)("div",{className:"flex flex-col md:flex-row md:justify-between md:items-center mb-2 gap-4",children:[(0,r.jsx)(d.ZB,{className:"text-xl md:text-2xl font-semibold text-gray-800",children:"SOLICITUDES"}),(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3",children:[(0,r.jsxs)(c.$,{onClick:()=>s(),className:"btn-primary",children:[(0,r.jsx)(S.A,{className:"mr-2 h-5 w-5"})," A\xf1adir Nueva Solicitud"]}),(0,r.jsxs)(c.$,{onClick:()=>{if(0===t.length)return void m({title:"Atenci\xf3n",description:"Debe agregar al menos una solicitud antes de finalizar.",variant:"destructive"});a(l.I.PREVIEW)},className:"btn-secondary",children:[(0,r.jsx)(w.A,{className:"mr-2 h-5 w-5"})," Finalizar y Previsualizar"]})]})]})}),(0,r.jsxs)(d.Wu,{children:[(0,r.jsx)("div",{className:"mb-6 p-4 bg-secondary/30 border border-border rounded-md shadow",children:(0,r.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-3 text-sm",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"font-semibold",children:"A:"})," ",e.recipient]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"font-semibold",children:"De (Usuario):"})," ",e.manager]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"font-semibold",children:"Fecha:"})," ",e.date?(0,C.GP)(new Date(e.date),"PPP",{locale:y.es}):"N/A"]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"font-semibold",children:"NE:"})," ",e.ne]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"font-semibold",children:"Referencia:"})," ",e.reference||"N/A"]})]})}),(0,r.jsx)(A,{})]})]}):(0,r.jsxs)("div",{className:"text-center py-10",children:[(0,r.jsx)("p",{className:"text-white",children:"Error: Datos iniciales de la solicitud no encontrados."}),(0,r.jsx)(c.$,{onClick:()=>u.push("/"),className:"mt-4",children:"Volver al inicio"})]})}var O=s(24820),M=s(92678),k=s(94979),P=s(27314),z=s(2165),T=s(98039),B=s(6943),D=s(44381),L=s(59729),U=s(25128),q=s(50705),$=s(56639),V=s(47974),F=s(27500),J=s(36204),H=s(72251),_=s(17037),G=s(64269);let Z=e=>{let a,{label:s,value:t,icon:n,className:o}=e;return a="boolean"==typeof t?t?"S\xed":"No":t instanceof Date?(0,C.GP)(t,"PPP",{locale:y.es}):String(null!=t?t:"N/A"),(0,r.jsxs)("div",{className:(0,G.cn)("py-1",o),children:[(0,r.jsxs)("p",{className:"text-xs font-medium text-muted-foreground flex items-center",children:[n&&(0,r.jsx)(n,{className:"h-3.5 w-3.5 mr-1.5 text-primary/70"}),s]}),(0,r.jsx)("p",{className:"text-sm text-foreground break-words",children:a})]})},Q=e=>{let{label:a,checked:s,subLabel:t}=e;return(0,r.jsxs)("div",{className:"flex items-center py-1",children:[s?(0,r.jsx)(O.A,{className:"h-4 w-4 text-green-600 mr-2"}):(0,r.jsx)(M.A,{className:"h-4 w-4 text-muted-foreground mr-2"}),(0,r.jsx)("span",{className:"text-sm text-foreground",children:a}),t&&(0,r.jsx)("span",{className:"text-xs text-muted-foreground ml-1",children:t})]})};function W(){let{initialContextData:e,solicitudes:a,setCurrentStep:s,isMemorandumMode:t}=(0,l.U)();return e?(0,r.jsxs)(d.Zp,{className:"w-full custom-shadow",children:[(0,r.jsxs)(d.aR,{children:[(0,r.jsx)(d.ZB,{className:"text-xl md:text-2xl font-semibold text-foreground",children:"Vista Previa de la Solicitud de Cheque"}),(0,r.jsx)(d.BT,{className:"text-muted-foreground",children:"Revise la informaci\xf3n antes de confirmar."})]}),(0,r.jsxs)(d.Wu,{className:"space-y-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"text-lg font-medium mb-2 text-foreground",children:"Informacion General"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-x-6 gap-y-2 bg-secondary/30 p-4 rounded-md shadow-sm text-sm",children:[(0,r.jsx)(Z,{label:"A (Destinatario)",value:e.recipient,icon:k.A}),(0,r.jsx)(Z,{label:"De (Usuario)",value:e.manager,icon:P.A}),(0,r.jsx)(Z,{label:"Fecha de Solicitud",value:e.date,icon:j.A}),(0,r.jsx)(Z,{label:"NE (Tracking NX1)",value:e.ne,icon:h.A}),(0,r.jsx)(Z,{label:"Referencia",value:e.reference||"N/A",icon:x.A})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("h4",{className:"text-lg font-medium mb-3 text-foreground",children:["Solicitudes (",a.length,")"]}),a.length>0?(0,r.jsx)(_.F,{className:"h-[400px] w-full",children:(0,r.jsx)("div",{className:"space-y-6 pr-4",children:a.map((e,a)=>(0,r.jsxs)("div",{className:"p-4 border border-border bg-card rounded-lg shadow",children:[(0,r.jsxs)("h5",{className:"text-md font-semibold mb-3 text-primary flex justify-between items-center",children:[(0,r.jsxs)("span",{children:["Solicitud ",a+1," (",e.id,")"]}),t&&(0,r.jsxs)(u.E,{variant:"destructive",children:[(0,r.jsx)(z.A,{className:"h-3.5 w-3.5 mr-1.5"}),"Memor\xe1ndum"]})]}),t&&e.memorandumCollaborators&&e.memorandumCollaborators.length>0&&(0,r.jsxs)("div",{className:"mb-3 p-3 border border-destructive/50 rounded-md bg-destructive/5",children:[(0,r.jsx)("h6",{className:"text-sm font-medium text-destructive mb-1",children:"Colaboradores"}),(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-4 gap-y-1",children:e.memorandumCollaborators.map(e=>(0,r.jsxs)("div",{className:"text-xs",children:[(0,r.jsxs)("p",{children:[(0,r.jsx)("span",{className:"font-semibold",children:"Nombre:"})," ",e.name]}),(0,r.jsxs)("p",{children:[(0,r.jsx)("span",{className:"font-semibold",children:"N\xfamero:"})," ",e.number]})]},e.id))})]}),(0,r.jsxs)("div",{className:"space-y-3 divide-y divide-border/50",children:[(0,r.jsxs)("div",{className:"pt-2",children:[(0,r.jsx)("p",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Por este medio me dirijo a usted para solicitarle que elabore cheque por la cantidad de:"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-4 items-start mb-2",children:[(0,r.jsxs)("div",{className:"flex items-baseline py-1",children:[(0,r.jsx)(T.A,{className:"h-4 w-4 mr-1.5 text-primary shrink-0"}),(0,r.jsx)("p",{className:"text-sm text-foreground break-words",children:((e,a)=>{if(null==e||""===e)return"N/A";let s=Number(e);if(isNaN(s))return String(e);let r="";return"cordoba"===a?r="C$":"dolar"===a?r="US$":"euro"===a&&(r="€"),"".concat(r).concat(s.toLocaleString("es-NI",{minimumFractionDigits:2,maximumFractionDigits:2}))})(e.monto,e.montoMoneda)})]}),(0,r.jsxs)("div",{className:"flex items-baseline py-1",children:[(0,r.jsx)(x.A,{className:"h-4 w-4 mr-1.5 text-primary shrink-0"}),(0,r.jsx)("p",{className:"text-sm text-foreground break-words",children:e.cantidadEnLetras||"N/A"})]})]})]}),(0,r.jsxs)("div",{className:"pt-3",children:[(0,r.jsx)("h6",{className:"text-sm font-medium text-accent mb-1",children:"Informaci\xf3n Adicional"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-x-4",children:[(0,r.jsx)(Z,{label:"Consignatario",value:e.consignatario,icon:B.A}),(0,r.jsx)(Z,{label:"Declaraci\xf3n N\xfamero",value:e.declaracionNumero,icon:D.A}),(0,r.jsx)(Z,{label:"Unidad Recaudadora",value:e.unidadRecaudadora,icon:L.A}),(0,r.jsx)(Z,{label:"C\xf3digo 1",value:e.codigo1,icon:U.A}),(0,r.jsx)(Z,{label:"Codigo MUR",value:e.codigo2,icon:U.A})]})]}),(0,r.jsxs)("div",{className:"pt-3",children:[(0,r.jsx)("h6",{className:"text-sm font-medium text-accent mb-1",children:"Cuenta Bancaria"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-x-4 items-start",children:[(0,r.jsx)(Z,{label:"Banco",value:"ACCION POR CHEQUE/NO APLICA BANCO"===e.banco?"Acci\xf3n por Cheque / No Aplica Banco":"Otros"===e.banco?e.bancoOtros||"Otros (No especificado)":e.banco,icon:q.A}),"ACCION POR CHEQUE/NO APLICA BANCO"!==e.banco&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(Z,{label:"N\xfamero de Cuenta",value:e.numeroCuenta,icon:D.A}),(0,r.jsx)(Z,{label:"Moneda de la Cuenta",value:"Otros"===e.monedaCuenta?e.monedaCuentaOtros||"Otros (No especificado)":e.monedaCuenta,icon:T.A})]})]})]}),(0,r.jsxs)("div",{className:"pt-3",children:[(0,r.jsx)("h6",{className:"text-sm font-medium text-accent mb-1",children:"Beneficiario del Pago"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-4",children:[(0,r.jsx)(Z,{label:"Elaborar Cheque A",value:e.elaborarChequeA,icon:P.A}),(0,r.jsx)(Z,{label:"Elaborar Transferencia A",value:e.elaborarTransferenciaA,icon:P.A})]})]}),(0,r.jsxs)("div",{className:"pt-3",children:[(0,r.jsx)("h6",{className:"text-sm font-medium text-accent mb-1",children:"Documentaci\xf3n y Estados"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-6",children:[(0,r.jsxs)("div",{className:"space-y-1",children:[(0,r.jsx)(Q,{label:"Impuestos pendientes de pago por el cliente",checked:e.impuestosPendientesCliente}),(0,r.jsx)(Q,{label:"Soporte",checked:e.soporte}),(0,r.jsx)(Q,{label:"Impuestos pagados por el cliente",checked:e.impuestosPagadosCliente}),e.impuestosPagadosCliente&&(0,r.jsxs)("div",{className:"ml-6 pl-2 border-l border-dashed text-xs",children:[(0,r.jsx)(Z,{label:"R/C No.",value:e.impuestosPagadosRC}),(0,r.jsx)(Z,{label:"T/B No.",value:e.impuestosPagadosTB}),(0,r.jsx)(Z,{label:"Cheque No.",value:e.impuestosPagadosCheque})]})]}),(0,r.jsxs)("div",{className:"space-y-1",children:[(0,r.jsx)(Q,{label:"Se a\xf1aden documentos adjuntos",checked:e.documentosAdjuntos}),(0,r.jsx)(Q,{label:"Constancias de no retenci\xf3n",checked:e.constanciasNoRetencion}),e.constanciasNoRetencion&&(0,r.jsxs)("div",{className:"ml-6 pl-2 border-l border-dashed text-xs",children:[(0,r.jsx)(Q,{label:"1%",checked:e.constanciasNoRetencion1}),(0,r.jsx)(Q,{label:"2%",checked:e.constanciasNoRetencion2})]})]})]})]}),e.pagoServicios&&(0,r.jsxs)("div",{className:"pt-3",children:[(0,r.jsx)("h6",{className:"text-sm font-medium text-accent mb-1",children:"Pago de Servicios"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-4",children:[(0,r.jsx)(Z,{label:"Tipo de Servicio",value:"OTROS"===e.tipoServicio?e.otrosTipoServicio:e.tipoServicio,icon:$.A}),(0,r.jsx)(Z,{label:"Factura Servicio",value:e.facturaServicio,icon:x.A}),(0,r.jsx)(Z,{label:"Instituci\xf3n Servicio",value:e.institucionServicio,icon:L.A})]})]}),(0,r.jsxs)("div",{className:"pt-3",children:[(0,r.jsx)("h6",{className:"text-sm font-medium text-accent mb-1",children:"Comunicaci\xf3n"}),(0,r.jsx)(Z,{label:"Correos de Notificaci\xf3n",value:e.correo,icon:V.A}),(0,r.jsx)(Z,{label:"Observaci\xf3n",value:e.observation,icon:F.A})]})]})]},e.id))})}):(0,r.jsx)("p",{className:"text-muted-foreground",children:"No hay solicitudes para mostrar."})]}),(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4 pt-6 border-t border-border mt-6",children:[(0,r.jsxs)(c.$,{variant:"outline",onClick:()=>s(l.I.PRODUCT_LIST),className:"hover:bg-accent/50 w-full sm:w-auto",children:[(0,r.jsx)(J.A,{className:"mr-2 h-4 w-4"})," Volver a Lista de Solicitudes"]}),(0,r.jsx)("div",{className:"flex flex-col sm:flex-row flex-wrap items-center justify-center sm:justify-end gap-3",children:(0,r.jsxs)(c.$,{onClick:()=>{s(l.I.SUCCESS)},className:"btn-primary w-full sm:w-auto",children:[(0,r.jsx)(H.A,{className:"mr-2 h-4 w-4"})," Confirmar Solicitud"]})})]})]})]}):(0,r.jsxs)(d.Zp,{className:"w-full custom-shadow",children:[(0,r.jsxs)(d.aR,{children:[(0,r.jsx)(d.ZB,{className:"text-xl md:text-2xl font-semibold text-foreground",children:"Vista Previa de la Solicitud de Cheque"}),(0,r.jsx)(d.BT,{className:"text-muted-foreground",children:"Cargando datos iniciales..."})]}),(0,r.jsx)(d.Wu,{children:(0,r.jsxs)("div",{className:"text-center p-10 text-muted-foreground",children:["No se encontraron datos iniciales. Por favor, inicie una nueva solicitud.",(0,r.jsx)(c.$,{onClick:()=>s(l.I.INITIAL_DATA),className:"mt-4",children:"Ir al Inicio"})]})})]})}var Y=s(51834),X=s(26615),K=s(73180),ee=s(76140),ea=s(95738),es=s(18844),er=s(14585),et=s(19708);function en(){let{currentStep:e,setCurrentStep:a,resetApp:s,initialContextData:t,solicitudes:i,isMemorandumMode:d}=(0,l.U)(),{user:m}=(0,o.A)(),{toast:u}=(0,I.dj)(),x=(0,n.useRouter)(),p=async()=>{if(!t||!m||!m.email||!i||0===i.length)return void u({title:"Error al guardar",description:"Faltan datos iniciales, informaci\xf3n del usuario o no hay solicitudes para guardar.",variant:"destructive"});if(!t.ne)return void u({title:"Error al guardar",description:"El n\xfamero NE es requerido para guardar.",variant:"destructive"});if(!(t.date instanceof Date)||isNaN(t.date.getTime()))return void u({title:"Error en Fecha de Solicitud",description:"La fecha de la solicitud no es v\xe1lida.",variant:"destructive"});let e=!0,a=d?"Memorandum":"SolicitudCheques";try{for(let u of i){var s,r,n,o,l,c,x,p;if(!u.id){console.error("Solicitud sin ID encontrada, omitiendo:",u),e=!1;continue}let i="number"==typeof u.monto?u.monto:null;void 0!==u.monto&&null===i&&console.warn("Monto for solicitud ".concat(u.id," was not a valid number, saving as null."));let h={examNe:t.ne,examReference:t.reference||null,examManager:t.manager,examDate:et.Dc.fromDate(t.date),examRecipient:t.recipient,solicitudId:u.id,monto:i,montoMoneda:u.montoMoneda||null,cantidadEnLetras:u.cantidadEnLetras||null,consignatario:u.consignatario||null,declaracionNumero:u.declaracionNumero||null,unidadRecaudadora:u.unidadRecaudadora||null,codigo1:u.codigo1||null,codigo2:u.codigo2||null,banco:u.banco||null,bancoOtros:u.bancoOtros||null,numeroCuenta:u.numeroCuenta||null,monedaCuenta:u.monedaCuenta||null,monedaCuentaOtros:u.monedaCuentaOtros||null,elaborarChequeA:u.elaborarChequeA||null,elaborarTransferenciaA:u.elaborarTransferenciaA||null,impuestosPagadosCliente:null!=(s=u.impuestosPagadosCliente)&&s,impuestosPagadosRC:u.impuestosPagadosRC||null,impuestosPagadosTB:u.impuestosPagadosTB||null,impuestosPagadosCheque:u.impuestosPagadosCheque||null,impuestosPendientesCliente:null!=(r=u.impuestosPendientesCliente)&&r,soporte:null!=(n=u.soporte)&&n,documentosAdjuntos:null!=(o=u.documentosAdjuntos)&&o,constanciasNoRetencion:null!=(l=u.constanciasNoRetencion)&&l,constanciasNoRetencion1:null!=(c=u.constanciasNoRetencion1)&&c,constanciasNoRetencion2:null!=(x=u.constanciasNoRetencion2)&&x,pagoServicios:null!=(p=u.pagoServicios)&&p,tipoServicio:u.tipoServicio||null,otrosTipoServicio:u.otrosTipoServicio||null,facturaServicio:u.facturaServicio||null,institucionServicio:u.institucionServicio||null,correo:u.correo||null,observation:u.observation||null,isMemorandum:d,memorandumCollaborators:u.memorandumCollaborators||[],savedAt:et.Dc.fromDate(new Date),savedBy:m.email,paymentStatus:null,paymentStatusLastUpdatedBy:null,paymentStatusLastUpdatedAt:null,recepcionDCStatus:!1,recepcionDCLastUpdatedBy:null,recepcionDCLastUpdatedAt:null,emailMinutaStatus:!1,emailMinutaLastUpdatedBy:null,emailMinutaLastUpdatedAt:null,rhPaymentStatus:"caso_no_iniciado",rhPaymentOtherDetails:null,rhPaymentDate:null,rhPaymentStartDate:null,rhPaymentEndDate:null,rhStatusLastUpdatedAt:null,rhStatusLastUpdatedBy:null,commentsCount:0},j=(0,et.H9)(er.db,a,u.id);await (0,et.BN)(j,h)}e?u({title:"Solicitudes Guardadas",description:"Todas las solicitudes (".concat(i.length,") han sido guardadas en la colecci\xf3n: ").concat(a,".")}):u({title:"Guardado Parcial",description:"Algunas solicitudes no pudieron ser guardadas (ej. faltaba ID). Revise la consola.",variant:"default"})}catch(s){console.error("Error saving solicituds to Firestore collection ".concat(a,": "),s),e=!1,u({title:"Error al Guardar",description:"No se pudieron guardar una o m\xe1s solicitudes. Error: ".concat(s.message),variant:"destructive"})}};return e!==l.I.SUCCESS?null:(0,r.jsx)(Y.lG,{open:e===l.I.SUCCESS,onOpenChange:e=>{e||a(l.I.PREVIEW)},children:(0,r.jsxs)(Y.Cf,{className:"sm:max-w-md",children:[(0,r.jsxs)(Y.c7,{className:"items-center text-center relative",children:[(0,r.jsx)(w.A,{className:"h-16 w-16 text-green-500 mb-4"}),(0,r.jsx)(Y.L3,{className:"text-xl font-semibold text-foreground",children:"\xa1Operaci\xf3n Exitosa!"}),(0,r.jsx)(Y.HM,{asChild:!0,className:"absolute right-0 top-0 p-2 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground","aria-label":"Cerrar",children:(0,r.jsx)(c.$,{variant:"ghost",size:"icon",className:"h-auto w-auto p-0",children:(0,r.jsx)(X.A,{className:"h-5 w-5 text-muted-foreground"})})})]}),(0,r.jsx)(Y.rr,{asChild:!0,children:(0,r.jsxs)("div",{className:"text-center text-muted-foreground space-y-3",children:[(0,r.jsx)("div",{children:"La solicitud de cheque ha sido registrada correctamente. Guardar es la prioridad, dar click a diskette rojo."}),(null==t?void 0:t.manager)&&(0,r.jsxs)("div",{children:["Gracias por tu desempe\xf1o, ",t.manager,"."]})]})}),(0,r.jsxs)("div",{className:"mt-6 flex flex-col space-y-3 items-center",children:[(0,r.jsxs)("div",{className:"flex flex-col space-y-3 sm:flex-row sm:space-y-0 sm:gap-3 sm:justify-center items-center w-full",children:[(0,r.jsx)(c.$,{onClick:p,variant:"destructive",size:"icon","aria-label":"Guardar en Base de Datos",children:(0,r.jsx)(K.A,{className:"h-5 w-5 text-destructive-foreground"})}),(0,r.jsxs)(c.$,{onClick:()=>a(l.I.PREVIEW),variant:"outline",size:"default",className:"w-full sm:w-auto",children:[(0,r.jsx)(ee.A,{className:"mr-2 h-4 w-4"})," Revisar Solicitud"]}),(0,r.jsxs)(c.$,{onClick:()=>s(),className:"btn-primary w-full sm:w-auto",size:"default",children:[(0,r.jsx)(ea.A,{className:"mr-2 h-4 w-4"})," Empezar Nuevo"]})]}),(0,r.jsxs)(c.$,{onClick:()=>{if(!t||!i||0===i.length)return void u({title:"Error",description:"No hay datos de solicitud para enviar por correo.",variant:"destructive"});let e="".concat(d?"Memorandum":"Solicitud de Cheque"," - NE: ").concat(t.ne||"N/A"),a=t.date?(0,C.GP)(new Date(t.date),"PPP",{locale:y.es}):"Fecha no especificada",s=t.manager||"Usuario no especificado",r=i.map(e=>e.id).join(", ")||"ninguna solicitud",n=t.ne||"N/A",o=t.reference||"N/A",l="Buen d\xeda Contabilidad;\n".concat(a,"\n\n");l+="Por este medio, yo ".concat(s,", he generado ID de ").concat(d?"Memorandum":"Solicitud"," No. (").concat(r,") debidamente guardadas en CustomsFA-L, Sistema de Gesti\xf3n de Pagos de ACONIC, solicito su apoyo validando la operaci\xf3n en su integraci\xf3n de sistema local, se entrega ").concat(d?"Memorandum":"Solicitud de Cheque"," f\xedsica firmada.\n\n"),l+="NE: ".concat(n,"\n"),l+="Referencia: ".concat(o,"\n\n"),l+="Sin m\xe1s a que hacer referencia.\n\n",l+="Atentamente,";let c="mailto:".concat("grupocontabilidad@aconic.com.ni, harol.ampie@aconic.com.ni, seguimiento@aconic.com.ni","?subject=").concat(encodeURIComponent(e),"&body=").concat(encodeURIComponent(l));window.location.href=c},variant:"default",size:"default",className:"w-full btn-secondary mt-3",children:[(0,r.jsx)(V.A,{className:"mr-2 h-4 w-4"})," Enviar Correo"]}),(0,r.jsxs)(c.$,{onClick:()=>{m&&m.hasPaymentAccess?x.push("/databasePay"):u({title:"Acceso Denegado",description:"Usuario no autorizado para acceder a la base de datos.",variant:"destructive"})},variant:"default",size:"default",className:"w-full bg-purple-600 text-white hover:bg-purple-700",children:[(0,r.jsx)(es.A,{className:"mr-2 h-4 w-4"})," Ir a base de datos"]})]})]})})}var eo=s(22544),el=s(66942),ei=s(65142),ec=s(31120),ed=s(41052),em=s(11186),eu=s(73457),ex=s(46767),ep=s(15653);ep.z.object({ne:ep.z.string().min(1,"NE es requerido.").regex(/^[a-zA-Z0-9\s]*$/,"NE solo puede contener letras, n\xfameros y espacios."),reference:ep.z.string().optional(),manager:ep.z.string().min(1,"Nombre del Usuario es requerido."),date:ep.z.date({required_error:"Fecha es requerida."}),recipient:ep.z.string().min(1,"Destinatario es requerido.")});let eh=ep.z.object({id:ep.z.string(),name:ep.z.string().min(1,"Nombre del colaborador es requerido."),number:ep.z.string().min(1,"N\xfamero de colaborador es requerido.")}),ej=ep.z.object({id:ep.z.string().optional(),monto:ep.z.preprocess(e=>""===e||null==e?void 0:"string"==typeof e?parseFloat(String(e).replace(/,/g,"")):e,ep.z.number({required_error:"Monto es requerido.",invalid_type_error:"Monto debe ser un n\xfamero."}).min(.01,"Monto debe ser positivo.")),montoMoneda:ep.z.enum(["cordoba","dolar","euro"],{errorMap:()=>({message:"Seleccione una moneda para el monto."})}).optional(),cantidadEnLetras:ep.z.string().optional(),consignatario:ep.z.string().optional(),declaracionNumero:ep.z.string().optional(),unidadRecaudadora:ep.z.string().optional(),codigo1:ep.z.string().optional(),codigo2:ep.z.string().optional(),banco:ep.z.enum(["BAC","BANPRO","BANCENTRO","FICOSHA","AVANZ","ATLANTIDA","ACCION POR CHEQUE/NO APLICA BANCO","Otros"],{errorMap:()=>({message:"Seleccione un banco."})}).optional(),bancoOtros:ep.z.string().optional(),numeroCuenta:ep.z.string().optional(),monedaCuenta:ep.z.enum(["cordoba","dolar","euro","Otros"],{errorMap:()=>({message:"Seleccione moneda de la cuenta."})}).optional(),monedaCuentaOtros:ep.z.string().optional(),elaborarChequeA:ep.z.string().optional(),elaborarTransferenciaA:ep.z.string().optional(),impuestosPagadosCliente:ep.z.boolean().default(!1).optional(),impuestosPagadosRC:ep.z.string().optional(),impuestosPagadosTB:ep.z.string().optional(),impuestosPagadosCheque:ep.z.string().optional(),impuestosPendientesCliente:ep.z.boolean().default(!1).optional(),soporte:ep.z.boolean().default(!1).optional(),documentosAdjuntos:ep.z.boolean().default(!1).optional(),constanciasNoRetencion:ep.z.boolean().default(!1).optional(),constanciasNoRetencion1:ep.z.boolean().default(!1).optional(),constanciasNoRetencion2:ep.z.boolean().default(!1).optional(),pagoServicios:ep.z.boolean().default(!1).optional(),tipoServicio:ep.z.enum(["COMIECO","MARCHAMO","FUMIGACION","RECORRIDO","EPN","ANALISIS_Y_LABORATORIO","OTROS"],{errorMap:()=>({message:"Seleccione un tipo de servicio."})}).optional(),otrosTipoServicio:ep.z.string().optional(),facturaServicio:ep.z.string().optional(),institucionServicio:ep.z.string().optional(),correo:ep.z.string().optional().refine(e=>!e||e.split(";").every(e=>ep.z.string().email().safeParse(e.trim()).success||""===e.trim()),"Uno o m\xe1s correos no son v\xe1lidos."),observation:ep.z.string().optional(),memorandumCollaborators:ep.z.array(eh).optional()}).superRefine((e,a)=>{var s,r,t,n;"Otros"!==e.banco||(null==(s=e.bancoOtros)?void 0:s.trim())||a.addIssue({code:ep.z.ZodIssueCode.custom,message:"Especifique el otro banco.",path:["bancoOtros"]}),"Otros"!==e.monedaCuenta||(null==(r=e.monedaCuentaOtros)?void 0:r.trim())||a.addIssue({code:ep.z.ZodIssueCode.custom,message:"Especifique la otra moneda de la cuenta.",path:["monedaCuentaOtros"]}),e.pagoServicios&&(e.tipoServicio||a.addIssue({code:ep.z.ZodIssueCode.custom,message:"Tipo de servicio es requerido si habilita Pago de Servicios.",path:["tipoServicio"]}),(null==(n=e.institucionServicio)?void 0:n.trim())||a.addIssue({code:ep.z.ZodIssueCode.custom,message:"Instituci\xf3n es requerida si habilita Pago de Servicios.",path:["institucionServicio"]})),"OTROS"!==e.tipoServicio||(null==(t=e.otrosTipoServicio)?void 0:t.trim())||a.addIssue({code:ep.z.ZodIssueCode.custom,message:"Especifique el otro tipo de servicio.",path:["otrosTipoServicio"]})});var ef=s(42997),eN=s(40671);let eg=(0,s(14294).A)("ListFilter",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M7 12h10",key:"b7w52i"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);var ev=s(90109),eb=s(21255),eC=s(91719);let ey=["","UNO","DOS","TRES","CUATRO","CINCO","SEIS","SIETE","OCHO","NUEVE"],eA=["","","VEINTE","TREINTA","CUARENTA","CINCUENTA","SESENTA","SETENTA","OCHENTA","NOVENTA"],eS=["DIEZ","ONCE","DOCE","TRECE","CATORCE","QUINCE","DIECISEIS","DIECISIETE","DIECIOCHO","DIECINUEVE"],ew=["","CIENTO","DOSCIENTOS","TRESCIENTOS","CUATROCIENTOS","QUINIENTOS","SEISCIENTOS","SETECIENTOS","OCHOCIENTOS","NOVECIENTOS"];function eI(e){if(e<0||e>999)return"";let a=[],s=Math.floor(e/100),r=e%100;if(s>0&&(1===s&&0===r?a.push("CIEN"):a.push(ew[s])),r>0){let e=Math.floor(r/10),s=r%10;r>=10&&r<=19?a.push(eS[r-10]):r>=20&&r<=29?20===r?a.push("VEINTE"):a.push("VEINTI"+ey[s]):e>=3?(a.push(eA[e]),s>0&&(a.push("Y"),a.push(ey[s]))):s>0&&a.push(ey[s])}return a.join(" ").replace(/\s+/g," ").trim()}let eR={cordoba:{singular:"CORDOBA",plural:"CORDOBAS",short:"C$"},dolar:{singular:"DOLAR",plural:"DOLARES",short:"US$"},euro:{singular:"EURO",plural:"EUROS",short:"€"}};function eE(e,a){if(null==e||""===e||void 0===a)return"";let s=Number(e);if(isNaN(s)||s<0)return"";let r=eR[a]||{singular:a.toUpperCase(),plural:a.toUpperCase(),short:""};if(0===s)return"CERO CON 00/100 ".concat(r.plural);let[t,n="00"]=String(s.toFixed(2)).split("."),o=parseInt(t,10),l=function(e){if(0===e)return"CERO";if(e<0)return"";let a=[],s=Math.floor(e/1e6),r=Math.floor(e%1e6/1e3),t=e%1e3;if(s>0&&(1===s?a.push("UN MILLON"):(a.push(eI(s)),a.push("MILLONES"))),r>0){if(1===r&&0===s)a.push("MIL");else if(r>0){let e=eI(r);e&&a.push(e),r>1||s>0&&e||0===s&&"UNO"!==e?a.push("MIL"):0===s&&1===r&&"UNO"===e?(a.pop(),a.push("MIL")):0===s&&e&&a.push("MIL")}}if(t>0){let e=eI(t);e&&a.push(e)}return 1===a.length&&"UNO"===a[0]&&1e3===e?"MIL":a.join(" ").replace(/\s+/g," ").trim()}(o);"UNO"===l&&1===o&&(l="UN");let i=n.padEnd(2,"0"),c=1===o&&"UN"===l?r.singular:r.plural;return"".concat(l," CON ").concat(i,"/100 ").concat(c).toUpperCase()}var eO=s(76444),eM=s(11929);let ek=[{id:"1",name:"apen Bancentro C$",accountNumber:"240200457"},{id:"2",name:"DHL Bancentro C$",accountNumber:"100202913"},{id:"3",name:"OIRSA Bancentro C$",accountNumber:"100204959"},{id:"4",name:"OIRSA Bancentro $",accountNumber:"101207188"},{id:"5",name:"IPSA Bancentro C$",accountNumber:"100202228"},{id:"6",name:"IPSA Bancentro $",accountNumber:"101202103"},{id:"7",name:"EPN Bancentro C$",accountNumber:"500200987"},{id:"8",name:"EPN El Rama Bancentro C$",accountNumber:"800200156"},{id:"9",name:"TLA C$",accountNumber:"000257295"},{id:"10",name:"MSC BAC $",accountNumber:"360268908"},{id:"11",name:"IML SEQUEIRA HRZ Ltd. Bancentro C$",accountNumber:"100238209"},{id:"12",name:"COPA BAC C$",accountNumber:"154110054"},{id:"13",name:"Amerijet BAC C$",accountNumber:"356228338"},{id:"14",name:"Hapag-Lloyd Bancentro $",accountNumber:"761600095"},{id:"15",name:"SERMASA Bancentro $",accountNumber:"761602861"},{id:"16",name:"FEDEX Cordoba C$",accountNumber:"220200035"},{id:"17",name:"Bomberos Banpro $",accountNumber:"10012403047675"},{id:"18",name:"TELCOR BAC C$",accountNumber:"000263756"},{id:"19",name:"TELCOR BAC $",accountNumber:"000263749"},{id:"20",name:"Cuenta Principal C$",accountNumber:"00000000"},{id:"21",name:"Cuenta Principal C$",accountNumber:"00000000"},{id:"22",name:"Cuenta Principal C$",accountNumber:"00000000"},{id:"23",name:"Cuenta Principal C$",accountNumber:"00000000"},{id:"24",name:"Cuenta Principal C$",accountNumber:"00000001"},{id:"25",name:"Cuenta Principal C$",accountNumber:"00000002"},{id:"26",name:"Cuenta Principal C$",accountNumber:"00000003"},{id:"27",name:"Cuenta Principal C$",accountNumber:"00000004"},{id:"28",name:"Cuenta Principal C$",accountNumber:"00000005"},{id:"29",name:"Cuenta Principal C$",accountNumber:"00000006"},{id:"30",name:"Cuenta Principal C$",accountNumber:"00000007"}];function eP(){var e;let{isAddProductModalOpen:a,closeAddProductModal:s,addSolicitud:i,updateSolicitud:d,editingSolicitud:m,initialContextData:p,isMemorandumMode:j,resetApp:f}=(0,l.U)(),{user:N}=(0,o.A)(),[g,b]=(0,t.useState)(!1),[C,y]=(0,t.useState)(!1),[A,S]=(0,t.useState)(!1),[w,I]=(0,t.useState)(null),R=(0,n.useRouter)(),E=(0,eo.mN)({resolver:(0,el.u)(ej),defaultValues:{monto:0,montoMoneda:"cordoba",cantidadEnLetras:"",consignatario:"",declaracionNumero:"",unidadRecaudadora:"",codigo1:"",codigo2:"",banco:void 0,bancoOtros:"",numeroCuenta:"",monedaCuenta:void 0,monedaCuentaOtros:"",elaborarChequeA:"",elaborarTransferenciaA:"",impuestosPagadosCliente:!1,impuestosPagadosRC:"",impuestosPagadosTB:"",impuestosPagadosCheque:"",impuestosPendientesCliente:!1,soporte:!1,documentosAdjuntos:!1,constanciasNoRetencion:!1,constanciasNoRetencion1:!1,constanciasNoRetencion2:!1,pagoServicios:!1,tipoServicio:void 0,otrosTipoServicio:"",facturaServicio:"",institucionServicio:"",correo:(null==N?void 0:N.email)||"",observation:"",memorandumCollaborators:[]}}),{fields:O,append:M,remove:k}=(0,eo.jz)({control:E.control,name:"memorandumCollaborators"}),P=E.watch("banco"),z=E.watch("monedaCuenta"),$=E.watch("impuestosPagadosCliente"),J=E.watch("constanciasNoRetencion"),H=E.watch("monto"),G=E.watch("montoMoneda"),Z=E.watch("pagoServicios"),Q=E.watch("tipoServicio");if((0,t.useEffect)(()=>{if(void 0!==H&&H>0&&G){let e=eE(H,G);E.setValue("cantidadEnLetras",e,{shouldValidate:!0})}else E.setValue("cantidadEnLetras","",{shouldValidate:!0})},[H,G,E]),(0,t.useEffect)(()=>{b("Otros"===P),"ACCION POR CHEQUE/NO APLICA BANCO"===P&&(E.setValue("bancoOtros",""),E.setValue("numeroCuenta",""),E.setValue("monedaCuenta",void 0),E.setValue("monedaCuentaOtros",""),y(!1),I(null))},[P,E]),(0,t.useEffect)(()=>{y("Otros"===z)},[z]),(0,t.useEffect)(()=>{S("OTROS"===Q)},[Q]),(0,t.useEffect)(()=>{if(a){let a=(null==N?void 0:N.email)||"",d={monto:0,montoMoneda:"cordoba",cantidadEnLetras:"",consignatario:(null==p?void 0:p.consignee)||"",declaracionNumero:(null==p?void 0:p.declaracionAduanera)||"",unidadRecaudadora:"",codigo1:"",codigo2:"",banco:void 0,bancoOtros:"",numeroCuenta:"",monedaCuenta:void 0,monedaCuentaOtros:"",elaborarChequeA:"",elaborarTransferenciaA:"",impuestosPagadosCliente:!1,impuestosPagadosRC:"",impuestosPagadosTB:"",impuestosPagadosCheque:"",impuestosPendientesCliente:!1,soporte:!1,documentosAdjuntos:!1,constanciasNoRetencion:!1,constanciasNoRetencion1:!1,constanciasNoRetencion2:!1,pagoServicios:!1,tipoServicio:void 0,otrosTipoServicio:"",facturaServicio:"",institucionServicio:"",correo:a,observation:"",memorandumCollaborators:[]};if(I(null),m){var e,s,r,t,n,o,l,i,c;let u=null!=(e=m.monto)?e:0,x={...d,...m,monto:u,correo:m.correo||a,soporte:null!=(s=m.soporte)&&s,pagoServicios:null!=(r=m.pagoServicios)&&r,impuestosPagadosCliente:null!=(t=m.impuestosPagadosCliente)&&t,impuestosPendientesCliente:null!=(n=m.impuestosPendientesCliente)&&n,documentosAdjuntos:null!=(o=m.documentosAdjuntos)&&o,constanciasNoRetencion:null!=(l=m.constanciasNoRetencion)&&l,constanciasNoRetencion1:null!=(i=m.constanciasNoRetencion1)&&i,constanciasNoRetencion2:null!=(c=m.constanciasNoRetencion2)&&c,banco:m.banco||void 0,monedaCuenta:m.monedaCuenta||void 0,tipoServicio:m.tipoServicio||void 0,memorandumCollaborators:m.memorandumCollaborators||[]};if(E.reset(x),b("Otros"===m.banco),y("Otros"===m.monedaCuenta),S("OTROS"===m.tipoServicio),u>0&&x.montoMoneda){let e=eE(u,x.montoMoneda);E.setValue("cantidadEnLetras",e,{shouldValidate:!1})}else E.setValue("cantidadEnLetras","",{shouldValidate:!1});let p=ek.find(e=>e.accountNumber===m.numeroCuenta);p&&I(p.name)}else E.reset(d),b(!1),y(!1),S(!1)}},[m,E,a,N,p]),!a)return null;let W="ACCION POR CHEQUE/NO APLICA BANCO"===P,K=m?m.id:(null==p?void 0:p.ne)?"".concat(p.ne,"-AAAAmmdd-HHmmss (Al guardar)"):"ID (Se generar\xe1 al guardar)";return(0,r.jsx)(Y.lG,{open:a,onOpenChange:e=>!e&&s(),children:(0,r.jsx)(Y.Cf,{className:"max-w-4xl w-full p-0",children:(0,r.jsx)(_.F,{className:"max-h-[85vh]",children:(0,r.jsxs)("div",{className:"p-6",children:[(0,r.jsxs)(Y.c7,{className:"mb-6",children:[(0,r.jsxs)(Y.L3,{className:"text-xl font-semibold text-foreground",children:[m?"Editar Solicitud":"Nueva Solicitud",j&&(0,r.jsx)(u.E,{variant:"destructive",className:"ml-3 align-middle",children:"Memorandum"})]}),(0,r.jsx)("button",{onClick:s,className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground","aria-label":"Cerrar",children:(0,r.jsx)(X.A,{className:"h-6 w-6 text-muted-foreground"})})]}),(0,r.jsx)(ed.lV,{...E,children:(0,r.jsxs)("form",{onSubmit:E.handleSubmit(function(e){var a,r;let t={...e,monto:e.monto,soporte:null!=(a=e.soporte)&&a,pagoServicios:null!=(r=e.pagoServicios)&&r,montoMoneda:e.montoMoneda,banco:e.banco,monedaCuenta:e.monedaCuenta,tipoServicio:e.tipoServicio,isMemorandum:j,memorandumCollaborators:e.memorandumCollaborators||[]};m&&m.id?d({...t,id:m.id}):i(t),s()}),className:"space-y-6",children:[Object.keys(E.formState.errors).length>0&&(0,r.jsxs)("div",{className:"p-3 mb-4 text-sm text-destructive bg-destructive/10 rounded-md border border-destructive/30",role:"alert",children:[(0,r.jsx)("p",{className:"font-bold",children:"Por favor, corrija los siguientes errores:"}),(0,r.jsx)("ul",{className:"list-disc list-inside mt-1",children:Object.entries(E.formState.errors).map(e=>{let[a,s]=e;if(s&&s.message){let e=a;return e=({monto:"Monto",montoMoneda:"Moneda del Monto",cantidadEnLetras:"Cantidad en Letras",consignatario:"Consignatario",declaracionNumero:"Declaraci\xf3n N\xfamero",unidadRecaudadora:"Unidad Recaudadora",codigo1:"C\xf3digo 1",codigo2:"Codigo MUR",banco:"Banco",bancoOtros:"Otro Banco",numeroCuenta:"N\xfamero de Cuenta",monedaCuenta:"Moneda de la Cuenta",monedaCuentaOtros:"Otra Moneda de Cuenta",elaborarChequeA:"Elaborar Cheque A",elaborarTransferenciaA:"Elaborar Transferencia A",impuestosPagadosRC:"R/C (Impuestos Pagados)",impuestosPagadosTB:"T/B (Impuestos Pagados)",impuestosPagadosCheque:"Cheque (Impuestos Pagados)",correo:"Correo",observation:"Observaci\xf3n",tipoServicio:"Tipo de Servicio",otrosTipoServicio:"Especifique Otro Tipo de Servicio",facturaServicio:"Factura (Servicio)",institucionServicio:"Instituci\xf3n (Servicio)"})[a]||a.replace(/([A-Z])/g," $1").toLowerCase(),(0,r.jsxs)("li",{children:[(0,r.jsx)("span",{className:"capitalize",children:e}),": ",s.message]},a)}return null})})]}),j&&(0,r.jsxs)("div",{className:"space-y-4 p-4 border border-destructive/50 rounded-md bg-destructive/5",children:[(0,r.jsx)("h4",{className:"text-md font-medium text-destructive mb-2",children:"Colaboradores del Memorandum"}),O.map((e,a)=>(0,r.jsxs)("div",{className:"flex items-end gap-3 p-3 border rounded-md",children:[(0,r.jsx)(ed.zB,{control:E.control,name:"memorandumCollaborators.".concat(a,".name"),render:e=>{let{field:a}=e;return(0,r.jsxs)(ed.eI,{className:"flex-grow",children:[(0,r.jsx)(ed.lR,{className:"text-xs",children:"Nombre del Colaborador"}),(0,r.jsx)(ed.MJ,{children:(0,r.jsx)(ei.p,{...a,placeholder:"Nombre completo"})}),(0,r.jsx)(ed.C5,{})]})}}),(0,r.jsx)(ed.zB,{control:E.control,name:"memorandumCollaborators.".concat(a,".number"),render:e=>{let{field:a}=e;return(0,r.jsxs)(ed.eI,{className:"flex-grow",children:[(0,r.jsx)(ed.lR,{className:"text-xs",children:"N\xfamero de Colaborador"}),(0,r.jsx)(ed.MJ,{children:(0,r.jsx)(ei.p,{...a,placeholder:"ID o n\xfamero"})}),(0,r.jsx)(ed.C5,{})]})}}),(0,r.jsx)(c.$,{type:"button",variant:"destructive",size:"icon",onClick:()=>k(a),className:"h-9 w-9 shrink-0",children:(0,r.jsx)(v.A,{className:"h-4 w-4"})})]},e.id)),(0,r.jsxs)(c.$,{type:"button",variant:"outline",onClick:()=>M({id:(0,eM.A)(),name:"",number:""}),className:"mt-2",children:[(0,r.jsx)(ef.A,{className:"mr-2 h-4 w-4"})," A\xf1adir Colaborador"]})]}),(0,r.jsxs)("div",{className:"space-y-4 p-4 border rounded-md",children:[(0,r.jsx)("h4",{className:"text-md font-medium text-primary mb-2",children:"Detalles del Monto"}),(0,r.jsx)(ed.zB,{control:E.control,name:"monto",render:e=>{var a;let{field:s}=e;return(0,r.jsxs)(ed.eI,{children:[(0,r.jsxs)(ed.lR,{className:"flex items-center text-sm text-foreground",children:[(0,r.jsx)(eN.A,{className:"mr-2 h-4 w-4 text-primary"}),"Por este medio me dirijo a usted para solicitarle que elabore cheque por la cantidad de:"]}),(0,r.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,r.jsx)(ed.MJ,{children:(0,r.jsx)(ei.p,{type:"text",inputMode:"decimal",placeholder:"0.00",value:null!=(a=s.value)?a:"",onChange:e=>{let a=(e=>{if(null==e)return"";let a=String(e),s=(a=a.replace(/[^0-9.]/g,"")).indexOf(".");if(-1!==s&&(a=a.substring(0,s+1)+a.substring(s+1).replace(/\./g,"")),-1!==s){let e=a.split(".");e[1]&&e[1].length>2&&(a=e[0]+"."+e[1].substring(0,2))}return a})(e.target.value);s.onChange(a)},className:"w-2/3"})}),(0,r.jsx)(ed.zB,{control:E.control,name:"montoMoneda",render:e=>{let{field:a}=e;return(0,r.jsxs)(em.l6,{onValueChange:a.onChange,value:a.value||"cordoba",children:[(0,r.jsx)(ed.MJ,{children:(0,r.jsx)(em.bq,{className:"w-1/3",children:(0,r.jsx)(em.yv,{placeholder:"Moneda"})})}),(0,r.jsxs)(em.gC,{children:[(0,r.jsx)(em.eb,{value:"cordoba",children:"C$ (C\xf3rdobas)"}),(0,r.jsx)(em.eb,{value:"dolar",children:"US$ (D\xf3lares)"}),(0,r.jsx)(em.eb,{value:"euro",children:"€ (Euros)"})]})]})}})]}),(0,r.jsx)(ed.C5,{})]})}}),(0,r.jsx)(ed.zB,{control:E.control,name:"cantidadEnLetras",render:e=>{var a;let{field:s}=e;return(0,r.jsxs)(ed.eI,{children:[(0,r.jsxs)(ed.lR,{className:"flex items-center text-foreground",children:[(0,r.jsx)(x.A,{className:"mr-2 h-4 w-4 text-primary"}),"Cantidad en letras"]}),(0,r.jsx)(ed.MJ,{children:(0,r.jsx)(ec.T,{rows:2,placeholder:"Generado autom\xe1ticamente...",...s,value:null!=(a=s.value)?a:"",readOnly:!0,className:"bg-muted/50 cursor-not-allowed"})}),(0,r.jsx)(ed.C5,{})]})}})]}),(0,r.jsxs)("div",{className:"space-y-4 p-4 border rounded-md",children:[(0,r.jsx)("h4",{className:"text-md font-medium text-primary mb-2",children:"Informaci\xf3n Adicional de Solicitud"}),(0,r.jsx)(ed.zB,{control:E.control,name:"consignatario",render:e=>{var a;let{field:s}=e;return(0,r.jsxs)(ed.eI,{children:[(0,r.jsxs)(ed.lR,{className:"flex items-center text-foreground",children:[(0,r.jsx)(B.A,{className:"mr-2 h-4 w-4 text-primary"}),"Consignatario"]}),(0,r.jsx)(ed.MJ,{children:(0,r.jsx)(ei.p,{placeholder:"Nombre del consignatario",...s,value:null!=(a=s.value)?a:""})}),(0,r.jsx)(ed.C5,{})]})}}),(0,r.jsx)(ed.zB,{control:E.control,name:"declaracionNumero",render:e=>{var a;let{field:s}=e;return(0,r.jsxs)(ed.eI,{children:[(0,r.jsxs)(ed.lR,{className:"flex items-center text-foreground",children:[(0,r.jsx)(D.A,{className:"mr-2 h-4 w-4 text-primary"}),"Declaracion N\xfamero"]}),(0,r.jsx)(ed.MJ,{children:(0,r.jsx)(ei.p,{...s,value:null!=(a=s.value)?a:""})}),(0,r.jsx)(ed.C5,{})]})}}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,r.jsx)(ed.zB,{control:E.control,name:"unidadRecaudadora",render:e=>{var a;let{field:s}=e;return(0,r.jsxs)(ed.eI,{children:[(0,r.jsxs)(ed.lR,{className:"flex items-center text-foreground",children:[(0,r.jsx)(L.A,{className:"mr-2 h-4 w-4 text-primary"}),"Unidad recaudadora"]}),(0,r.jsx)(ed.MJ,{children:(0,r.jsx)(ei.p,{...s,value:null!=(a=s.value)?a:""})}),(0,r.jsx)(ed.C5,{})]})}}),(0,r.jsx)(ed.zB,{control:E.control,name:"codigo1",render:e=>{var a;let{field:s}=e;return(0,r.jsxs)(ed.eI,{children:[(0,r.jsxs)(ed.lR,{className:"flex items-center text-foreground",children:[(0,r.jsx)(U.A,{className:"mr-2 h-4 w-4 text-primary"}),"Codigo 1"]}),(0,r.jsx)(ed.MJ,{children:(0,r.jsx)(ei.p,{...s,value:null!=(a=s.value)?a:""})}),(0,r.jsx)(ed.C5,{})]})}}),(0,r.jsx)(ed.zB,{control:E.control,name:"codigo2",render:e=>{var a;let{field:s}=e;return(0,r.jsxs)(ed.eI,{children:[(0,r.jsxs)(ed.lR,{className:"flex items-center text-foreground",children:[(0,r.jsx)(U.A,{className:"mr-2 h-4 w-4 text-primary"}),"Codigo MUR"]}),(0,r.jsx)(ed.MJ,{children:(0,r.jsx)(ei.p,{...s,value:null!=(a=s.value)?a:""})}),(0,r.jsx)(ed.C5,{})]})}})]})]}),(0,r.jsxs)("div",{className:"space-y-4 p-4 border rounded-md",children:[(0,r.jsx)("h4",{className:"text-md font-medium text-primary mb-3",children:"Cuenta"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 items-start",children:[(0,r.jsx)(ed.zB,{control:E.control,name:"banco",render:e=>{let{field:a}=e;return(0,r.jsxs)(ed.eI,{children:[(0,r.jsxs)(ed.lR,{className:"flex items-center text-foreground",children:[(0,r.jsx)(q.A,{className:"mr-2 h-4 w-4 text-primary"}),"Banco"]}),(0,r.jsxs)(em.l6,{onValueChange:a.onChange,value:a.value,children:[(0,r.jsx)(ed.MJ,{children:(0,r.jsx)(em.bq,{children:(0,r.jsx)(em.yv,{placeholder:"Seleccione un banco"})})}),(0,r.jsx)(em.gC,{children:["BAC","BANPRO","BANCENTRO","FICOSHA","AVANZ","ATLANTIDA","ACCION POR CHEQUE/NO APLICA BANCO","Otros"].map(e=>(0,r.jsx)(em.eb,{value:e,children:e},e))})]}),(0,r.jsx)(ed.C5,{})]})}}),g&&!W&&(0,r.jsx)(ed.zB,{control:E.control,name:"bancoOtros",render:e=>{var a;let{field:s}=e;return(0,r.jsxs)(ed.eI,{children:[(0,r.jsxs)(ed.lR,{className:"flex items-center text-foreground",children:[(0,r.jsx)(ea.A,{className:"mr-2 h-4 w-4 text-primary"}),"Especifique Otro Banco"]}),(0,r.jsx)(ed.MJ,{children:(0,r.jsx)(ei.p,{...s,value:null!=(a=s.value)?a:""})}),(0,r.jsx)(ed.C5,{})]})}}),(0,r.jsx)(ed.zB,{control:E.control,name:"monedaCuenta",render:e=>{let{field:a}=e;return(0,r.jsxs)(ed.eI,{children:[(0,r.jsxs)(ed.lR,{className:"flex items-center text-foreground",children:[(0,r.jsx)(T.A,{className:"mr-2 h-4 w-4 text-primary"}),"Moneda de la cuenta"]}),(0,r.jsxs)(em.l6,{onValueChange:a.onChange,value:a.value,disabled:W,children:[(0,r.jsx)(ed.MJ,{children:(0,r.jsx)(em.bq,{children:(0,r.jsx)(em.yv,{placeholder:"Seleccione moneda"})})}),(0,r.jsxs)(em.gC,{children:[(0,r.jsx)(em.eb,{value:"cordoba",children:"C$ (C\xf3rdobas)"}),(0,r.jsx)(em.eb,{value:"dolar",children:"US$ (D\xf3lares)"}),(0,r.jsx)(em.eb,{value:"euro",children:"€ (Euros)"}),(0,r.jsx)(em.eb,{value:"Otros",children:"Otros"})]})]}),(0,r.jsx)(ed.C5,{})]})}}),C&&!W&&(0,r.jsx)(ed.zB,{control:E.control,name:"monedaCuentaOtros",render:e=>{var a;let{field:s}=e;return(0,r.jsxs)(ed.eI,{children:[(0,r.jsxs)(ed.lR,{className:"flex items-center text-foreground",children:[(0,r.jsx)(ea.A,{className:"mr-2 h-4 w-4 text-primary"}),"Especifique Otra Moneda"]}),(0,r.jsx)(ed.MJ,{children:(0,r.jsx)(ei.p,{...s,value:null!=(a=s.value)?a:""})}),(0,r.jsx)(ed.C5,{})]})}}),(0,r.jsx)(ed.zB,{control:E.control,name:"numeroCuenta",render:e=>{var a;let{field:s}=e;return(0,r.jsxs)(ed.eI,{className:"md:col-span-2",children:[(0,r.jsxs)(ed.lR,{className:"flex items-center text-foreground",children:[(0,r.jsx)(eg,{className:"mr-2 h-4 w-4 text-primary"}),"Numero de cuenta"]}),(0,r.jsx)(ed.MJ,{children:(0,r.jsx)(ei.p,{...s,value:null!=(a=s.value)?a:"",disabled:W})}),(0,r.jsx)(ed.C5,{})]})}})]}),!W&&(0,r.jsxs)("div",{className:"mt-4 space-y-2",children:[(0,r.jsxs)(eO.J,{className:"flex items-center text-foreground",children:[(0,r.jsx)(ev.A,{className:"mr-2 h-4 w-4 text-primary"}),"Registro de cuentas"]}),(0,r.jsx)(ex.Bc,{children:(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsxs)(em.l6,{onValueChange:e=>{let a=ek.find(a=>a.id===e);a?(E.setValue("numeroCuenta",a.accountNumber,{shouldValidate:!0}),I(a.name)):I(null)},value:(null==(e=ek.find(e=>e.accountNumber===E.getValues("numeroCuenta")))?void 0:e.id)||"",children:[(0,r.jsx)(em.bq,{className:"w-[180px] flex-shrink-0",children:(0,r.jsx)(em.yv,{placeholder:"Reg. #"})}),(0,r.jsx)(em.gC,{children:ek.map(e=>(0,r.jsxs)(ex.m_,{children:[(0,r.jsx)(ex.k$,{asChild:!0,children:(0,r.jsxs)(em.eb,{value:e.id,children:[e.id," - ",e.name]})}),(0,r.jsxs)(ex.ZI,{side:"right",align:"start",children:[(0,r.jsx)("p",{className:"text-xs",children:e.name}),(0,r.jsx)("p",{className:"text-xs text-muted-foreground",children:e.accountNumber})]})]},e.id))})]}),(0,r.jsx)(ei.p,{type:"text",value:w||"Nombre del registro",readOnly:!0,disabled:!0,className:"flex-grow bg-muted/50 cursor-not-allowed"})]})})]})]}),(0,r.jsxs)("div",{className:"space-y-4 p-4 border rounded-md",children:[(0,r.jsx)("h4",{className:"text-md font-medium text-primary mb-2",children:"Beneficiario del Pago"}),(0,r.jsx)(ed.zB,{control:E.control,name:"elaborarChequeA",render:e=>{var a;let{field:s}=e;return(0,r.jsxs)(ed.eI,{children:[(0,r.jsxs)(ed.lR,{className:"flex items-center text-foreground",children:[(0,r.jsx)(eb.A,{className:"mr-2 h-4 w-4 text-primary"}),"Elaborar cheque a"]}),(0,r.jsx)(ed.MJ,{children:(0,r.jsx)(ei.p,{...s,placeholder:"Nombre del beneficiario del cheque",value:null!=(a=s.value)?a:""})}),(0,r.jsx)(ed.C5,{})]})}}),(0,r.jsx)(ed.zB,{control:E.control,name:"elaborarTransferenciaA",render:e=>{var a;let{field:s}=e;return(0,r.jsxs)(ed.eI,{children:[(0,r.jsxs)(ed.lR,{className:"flex items-center text-foreground",children:[(0,r.jsx)(eb.A,{className:"mr-2 h-4 w-4 text-primary"}),"Elaborar transferencia a"]}),(0,r.jsx)(ed.MJ,{children:(0,r.jsx)(ei.p,{...s,placeholder:"Nombre del beneficiario de la transferencia",value:null!=(a=s.value)?a:""})}),(0,r.jsx)(ed.C5,{})]})}})]}),(0,r.jsxs)("div",{className:"space-y-4 p-4 border rounded-md",children:[(0,r.jsx)("h4",{className:"text-md font-medium text-primary mb-3",children:"Detalles Adicionales y Documentaci\xf3n"}),(0,r.jsx)(ed.zB,{control:E.control,name:"impuestosPendientesCliente",render:e=>{let{field:a}=e;return(0,r.jsxs)(ed.eI,{className:"flex flex-row items-center space-x-3 space-y-0",children:[(0,r.jsx)(ed.MJ,{children:(0,r.jsx)(eu.S,{checked:a.value,onCheckedChange:a.onChange})}),(0,r.jsx)(ed.lR,{className:"text-sm font-normal text-foreground",children:"Impuestos pendientes de pago por el cliente"})]})}}),(0,r.jsx)(ed.zB,{control:E.control,name:"soporte",render:e=>{let{field:a}=e;return(0,r.jsxs)(ed.eI,{className:"flex flex-row items-center space-x-3 space-y-0",children:[(0,r.jsx)(ed.MJ,{children:(0,r.jsx)(eu.S,{checked:a.value,onCheckedChange:a.onChange})}),(0,r.jsx)(ed.lR,{className:"text-sm font-normal text-foreground",children:"Soporte"})]})}}),(0,r.jsx)(ed.zB,{control:E.control,name:"impuestosPagadosCliente",render:e=>{let{field:a}=e;return(0,r.jsxs)(ed.eI,{className:"flex flex-row items-center space-x-3 space-y-0",children:[(0,r.jsx)(ed.MJ,{children:(0,r.jsx)(eu.S,{checked:a.value,onCheckedChange:a.onChange})}),(0,r.jsx)(ed.lR,{className:"text-sm font-normal text-foreground",children:"Impuestos pagados por el cliente mediante:"})]})}}),$&&(0,r.jsxs)("div",{className:"ml-8 mt-2 space-y-3 grid grid-cols-1 md:grid-cols-3 gap-3 p-3 border rounded-md bg-secondary/30",children:[(0,r.jsx)(ed.zB,{control:E.control,name:"impuestosPagadosRC",render:e=>{var a;let{field:s}=e;return(0,r.jsxs)(ed.eI,{children:[(0,r.jsx)(ed.lR,{className:"text-xs h-5 flex items-center",children:"R/C"}),(0,r.jsx)(ed.MJ,{children:(0,r.jsx)(ei.p,{placeholder:"No. R/C",...s,value:null!=(a=s.value)?a:""})}),(0,r.jsx)(ed.C5,{})]})}}),(0,r.jsx)(ed.zB,{control:E.control,name:"impuestosPagadosTB",render:e=>{var a;let{field:s}=e;return(0,r.jsxs)(ed.eI,{children:[(0,r.jsx)(ed.lR,{className:"text-xs h-5 flex items-center",children:"T/B"}),(0,r.jsx)(ed.MJ,{children:(0,r.jsx)(ei.p,{placeholder:"No. T/B",...s,value:null!=(a=s.value)?a:""})}),(0,r.jsx)(ed.C5,{})]})}}),(0,r.jsx)(ed.zB,{control:E.control,name:"impuestosPagadosCheque",render:e=>{var a;let{field:s}=e;return(0,r.jsxs)(ed.eI,{children:[(0,r.jsx)(ed.lR,{className:"text-xs h-5 flex items-center",children:"Cheque"}),(0,r.jsx)(ed.MJ,{children:(0,r.jsx)(ei.p,{placeholder:"No. Cheque",...s,value:null!=(a=s.value)?a:""})}),(0,r.jsx)(ed.C5,{})]})}})]}),(0,r.jsx)(ed.zB,{control:E.control,name:"documentosAdjuntos",render:e=>{let{field:a}=e;return(0,r.jsxs)(ed.eI,{className:"flex flex-row items-center space-x-3 space-y-0",children:[(0,r.jsx)(ed.MJ,{children:(0,r.jsx)(eu.S,{checked:a.value,onCheckedChange:a.onChange})}),(0,r.jsx)(ed.lR,{className:"text-sm font-normal text-foreground",children:"Se a\xf1aden documentos adjuntos"})]})}}),(0,r.jsx)(ed.zB,{control:E.control,name:"constanciasNoRetencion",render:e=>{let{field:a}=e;return(0,r.jsxs)(ed.eI,{className:"flex flex-row items-center space-x-3 space-y-0",children:[(0,r.jsx)(ed.MJ,{children:(0,r.jsx)(eu.S,{checked:a.value,onCheckedChange:a.onChange})}),(0,r.jsx)(ed.lR,{className:"text-sm font-normal text-foreground",children:"Constancias de no retencion"})]})}}),J&&(0,r.jsxs)("div",{className:"ml-8 mt-2 space-x-6 flex p-3 border rounded-md bg-secondary/30",children:[(0,r.jsx)(ed.zB,{control:E.control,name:"constanciasNoRetencion1",render:e=>{let{field:a}=e;return(0,r.jsxs)(ed.eI,{className:"flex flex-row items-center space-x-2 space-y-0",children:[(0,r.jsx)(ed.MJ,{children:(0,r.jsx)(eu.S,{checked:a.value,onCheckedChange:a.onChange})}),(0,r.jsx)(ed.lR,{className:"text-sm font-normal text-foreground",children:"1%"})]})}}),(0,r.jsx)(ed.zB,{control:E.control,name:"constanciasNoRetencion2",render:e=>{let{field:a}=e;return(0,r.jsxs)(ed.eI,{className:"flex flex-row items-center space-x-2 space-y-0",children:[(0,r.jsx)(ed.MJ,{children:(0,r.jsx)(eu.S,{checked:a.value,onCheckedChange:a.onChange})}),(0,r.jsx)(ed.lR,{className:"text-sm font-normal text-foreground",children:"2%"})]})}})]})]}),(0,r.jsxs)("div",{className:"space-y-4 p-4 border rounded-md",children:[(0,r.jsx)("h4",{className:"text-md font-medium text-primary mb-3",children:"Pago de Servicios"}),(0,r.jsx)(ed.zB,{control:E.control,name:"pagoServicios",render:e=>{var a;let{field:s}=e;return(0,r.jsxs)(ed.eI,{className:"flex flex-row items-center space-x-3 space-y-0",children:[(0,r.jsx)(ed.MJ,{children:(0,r.jsx)(eu.S,{checked:null!=(a=s.value)&&a,onCheckedChange:s.onChange})}),(0,r.jsx)(ed.lR,{className:"text-sm font-normal text-foreground",children:"Habilitar Pago de Servicios"})]})}}),Z&&(0,r.jsxs)("div",{className:"ml-8 mt-2 space-y-3 grid grid-cols-1 md:grid-cols-2 gap-4 p-3 border rounded-md bg-secondary/30",children:[(0,r.jsx)(ed.zB,{control:E.control,name:"tipoServicio",render:e=>{let{field:a}=e;return(0,r.jsxs)(ed.eI,{className:A?"md:col-span-1":"md:col-span-2",children:[(0,r.jsxs)(ed.lR,{className:"flex items-center text-foreground",children:[(0,r.jsx)(eC.A,{className:"mr-2 h-4 w-4 text-primary"}),"Tipo"]}),(0,r.jsxs)(em.l6,{onValueChange:e=>a.onChange(e),value:a.value,children:[(0,r.jsx)(ed.MJ,{children:(0,r.jsx)(em.bq,{children:(0,r.jsx)(em.yv,{placeholder:"Seleccione tipo de servicio"})})}),(0,r.jsxs)(em.gC,{children:[(0,r.jsx)(em.eb,{value:"COMIECO",children:"COMIECO"}),(0,r.jsx)(em.eb,{value:"MARCHAMO",children:"MARCHAMO"}),(0,r.jsx)(em.eb,{value:"FUMIGACION",children:"FUMIGACION"}),(0,r.jsx)(em.eb,{value:"RECORRIDO",children:"RECORRIDO"}),(0,r.jsx)(em.eb,{value:"EPN",children:"EPN"}),(0,r.jsx)(em.eb,{value:"ANALISIS_Y_LABORATORIO",children:"ANALISIS Y LABORATORIO"}),(0,r.jsx)(em.eb,{value:"OTROS",children:"OTROS"})]})]}),(0,r.jsx)(ed.C5,{})]})}}),A&&(0,r.jsx)(ed.zB,{control:E.control,name:"otrosTipoServicio",render:e=>{var a;let{field:s}=e;return(0,r.jsxs)(ed.eI,{children:[(0,r.jsxs)(ed.lR,{className:"flex items-center text-foreground",children:[(0,r.jsx)(ea.A,{className:"mr-2 h-4 w-4 text-primary"}),"Especifique Otro Tipo"]}),(0,r.jsx)(ed.MJ,{children:(0,r.jsx)(ei.p,{...s,value:null!=(a=s.value)?a:""})}),(0,r.jsx)(ed.C5,{})]})}}),(0,r.jsx)(ed.zB,{control:E.control,name:"facturaServicio",render:e=>{var a;let{field:s}=e;return(0,r.jsxs)(ed.eI,{children:[(0,r.jsxs)(ed.lR,{className:"flex items-center text-foreground",children:[(0,r.jsx)(x.A,{className:"mr-2 h-4 w-4 text-primary"}),"Factura"]}),(0,r.jsx)(ed.MJ,{children:(0,r.jsx)(ei.p,{...s,value:null!=(a=s.value)?a:""})}),(0,r.jsx)(ed.C5,{})]})}}),(0,r.jsx)(ed.zB,{control:E.control,name:"institucionServicio",render:e=>{var a;let{field:s}=e;return(0,r.jsxs)(ed.eI,{children:[(0,r.jsxs)(ed.lR,{className:"flex items-center text-foreground",children:[(0,r.jsx)(L.A,{className:"mr-2 h-4 w-4 text-primary"}),"Instituci\xf3n"]}),(0,r.jsx)(ed.MJ,{children:(0,r.jsx)(ei.p,{...s,value:null!=(a=s.value)?a:""})}),(0,r.jsx)(ed.C5,{})]})}})]})]}),(0,r.jsxs)("div",{className:"space-y-4 p-4 border rounded-md",children:[(0,r.jsx)("h4",{className:"text-md font-medium text-primary mb-2",children:"Comunicaci\xf3n y Observaciones"}),(0,r.jsx)(ed.zB,{control:E.control,name:"correo",render:e=>{var a;let{field:s}=e;return(0,r.jsxs)(ed.eI,{children:[(0,r.jsxs)(ed.lR,{className:"flex items-center text-foreground",children:[(0,r.jsx)(V.A,{className:"mr-2 h-4 w-4 text-primary"}),"Correo (separar con ; para m\xfaltiples)"]}),(0,r.jsx)(ed.MJ,{children:(0,r.jsx)(ei.p,{...s,placeholder:"usuario@ejemplo.com; otro@ejemplo.com",value:null!=(a=s.value)?a:""})}),(0,r.jsx)(ed.C5,{})]})}}),(0,r.jsx)(ed.zB,{control:E.control,name:"observation",render:e=>{var a;let{field:s}=e;return(0,r.jsxs)(ed.eI,{children:[(0,r.jsxs)(ed.lR,{className:"flex items-center text-foreground",children:[(0,r.jsx)(F.A,{className:"mr-2 h-4 w-4 text-primary"}),"Observaci\xf3n"]}),(0,r.jsx)(ed.MJ,{children:(0,r.jsx)(ec.T,{rows:3,...s,value:null!=(a=s.value)?a:""})}),(0,r.jsx)(ed.C5,{})]})}})]}),(0,r.jsxs)("div",{className:"mb-4 p-4 border rounded-md bg-secondary/5",children:[(0,r.jsxs)(eO.J,{htmlFor:"solicitudIdDisplay",className:"flex items-center text-sm mb-1 text-muted-foreground",children:[(0,r.jsx)(h.A,{className:"mr-2 h-4 w-4 text-primary/70"}),"ID de Solicitud"]}),(0,r.jsx)(ei.p,{id:"solicitudIdDisplay",value:K,readOnly:!0,disabled:!0,className:"mt-1 bg-muted/50 cursor-not-allowed text-sm text-foreground"})]}),(0,r.jsxs)(Y.Es,{className:"pt-6 gap-3",children:[(0,r.jsx)(c.$,{type:"button",variant:"outline",onClick:()=>{s(),f(),R.push("/")},children:"Cancelar"}),(0,r.jsx)(c.$,{type:"submit",className:"btn-primary",children:m?"Guardar Cambios":"Guardar Solicitud"})]})]})})]})})})})}var ez=s(92033);function eT(){let{user:e,loading:a}=(0,o.A)(),{currentStep:s,isAddProductModalOpen:c,openAddProductModal:d}=(0,l.U)(),m=(0,n.useRouter)(),[u,x]=(0,t.useState)(!1);return((0,t.useEffect)(()=>{x(!0)},[]),(0,t.useEffect)(()=>{u&&!c&&s===l.I.INITIAL_DATA&&d()},[u,s,c,d]),(0,t.useEffect)(()=>{u&&!a&&(e||m.push("/login"))},[e,a,m,u]),(0,t.useEffect)(()=>{if(!u)return;let e=e=>{s>l.I.INITIAL_DATA&&s<l.I.SUCCESS&&(e.preventDefault(),e.returnValue="")};return window.addEventListener("beforeunload",e),()=>{window.removeEventListener("beforeunload",e)}},[u,s]),u&&!a&&e)?(0,r.jsxs)(i.G,{children:[(0,r.jsx)("div",{className:"py-2 md:py-5",children:(()=>{switch(s){case l.I.PRODUCT_LIST:return(0,r.jsx)(E,{});case l.I.PREVIEW:case l.I.SUCCESS:return(0,r.jsx)(W,{});default:return(0,r.jsx)(E,{})}})()}),(0,r.jsx)(eP,{}),s===l.I.SUCCESS&&(0,r.jsx)(en,{})]}):(0,r.jsxs)("div",{className:"min-h-screen flex items-center justify-center grid-bg",children:[(0,r.jsx)(ez.A,{className:"h-12 w-12 animate-spin text-white"}),(0,r.jsx)("p",{className:"ml-4 text-lg text-white",children:"Cargando aplicaci\xf3n..."})]})}},76251:(e,a,s)=>{"use strict";s.d(a,{A:()=>r});let r=(0,s(14294).A)("Printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]])},87270:(e,a,s)=>{"use strict";s.d(a,{A0:()=>l,BF:()=>i,Hj:()=>c,XI:()=>o,nA:()=>m,nd:()=>d});var r=s(95155),t=s(12115),n=s(64269);let o=t.forwardRef((e,a)=>{let{className:s,...t}=e;return(0,r.jsx)("div",{className:"relative w-full overflow-auto",children:(0,r.jsx)("table",{ref:a,className:(0,n.cn)("w-full caption-bottom text-sm",s),...t})})});o.displayName="Table";let l=t.forwardRef((e,a)=>{let{className:s,...t}=e;return(0,r.jsx)("thead",{ref:a,className:(0,n.cn)("[&_tr]:border-b",s),...t})});l.displayName="TableHeader";let i=t.forwardRef((e,a)=>{let{className:s,...t}=e;return(0,r.jsx)("tbody",{ref:a,className:(0,n.cn)("[&_tr:last-child]:border-0",s),...t})});i.displayName="TableBody",t.forwardRef((e,a)=>{let{className:s,...t}=e;return(0,r.jsx)("tfoot",{ref:a,className:(0,n.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",s),...t})}).displayName="TableFooter";let c=t.forwardRef((e,a)=>{let{className:s,...t}=e;return(0,r.jsx)("tr",{ref:a,className:(0,n.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",s),...t})});c.displayName="TableRow";let d=t.forwardRef((e,a)=>{let{className:s,...t}=e;return(0,r.jsx)("th",{ref:a,className:(0,n.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",s),...t})});d.displayName="TableHead";let m=t.forwardRef((e,a)=>{let{className:s,...t}=e;return(0,r.jsx)("td",{ref:a,className:(0,n.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",s),...t})});m.displayName="TableCell",t.forwardRef((e,a)=>{let{className:s,...t}=e;return(0,r.jsx)("caption",{ref:a,className:(0,n.cn)("mt-4 text-sm text-muted-foreground",s),...t})}).displayName="TableCaption"},92678:(e,a,s)=>{"use strict";s.d(a,{A:()=>r});let r=(0,s(14294).A)("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]])},94979:(e,a,s)=>{"use strict";s.d(a,{A:()=>r});let r=(0,s(14294).A)("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]])},95738:(e,a,s)=>{"use strict";s.d(a,{A:()=>r});let r=(0,s(14294).A)("FilePlus",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M9 15h6",key:"cctwl0"}],["path",{d:"M12 18v-6",key:"17g6i2"}]])}},e=>{e.O(0,[2992,7138,4865,2130,3744,5282,9351,3504,1621,5479,5171,7686,8441,1255,7358],()=>e(e.s=6893)),_N_E=e.O()}]);