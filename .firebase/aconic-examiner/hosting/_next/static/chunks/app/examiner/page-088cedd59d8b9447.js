(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2244],{11860:(e,a,s)=>{"use strict";s.d(a,{AppProvider:()=>x,I:()=>u,U:()=>p});var t=s(95155),r=s(12115),n=s(11929),i=s(54901),l=s(19708),o=s(14585),c=s(15894),d=s(5282),u=function(e){return e[e.WELCOME=0]="WELCOME",e[e.INITIAL_INFO=1]="INITIAL_INFO",e[e.PRODUCT_LIST=2]="PRODUCT_LIST",e[e.PREVIEW=3]="PREVIEW",e[e.SUCCESS=4]="SUCCESS",e[e.INITIAL_DATA=1]="INITIAL_DATA",e[e.SOLICITUD_LIST=2]="SOLICITUD_LIST",e}({});let m=(0,r.createContext)(void 0),x=e=>{let{children:a}=e,[s,u]=(0,r.useState)(null),[x,p]=(0,r.useState)([]),[h,f]=(0,r.useState)(0),[g,j]=(0,r.useState)(null),[N,v]=(0,r.useState)(!1),[b,y]=(0,r.useState)(!1),[A,C]=(0,r.useState)(null),[E,w]=(0,r.useState)(!1),[I,S]=(0,r.useState)([]),[k,D]=(0,r.useState)(null),[R,M]=(0,r.useState)([]),[P,O]=(0,r.useState)(null),[z,U]=(0,r.useState)(!1),[T,F]=(0,r.useState)(null),[_,B]=(0,r.useState)(null),{user:L}=(0,i.A)(),{toast:q}=(0,c.dj)(),[G,V]=(0,r.useState)(L),H=(0,r.useCallback)(()=>{u(null),p([]),f(0),j(null),v(!1),y(!1),C(null),w(!1),S([]),D(null),M([]),O(null),U(!1),F(null),B(null)},[]);(0,r.useEffect)(()=>{((null==L?void 0:L.uid)!==(null==G?void 0:G.uid)||L&&!G||!L&&G)&&(H(),V(L))},[L,G,H]);let J=(0,r.useCallback)(e=>{D(e)},[]),W=(0,r.useCallback)(e=>{if(!(null==k?void 0:k.ne)){console.error("No se puede generar ID de solicitud: falta el NE en el contexto inicial."),q({title:"Error Interno",description:"No se pudo generar un ID para la solicitud porque falta el NE.",variant:"destructive"});return}let a=new Date,s=(0,d.GP)(a,"ddMMyy-HHmmss"),t="".concat(k.ne,"-").concat(s),r={...e,id:t};M(e=>[...e,r])},[k,q]),$=(0,r.useCallback)(e=>{M(a=>a.map(a=>a.id===e.id?e:a))},[]),X=(0,r.useCallback)(e=>{M(a=>a.filter(a=>a.id!==e))},[]),Z=(0,r.useCallback)(e=>{O(e||null),v(!0)},[]),Y=(0,r.useCallback)(async(e,a)=>{if(E&&(null==s?void 0:s.ne)&&(null==L?void 0:L.email))try{let t=(0,l.rJ)(o.db,"examenesRecuperados"),r={examNe:s.ne,action:e,changedBy:L.email,changedAt:l.Dc.fromDate(new Date),details:a};await (0,l.gS)(t,r)}catch(e){console.error("Error writing audit log:",e),q({title:"Error de Auditor\xeda",description:"No se pudo registrar el cambio en la bit\xe1cora de recuperaci\xf3n.",variant:"destructive"})}},[E,null==s?void 0:s.ne,null==L?void 0:L.email,q]),Q=(0,r.useCallback)(async(e,a)=>{if(!(null==e?void 0:e.ne)||!(null==L?void 0:L.email))return void console.log("Soft save prerequisites not met.",{ne:null==e?void 0:e.ne,user:null==L?void 0:L.email});let s=(0,l.H9)(o.db,"examenesPrevios",e.ne.toUpperCase()),t={...e,products:a,savedBy:L.email,status:"incomplete",lastUpdated:l.Dc.fromDate(new Date)};try{let r=await (0,l.x7)(s);1!==a.length||r.exists()&&r.data().createdAt||(t.createdAt=l.Dc.fromDate(new Date)),t.savedAt=l.Dc.fromDate(new Date),await (0,l.BN)(s,t,{merge:!0}),console.log("Soft save successful for NE: ".concat(e.ne))}catch(e){console.error("Error during soft save:",e),q({title:"Error de Autoguardado",description:"No se pudo guardar el progreso. Revisa tu conexi\xf3n.",variant:"destructive"})}},[L,q]),K=(0,r.useCallback)(function(e){let a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];u(e),a&&w(!0)},[]),ee=(0,r.useCallback)(e=>{p(e)},[]),ea=(0,r.useCallback)(e=>{let a={...e,id:(0,n.A)(),productTimestampSaveAt:l.Dc.fromDate(new Date)};p(e=>{let t=[...e,a];return Q(s,t),t}),Y("product_added",{productId:a.id,newData:a})},[s,Q,Y]),es=(0,r.useCallback)(e=>{let a;p(t=>{a=t.find(a=>a.id===e.id);let r=t.map(a=>a.id===e.id?e:a);return Q(s,r),r}),Y("product_updated",{productId:e.id,previousData:a,newData:e}),j(null)},[s,Q,Y]),et=(0,r.useCallback)(e=>{let a;p(t=>{a=t.find(a=>a.id===e);let r=t.filter(a=>a.id!==e);return Q(s,r),r}),a&&Y("product_deleted",{productId:e,previousData:a})},[s,Q,Y]),er=(0,r.useCallback)(e=>{f(e)},[]),en=(0,r.useCallback)(e=>{j(e)},[]),ei=(0,r.useCallback)(e=>{2===h?j(e):2===h&&O(e),v(!0)},[h]),el=(0,r.useCallback)(()=>{v(!1),j(null),O(null)},[]),eo=(0,r.useCallback)(e=>{C(e),y(!0)},[]),ec=(0,r.useCallback)(()=>{y(!1),C(null)},[]),ed=(0,r.useCallback)(e=>{S(a=>a.includes(e)?a.filter(a=>a!==e):[...a,e])},[]),eu=(0,r.useCallback)(()=>{I.length===x.length?S([]):S(x.map(e=>e.id))},[x,I.length]),em=(0,r.useCallback)(()=>{let e=[];p(a=>{let t=a.filter(a=>!I.includes(a.id)||(e.push(a),!1));return Q(s,t),t}),e.forEach(e=>{Y("product_deleted",{productId:e.id,previousData:e})}),S([]),q({title:"Productos eliminados",description:"".concat(e.length," productos han sido eliminados de la lista.")})},[I,Q,s,Y,q]);return(0,t.jsx)(m.Provider,{value:{examData:s,products:x,currentStep:h,editingProduct:g,isAddProductModalOpen:N,isProductDetailModalOpen:b,productToView:A,selectedProducts:I,setExamData:K,setProducts:ee,addProduct:ea,updateProduct:es,deleteProduct:et,setCurrentStep:er,setEditingProduct:en,openAddProductModal:ei,closeAddProductModal:el,openProductDetailModal:eo,closeProductDetailModal:ec,resetApp:H,softSaveExam:Q,toggleProductSelection:ed,toggleSelectAllProducts:eu,deleteSelectedProducts:em,initialContextData:k,setInitialContextData:J,solicitudes:R,addSolicitud:W,updateSolicitud:$,deleteSolicitud:X,editingSolicitud:P,openSolicitudModal:Z,isMemorandumMode:z,setIsMemorandumMode:U,solicitudToViewInline:T,setSolicitudToViewInline:F,caseToAssignAforador:_,setCaseToAssignAforador:B},children:a})},p=()=>{let e=(0,r.useContext)(m);if(void 0===e)throw Error("useAppContext must be used within an AppProvider");return e}},31120:(e,a,s)=>{"use strict";s.d(a,{T:()=>i});var t=s(95155),r=s(12115),n=s(64269);let i=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)("textarea",{className:(0,n.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",s),ref:a,...r})});i.displayName="Textarea"},32383:()=>{},41052:(e,a,s)=>{"use strict";s.d(a,{C5:()=>g,MJ:()=>f,eI:()=>p,lR:()=>h,lV:()=>c,zB:()=>u});var t=s(95155),r=s(12115),n=s(32467),i=s(22544),l=s(64269),o=s(76444);let c=i.Op,d=r.createContext({}),u=e=>{let{...a}=e;return(0,t.jsx)(d.Provider,{value:{name:a.name},children:(0,t.jsx)(i.xI,{...a})})},m=()=>{let e=r.useContext(d),a=r.useContext(x),{getFieldState:s,formState:t}=(0,i.xW)(),n=s(e.name,t);if(!e)throw Error("useFormField should be used within <FormField>");let{id:l}=a;return{id:l,name:e.name,formItemId:"".concat(l,"-form-item"),formDescriptionId:"".concat(l,"-form-item-description"),formMessageId:"".concat(l,"-form-item-message"),...n}},x=r.createContext({}),p=r.forwardRef((e,a)=>{let{className:s,...n}=e,i=r.useId();return(0,t.jsx)(x.Provider,{value:{id:i},children:(0,t.jsx)("div",{ref:a,className:(0,l.cn)("space-y-2",s),...n})})});p.displayName="FormItem";let h=r.forwardRef((e,a)=>{let{className:s,...r}=e,{error:n,formItemId:i}=m();return(0,t.jsx)(o.J,{ref:a,className:(0,l.cn)(n&&"text-destructive",s),htmlFor:i,...r})});h.displayName="FormLabel";let f=r.forwardRef((e,a)=>{let{...s}=e,{error:r,formItemId:i,formDescriptionId:l,formMessageId:o}=m();return(0,t.jsx)(n.DX,{ref:a,id:i,"aria-describedby":r?"".concat(l," ").concat(o):"".concat(l),"aria-invalid":!!r,...s})});f.displayName="FormControl",r.forwardRef((e,a)=>{let{className:s,...r}=e,{formDescriptionId:n}=m();return(0,t.jsx)("p",{ref:a,id:n,className:(0,l.cn)("text-sm text-muted-foreground",s),...r})}).displayName="FormDescription";let g=r.forwardRef((e,a)=>{var s;let{className:r,children:n,...i}=e,{error:o,formMessageId:c}=m(),d=o?String(null!=(s=null==o?void 0:o.message)?s:""):n;return d?(0,t.jsx)("p",{ref:a,id:c,className:(0,l.cn)("text-sm font-medium text-destructive",r),...i,children:d}):null});g.displayName="FormMessage"},51834:(e,a,s)=>{"use strict";s.d(a,{Cf:()=>u,Es:()=>x,HM:()=>c,L3:()=>p,c7:()=>m,lG:()=>l,rr:()=>h});var t=s(95155),r=s(12115),n=s(89511),i=s(64269);let l=n.bL;n.l9;let o=n.ZL,c=n.bm,d=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)(n.hJ,{ref:a,className:(0,i.cn)("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",s),...r})});d.displayName=n.hJ.displayName;let u=r.forwardRef((e,a)=>{let{className:s,children:r,...l}=e;return(0,t.jsxs)(o,{children:[(0,t.jsx)(d,{}),(0,t.jsxs)(n.UC,{ref:a,className:(0,i.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",s),...l,children:[r,(0,t.jsx)(n.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:(0,t.jsx)("span",{className:"sr-only",children:"Close"})})]})]})});u.displayName=n.UC.displayName;let m=e=>{let{className:a,...s}=e;return(0,t.jsx)("div",{className:(0,i.cn)("flex flex-col space-y-1.5 text-center sm:text-left",a),...s})};m.displayName="DialogHeader";let x=e=>{let{className:a,...s}=e;return(0,t.jsx)("div",{className:(0,i.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",a),...s})};x.displayName="DialogFooter";let p=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)(n.hE,{ref:a,className:(0,i.cn)("text-lg font-semibold leading-none tracking-tight",s),...r})});p.displayName=n.hE.displayName;let h=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)(n.VY,{ref:a,className:(0,i.cn)("text-sm text-muted-foreground",s),...r})});h.displayName=n.VY.displayName},65142:(e,a,s)=>{"use strict";s.d(a,{p:()=>i});var t=s(95155),r=s(12115),n=s(64269);let i=r.forwardRef((e,a)=>{let{className:s,type:r,...i}=e;return(0,t.jsx)("input",{type:r,className:(0,n.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","aria-[invalid=true]:border-destructive aria-[invalid=true]:ring-destructive",s),ref:a,...i})});i.displayName="Input"},67829:(e,a,s)=>{Promise.resolve().then(s.bind(s,74807))},73457:(e,a,s)=>{"use strict";s.d(a,{S:()=>o});var t=s(95155),r=s(12115),n=s(38162),i=s(72251),l=s(64269);let o=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)(n.bL,{ref:a,className:(0,l.cn)("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",s),...r,children:(0,t.jsx)(n.C1,{className:(0,l.cn)("flex items-center justify-center text-current"),children:(0,t.jsx)(i.A,{className:"h-4 w-4"})})})});o.displayName=n.bL.displayName},74807:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>eD});var t=s(95155),r=s(12115),n=s(20063),i=s(54901),l=s(11860),o=s(35434),c=s(22544),d=s(66942),u=s(3998),m=s(65142),x=s(41052),p=s(86948),h=s(15653);let f=h.z.object({ne:h.z.string().min(1,"NE es requerido."),reference:h.z.string().optional(),manager:h.z.string().min(1,"Nombre del Gestor es requerido."),location:h.z.string().min(1,"Ubicaci\xf3n es requerida."),consignee:h.z.string().min(1,"Consignatario es requerido.")}),g=h.z.object({id:h.z.string().optional(),itemNumber:h.z.string().optional(),weight:h.z.string().optional(),description:h.z.string().min(1,"Descripci\xf3n es requerida."),brand:h.z.string().optional(),model:h.z.string().optional(),unitMeasure:h.z.string().optional(),serial:h.z.string().optional(),origin:h.z.string().optional(),numberPackages:h.z.string().min(1,"Numeraci\xf3n de Bultos es requerida."),quantityPackages:h.z.coerce.number({required_error:"Cantidad de Bultos es requerida.",invalid_type_error:"Debe ser un n\xfamero."}).min(0,"Cantidad de bultos debe ser positiva."),quantityUnits:h.z.coerce.number({required_error:"Cantidad de Unidades es requerida.",invalid_type_error:"Debe ser un n\xfamero."}).min(0,"Cantidad de unidades debe ser positiva."),packagingCondition:h.z.string().optional(),observation:h.z.string().optional(),isConform:h.z.boolean().default(!1),isExcess:h.z.boolean().default(!1),isMissing:h.z.boolean().default(!1),isFault:h.z.boolean().default(!1),productTimestampSaveAt:h.z.custom().optional()});var j=s(36204),N=s(92033),v=s(15894),b=s(19708),y=s(14585);function A(){let{setExamData:e,setCurrentStep:a,examData:s,softSaveExam:n}=(0,l.U)(),{user:o}=(0,i.A)(),{toast:h}=(0,v.dj)(),[g,A]=(0,r.useState)(!1),C=(null==s?void 0:s.manager)||((null==o?void 0:o.email)?function(e){if(!e)return"";try{return e.substring(0,e.lastIndexOf("@")).split(/[._-]/).map(e=>e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()).join(" ")}catch(e){return console.error("Error extracting name from email:",e),""}}(o.email):""),E=(0,c.mN)({resolver:(0,d.u)(f),defaultValues:{ne:(null==s?void 0:s.ne)||"",reference:(null==s?void 0:s.reference)||"",consignee:(null==s?void 0:s.consignee)||"",manager:C||"",location:(null==s?void 0:s.location)||""}});async function w(t){A(!0);let r=t.ne.toUpperCase().trim();if(!(null==s?void 0:s.ne)){let e=(0,b.H9)(y.db,"examenesPrevios",r);if((await (0,b.x7)(e)).exists()){h({title:"NE Duplicado",description:"El examen NE: ".concat(r," ya existe. Si desea continuarlo, use la funci\xf3n de recuperar."),variant:"destructive"}),A(!1);return}}let i={...t,ne:r};e(i);try{await n(i,[]),h({title:"Informaci\xf3n Guardada",description:"La informaci\xf3n inicial del examen ha sido guardada. Ahora puede a\xf1adir productos."}),a(l.I.PRODUCT_LIST)}catch(e){h({title:"Error al Guardar",description:"No se pudo guardar la informaci\xf3n inicial. Por favor, int\xe9ntelo de nuevo.",variant:"destructive"}),console.error("Failed to soft save initial info:",e)}finally{A(!1)}}return(0,t.jsxs)(p.Zp,{className:"w-full max-w-3xl mx-auto custom-shadow",children:[(0,t.jsx)(p.aR,{children:(0,t.jsx)(p.ZB,{className:"text-2xl font-semibold text-gray-800",children:(null==s?void 0:s.ne)?"Continuando Examen: ".concat(s.ne):"Nuevo Examen"})}),(0,t.jsx)(p.Wu,{children:(0,t.jsx)(x.lV,{...E,children:(0,t.jsxs)("form",{onSubmit:E.handleSubmit(w),className:"space-y-6",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsx)(x.zB,{control:E.control,name:"ne",render:e=>{var a;let{field:r}=e;return(0,t.jsxs)(x.eI,{children:[(0,t.jsx)(x.lR,{children:"NE (Seguimiento NX1) *"}),(0,t.jsx)(x.MJ,{children:(0,t.jsx)(m.p,{placeholder:"Ej: NX1-12345",...r,value:null!=(a=r.value)?a:"",disabled:!!(null==s?void 0:s.ne)})}),(0,t.jsx)(x.C5,{})]})}}),(0,t.jsx)(x.zB,{control:E.control,name:"reference",render:e=>{var a;let{field:s}=e;return(0,t.jsxs)(x.eI,{children:[(0,t.jsx)(x.lR,{children:"Referencia (Contenedor, Gu\xeda, BL, Factura...)"}),(0,t.jsx)(x.MJ,{children:(0,t.jsx)(m.p,{placeholder:"Ej: MSKU1234567",...s,value:null!=(a=s.value)?a:""})}),(0,t.jsx)(x.C5,{})]})}}),(0,t.jsx)(x.zB,{control:E.control,name:"consignee",render:e=>{var a;let{field:s}=e;return(0,t.jsxs)(x.eI,{children:[(0,t.jsx)(x.lR,{children:"Consignatario *"}),(0,t.jsx)(x.MJ,{children:(0,t.jsx)(m.p,{placeholder:"Nombre del consignatario",...s,value:null!=(a=s.value)?a:""})}),(0,t.jsx)(x.C5,{})]})}}),(0,t.jsx)(x.zB,{control:E.control,name:"manager",render:e=>{var a;let{field:s}=e;return(0,t.jsxs)(x.eI,{children:[(0,t.jsx)(x.lR,{children:"Nombre del Gestor *"}),(0,t.jsx)(x.MJ,{children:(0,t.jsx)(m.p,{placeholder:"Nombre completo del gestor",...s,value:null!=(a=s.value)?a:""})}),(0,t.jsx)(x.C5,{})]})}}),(0,t.jsx)(x.zB,{control:E.control,name:"location",render:e=>{var a;let{field:s}=e;return(0,t.jsxs)(x.eI,{children:[(0,t.jsx)(x.lR,{children:"Ubicaci\xf3n de la Mercanc\xeda *"}),(0,t.jsx)(x.MJ,{children:(0,t.jsx)(m.p,{placeholder:"Ej: Almac\xe9n Central, Bodega 5",...s,value:null!=(a=s.value)?a:""})}),(0,t.jsx)(x.C5,{})]})}})]}),(0,t.jsxs)("div",{className:"flex justify-between items-center pt-2",children:[(0,t.jsxs)(u.$,{type:"button",variant:"ghost",onClick:()=>a(l.I.WELCOME),children:[(0,t.jsx)(j.A,{className:"mr-2 h-4 w-4"})," Volver"]}),(0,t.jsxs)(u.$,{type:"submit",className:"btn-primary px-6 py-3",disabled:g,children:[g&&(0,t.jsx)(N.A,{className:"mr-2 h-4 w-4 animate-spin"}),g?"Guardando...":"Guardar y Continuar"]})]})]})})})]})}var C=s(87270),E=s(11647),w=s(20146),I=s(36654),S=s(44749),k=s(13630),D=s(6259),R=s(73457),M=s(98053);function P(){let{products:e,openAddProductModal:a,deleteProduct:s,openProductDetailModal:r,selectedProducts:n,toggleProductSelection:i,toggleSelectAllProducts:o}=(0,l.U)();if(0===e.length)return(0,t.jsx)("div",{className:"text-center py-8 text-gray-500",children:'No hay productos a\xf1adidos. Haga clic en "A\xf1adir Nuevo" para comenzar.'});let c=e.length>0&&n.length===e.length;return(0,t.jsx)("div",{className:"overflow-x-auto table-container rounded-lg border",children:(0,t.jsxs)(C.XI,{children:[(0,t.jsx)(C.A0,{className:"bg-gray-50",children:(0,t.jsxs)(C.Hj,{children:[(0,t.jsx)(C.nd,{className:"px-4 py-3",children:(0,t.jsx)(R.S,{checked:c,onCheckedChange:o,"aria-label":"Seleccionar todo"})}),(0,t.jsx)(C.nd,{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"No. BULTOS"}),(0,t.jsx)(C.nd,{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Item"}),(0,t.jsx)(C.nd,{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Descripci\xf3n"}),(0,t.jsx)(C.nd,{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Marca"}),(0,t.jsx)(C.nd,{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cantidad"}),(0,t.jsx)(C.nd,{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider min-w-[150px]",children:"Estado"}),(0,t.jsx)(C.nd,{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Acciones"})]})}),(0,t.jsx)(C.BF,{className:"bg-white divide-y divide-gray-200",children:e.map(e=>(0,t.jsxs)(C.Hj,{className:(e=>{let a=0;if(e.isConform&&a++,e.isExcess&&a++,e.isMissing&&a++,e.isFault&&a++,a>1)return"hover:bg-muted/50";if(1===a){if(e.isExcess)return"bg-red-50 hover:bg-red-100";if(e.isConform)return"bg-green-50 hover:bg-green-100";if(e.isMissing)return"bg-yellow-50 hover:bg-yellow-100";if(e.isFault)return"bg-gray-50 hover:bg-gray-100"}return"hover:bg-muted/50"})(e),"data-state":n.includes(e.id)?"selected":void 0,children:[(0,t.jsx)(C.nA,{className:"px-4 py-3",children:(0,t.jsx)(R.S,{checked:n.includes(e.id),onCheckedChange:()=>i(e.id),"aria-label":"Seleccionar producto ".concat(e.itemNumber||e.description)})}),(0,t.jsx)(C.nA,{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-500",children:e.numberPackages||"N/A"}),(0,t.jsx)(C.nA,{className:"px-4 py-3 whitespace-nowrap text-sm font-medium text-gray-900",children:e.itemNumber||"N/A"}),(0,t.jsx)(C.nA,{className:"px-4 py-3 text-sm text-gray-500 max-w-xs truncate",children:e.description||"N/A"}),(0,t.jsx)(C.nA,{className:"px-4 py-3 text-sm text-gray-500",children:e.brand||"N/A"}),(0,t.jsx)(C.nA,{className:"px-4 py-3 text-sm text-gray-500",children:"".concat(e.quantityUnits||0," unid. / ").concat(e.quantityPackages||0," bultos")}),(0,t.jsx)(C.nA,{className:"px-4 py-3 text-sm text-gray-500",children:(e=>{let a=[];return(e.isConform&&a.push((0,t.jsx)(E.E,{variant:"default",className:"bg-green-100 text-green-800 whitespace-nowrap",children:"Conforme"},"conform")),e.isExcess&&a.push((0,t.jsx)(E.E,{variant:"destructive",className:"bg-red-100 text-red-800 whitespace-nowrap",children:"Excedente"},"excess")),e.isMissing&&a.push((0,t.jsx)(E.E,{variant:"secondary",className:"bg-yellow-100 text-yellow-800 whitespace-nowrap",children:"Faltante"},"missing")),e.isFault&&a.push((0,t.jsx)(E.E,{variant:"outline",className:"bg-gray-100 text-gray-800 whitespace-nowrap",children:"Aver\xeda"},"fault")),0===a.length)?(0,t.jsx)(E.E,{variant:"outline",children:"Sin Estado"}):(0,t.jsx)("div",{className:"flex flex-wrap gap-1",children:a})})(e)}),(0,t.jsx)(C.nA,{className:"px-4 py-3 whitespace-nowrap text-sm font-medium",children:(0,t.jsxs)(D.rI,{children:[(0,t.jsx)(D.ty,{asChild:!0,children:(0,t.jsxs)(u.$,{variant:"ghost",className:"h-8 w-8 p-0",children:[(0,t.jsx)("span",{className:"sr-only",children:"Abrir men\xfa"}),(0,t.jsx)(w.A,{className:"h-4 w-4"})]})}),(0,t.jsxs)(D.SQ,{align:"end",children:[(0,t.jsxs)(D._2,{onClick:()=>r(e),children:[(0,t.jsx)(I.A,{className:"mr-2 h-4 w-4"})," Ver"]}),(0,t.jsxs)(D._2,{onClick:()=>a(e),children:[(0,t.jsx)(S.A,{className:"mr-2 h-4 w-4"})," Editar"]}),(0,t.jsxs)(M.Lt,{children:[(0,t.jsx)(M.tv,{asChild:!0,children:(0,t.jsxs)("button",{className:"relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 w-full text-destructive focus:bg-destructive/10",children:[(0,t.jsx)(k.A,{className:"mr-2 h-4 w-4"})," Eliminar"]})}),(0,t.jsxs)(M.EO,{children:[(0,t.jsxs)(M.wd,{children:[(0,t.jsx)(M.r7,{children:"\xbfEst\xe1 seguro de eliminar este producto?"}),(0,t.jsx)(M.$v,{children:"Esta acci\xf3n no se puede deshacer."})]}),(0,t.jsxs)(M.ck,{children:[(0,t.jsx)(M.Zr,{children:"Cancelar"}),(0,t.jsx)(M.Rx,{onClick:()=>s(e.id),children:"S\xed, eliminar"})]})]})]})]})]})})]},e.id))})]})})}var O=s(31120),z=s(51834),U=s(17037),T=s(64269);let F=e=>{let{label:a,id:s,checked:r,onChange:n,name:i,value:l,disabled:o,labelClassName:c,containerClassName:d,...u}=e,m=s||"custom-checkbox-".concat(i,"-").concat(l||Math.random().toString(36).substring(7));return(0,t.jsxs)("label",{htmlFor:m,className:(0,T.cn)("custom-checkbox-label",d),children:[(0,t.jsx)("input",{type:"checkbox",id:m,name:i,checked:r,onChange:n,value:l,disabled:o,className:"custom-checkbox-input",...u}),(0,t.jsx)("span",{className:"custom-checkbox-checkmark"}),(0,t.jsx)("span",{className:(0,T.cn)("text-sm text-foreground ml-2",c),children:a})]})};var _=s(26615),B=s(44381),L=s(92129),q=s(5225),G=s(21255),V=s(27237),H=s(86067),J=s(39075),W=s(55666),$=s(22823),X=s(91719),Z=s(12158),Y=s(19201),Q=s(27500);let K=()=>(0,t.jsx)("span",{className:"text-destructive ml-1",children:"*"});function ee(){let{isAddProductModalOpen:e,closeAddProductModal:a,addProduct:s,updateProduct:n,editingProduct:i}=(0,l.U)(),o=(0,c.mN)({resolver:(0,d.u)(g),defaultValues:{itemNumber:"",weight:"",description:"",brand:"",model:"",unitMeasure:"",serial:"",origin:"",numberPackages:"",quantityPackages:void 0,quantityUnits:void 0,packagingCondition:"",observation:"",isConform:!1,isExcess:!1,isMissing:!1,isFault:!1}});return((0,r.useEffect)(()=>{if(e)if(i){var a,s,t,r,n,l,c,d,u,m,x;o.reset({id:i.id,itemNumber:null!=(a=i.itemNumber)?a:"",weight:null!=(s=i.weight)?s:"",description:null!=(t=i.description)?t:"",brand:null!=(r=i.brand)?r:"",model:null!=(n=i.model)?n:"",unitMeasure:null!=(l=i.unitMeasure)?l:"",serial:null!=(c=i.serial)?c:"",origin:null!=(d=i.origin)?d:"",numberPackages:null!=(u=i.numberPackages)?u:"",quantityPackages:void 0!==i.quantityPackages?Number(i.quantityPackages):void 0,quantityUnits:void 0!==i.quantityUnits?Number(i.quantityUnits):void 0,packagingCondition:null!=(m=i.packagingCondition)?m:"",observation:null!=(x=i.observation)?x:"",isConform:i.isConform,isExcess:i.isExcess,isMissing:i.isMissing,isFault:i.isFault,productTimestampSaveAt:i.productTimestampSaveAt})}else o.reset({itemNumber:"",weight:"",description:"",brand:"",model:"",unitMeasure:"",serial:"",origin:"",numberPackages:"",quantityPackages:void 0,quantityUnits:void 0,packagingCondition:"",observation:"",isConform:!1,isExcess:!1,isMissing:!1,isFault:!1})},[i,o,e]),e)?(0,t.jsx)(z.lG,{open:e,onOpenChange:e=>!e&&a(),children:(0,t.jsx)(z.Cf,{className:"max-w-3xl w-full p-0",children:(0,t.jsx)(U.F,{className:"max-h-[85vh]",children:(0,t.jsxs)("div",{className:"p-6",children:[(0,t.jsxs)(z.c7,{className:"mb-4",children:[(0,t.jsx)(z.L3,{className:"text-xl font-semibold text-foreground",children:i?"Editar Producto":"A\xf1adir Producto"}),(0,t.jsx)("button",{onClick:a,className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground","aria-label":"Cerrar",children:(0,t.jsx)(_.A,{className:"h-6 w-6 text-muted-foreground"})})]}),(0,t.jsx)(x.lV,{...o,children:(0,t.jsxs)("form",{onSubmit:o.handleSubmit(function(e){let t={...e,quantityPackages:void 0!==e.quantityPackages?Number(e.quantityPackages):void 0,quantityUnits:void 0!==e.quantityUnits?Number(e.quantityUnits):void 0};i&&i.id?n({...t,id:i.id,productTimestampSaveAt:i.productTimestampSaveAt}):s(t),a()}),className:"space-y-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsx)(x.zB,{control:o.control,name:"itemNumber",render:e=>{var a;let{field:s}=e;return(0,t.jsxs)(x.eI,{children:[(0,t.jsxs)(x.lR,{className:"flex items-center",children:[(0,t.jsx)(B.A,{className:"mr-2 h-4 w-4 text-primary"}),"N\xfamero de Item"]}),(0,t.jsx)(x.MJ,{children:(0,t.jsx)(m.p,{...s,value:null!=(a=s.value)?a:""})}),(0,t.jsx)(x.C5,{})]})}}),(0,t.jsx)(x.zB,{control:o.control,name:"weight",render:e=>{var a;let{field:s}=e;return(0,t.jsxs)(x.eI,{children:[(0,t.jsxs)(x.lR,{className:"flex items-center",children:[(0,t.jsx)(L.A,{className:"mr-2 h-4 w-4 text-primary"}),"Peso"]}),(0,t.jsx)(x.MJ,{children:(0,t.jsx)(m.p,{...s,value:null!=(a=s.value)?a:""})}),(0,t.jsx)(x.C5,{})]})}}),(0,t.jsx)("div",{className:"md:col-span-2",children:(0,t.jsx)(x.zB,{control:o.control,name:"description",render:e=>{var a;let{field:s}=e;return(0,t.jsxs)(x.eI,{children:[(0,t.jsxs)(x.lR,{className:"flex items-center",children:[(0,t.jsx)(q.A,{className:"mr-2 h-4 w-4 text-primary"}),"Descripci\xf3n",(0,t.jsx)(K,{})]}),(0,t.jsx)(x.MJ,{children:(0,t.jsx)(O.T,{rows:2,...s,value:null!=(a=s.value)?a:""})}),(0,t.jsx)(x.C5,{})]})}})}),(0,t.jsx)(x.zB,{control:o.control,name:"brand",render:e=>{var a;let{field:s}=e;return(0,t.jsxs)(x.eI,{children:[(0,t.jsxs)(x.lR,{className:"flex items-center",children:[(0,t.jsx)(G.A,{className:"mr-2 h-4 w-4 text-primary"}),"Marca"]}),(0,t.jsx)(x.MJ,{children:(0,t.jsx)(m.p,{...s,value:null!=(a=s.value)?a:""})}),(0,t.jsx)(x.C5,{})]})}}),(0,t.jsx)(x.zB,{control:o.control,name:"model",render:e=>{var a;let{field:s}=e;return(0,t.jsxs)(x.eI,{children:[(0,t.jsxs)(x.lR,{className:"flex items-center",children:[(0,t.jsx)(V.A,{className:"mr-2 h-4 w-4 text-primary"}),"Modelo"]}),(0,t.jsx)(x.MJ,{children:(0,t.jsx)(m.p,{...s,value:null!=(a=s.value)?a:""})}),(0,t.jsx)(x.C5,{})]})}}),(0,t.jsx)(x.zB,{control:o.control,name:"unitMeasure",render:e=>{var a;let{field:s}=e;return(0,t.jsxs)(x.eI,{children:[(0,t.jsxs)(x.lR,{className:"flex items-center",children:[(0,t.jsx)(H.A,{className:"mr-2 h-4 w-4 text-primary"}),"Unidad de Medida"]}),(0,t.jsx)(x.MJ,{children:(0,t.jsx)(m.p,{...s,value:null!=(a=s.value)?a:""})}),(0,t.jsx)(x.C5,{})]})}}),(0,t.jsx)(x.zB,{control:o.control,name:"serial",render:e=>{var a;let{field:s}=e;return(0,t.jsxs)(x.eI,{children:[(0,t.jsxs)(x.lR,{className:"flex items-center",children:[(0,t.jsx)(J.A,{className:"mr-2 h-4 w-4 text-primary"}),"Serie"]}),(0,t.jsx)(x.MJ,{children:(0,t.jsx)(m.p,{...s,value:null!=(a=s.value)?a:""})}),(0,t.jsx)(x.C5,{})]})}}),(0,t.jsx)(x.zB,{control:o.control,name:"origin",render:e=>{var a;let{field:s}=e;return(0,t.jsxs)(x.eI,{children:[(0,t.jsxs)(x.lR,{className:"flex items-center",children:[(0,t.jsx)(W.A,{className:"mr-2 h-4 w-4 text-primary"}),"Origen"]}),(0,t.jsx)(x.MJ,{children:(0,t.jsx)(m.p,{...s,value:null!=(a=s.value)?a:""})}),(0,t.jsx)(x.C5,{})]})}}),(0,t.jsx)(x.zB,{control:o.control,name:"numberPackages",render:e=>{var a;let{field:s}=e;return(0,t.jsxs)(x.eI,{children:[(0,t.jsxs)(x.lR,{className:"flex items-center",children:[(0,t.jsx)($.A,{className:"mr-2 h-4 w-4 text-primary"}),"Numeraci\xf3n de Bultos",(0,t.jsx)(K,{})]}),(0,t.jsx)(x.MJ,{children:(0,t.jsx)(m.p,{...s,value:null!=(a=s.value)?a:""})}),(0,t.jsx)(x.C5,{})]})}}),(0,t.jsx)(x.zB,{control:o.control,name:"quantityPackages",render:e=>{var a;let{field:s}=e;return(0,t.jsxs)(x.eI,{children:[(0,t.jsxs)(x.lR,{className:"flex items-center",children:[(0,t.jsx)(X.A,{className:"mr-2 h-4 w-4 text-primary"}),"Cantidad de Bultos",(0,t.jsx)(K,{})]}),(0,t.jsx)(x.MJ,{children:(0,t.jsx)(m.p,{type:"number",min:"0",...s,onChange:e=>s.onChange(""===e.target.value?void 0:+e.target.value),value:null!=(a=s.value)?a:""})}),(0,t.jsx)(x.C5,{})]})}}),(0,t.jsx)(x.zB,{control:o.control,name:"quantityUnits",render:e=>{var a;let{field:s}=e;return(0,t.jsxs)(x.eI,{children:[(0,t.jsxs)(x.lR,{className:"flex items-center",children:[(0,t.jsx)(Z.A,{className:"mr-2 h-4 w-4 text-primary"}),"Cantidad de Unidades",(0,t.jsx)(K,{})]}),(0,t.jsx)(x.MJ,{children:(0,t.jsx)(m.p,{type:"number",min:"0",...s,onChange:e=>s.onChange(""===e.target.value?void 0:+e.target.value),value:null!=(a=s.value)?a:""})}),(0,t.jsx)(x.C5,{})]})}}),(0,t.jsx)(x.zB,{control:o.control,name:"packagingCondition",render:e=>{var a;let{field:s}=e;return(0,t.jsxs)(x.eI,{children:[(0,t.jsxs)(x.lR,{className:"flex items-center",children:[(0,t.jsx)(Y.A,{className:"mr-2 h-4 w-4 text-primary"}),"Estado de Mercanc\xeda (Nueva, Usada, Otros)"]}),(0,t.jsx)(x.MJ,{children:(0,t.jsx)(m.p,{...s,value:null!=(a=s.value)?a:""})}),(0,t.jsx)(x.C5,{})]})}}),(0,t.jsx)("div",{className:"md:col-span-2",children:(0,t.jsx)(x.zB,{control:o.control,name:"observation",render:e=>{var a;let{field:s}=e;return(0,t.jsxs)(x.eI,{children:[(0,t.jsxs)(x.lR,{className:"flex items-center",children:[(0,t.jsx)(Q.A,{className:"mr-2 h-4 w-4 text-primary"}),"Observaci\xf3n"]}),(0,t.jsx)(x.MJ,{children:(0,t.jsx)(O.T,{rows:2,...s,value:null!=(a=s.value)?a:""})}),(0,t.jsx)(x.C5,{})]})}})})]}),(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row flex-wrap gap-x-6 gap-y-3 mt-4",children:[(0,t.jsx)(c.xI,{control:o.control,name:"isConform",render:e=>{let{field:a}=e;return(0,t.jsx)(F,{label:"Conforme a factura",checked:a.value,onChange:a.onChange,name:a.name})}}),(0,t.jsx)(c.xI,{control:o.control,name:"isExcess",render:e=>{let{field:a}=e;return(0,t.jsx)(F,{label:"Notificar excedente",checked:a.value,onChange:a.onChange,name:a.name})}}),(0,t.jsx)(c.xI,{control:o.control,name:"isMissing",render:e=>{let{field:a}=e;return(0,t.jsx)(F,{label:"Notificar faltante",checked:a.value,onChange:a.onChange,name:a.name})}}),(0,t.jsx)(c.xI,{control:o.control,name:"isFault",render:e=>{let{field:a}=e;return(0,t.jsx)(F,{label:"Notificar Aver\xeda",checked:a.value,onChange:a.onChange,name:a.name})}})]}),(0,t.jsxs)(z.Es,{className:"pt-4 gap-3",children:[(0,t.jsx)(u.$,{type:"button",variant:"outline",onClick:a,children:"Cancelar"}),(0,t.jsx)(u.$,{type:"submit",className:"btn-primary",children:i?"Guardar Cambios":"Guardar Producto"})]})]})})]})})})}):null}var ea=s(58772),es=s(22452),et=s(18527),er=s(75004);function en(){let{productToView:e,isProductDetailModalOpen:a,closeProductDetailModal:s}=(0,l.U)();if(!a||!e)return null;let r=e=>{let{label:a,value:s,icon:r}=e;return(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center text-sm font-medium text-muted-foreground",children:[r&&(0,t.jsx)("span",{className:"mr-2",children:r}),a]}),(0,t.jsx)("p",{className:"text-base text-foreground pl-6",children:String(null!=s?s:"N/A")})]})};return(0,t.jsx)(z.lG,{open:a,onOpenChange:e=>!e&&s(),children:(0,t.jsx)(z.Cf,{className:"max-w-2xl w-full p-0",children:(0,t.jsx)(U.F,{className:"max-h-[85vh]",children:(0,t.jsxs)("div",{className:"p-6",children:[(0,t.jsxs)(z.c7,{className:"mb-4",children:[(0,t.jsx)(z.L3,{className:"text-lg md:text-xl font-semibold text-gray-800",children:"Detalles del Producto"}),(0,t.jsx)("button",{onClick:s,className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground","aria-label":"Cerrar",children:(0,t.jsx)(_.A,{className:"h-6 w-6"})})]}),(0,t.jsx)("div",{className:"space-y-4",children:(0,t.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-x-6 gap-y-4",children:[(0,t.jsx)(r,{label:"N\xfamero de Item",value:e.itemNumber,icon:(0,t.jsx)(B.A,{size:16})}),(0,t.jsx)(r,{label:"Peso",value:e.weight,icon:(0,t.jsx)(L.A,{size:16})}),(0,t.jsx)(r,{label:"Marca",value:e.brand,icon:(0,t.jsx)(G.A,{size:16})}),(0,t.jsx)(r,{label:"Modelo",value:e.model,icon:(0,t.jsx)(V.A,{size:16})}),(0,t.jsx)(r,{label:"Unidad de Medida",value:e.unitMeasure,icon:(0,t.jsx)(H.A,{size:16})}),(0,t.jsx)(r,{label:"Serie",value:e.serial,icon:(0,t.jsx)(J.A,{size:16})}),(0,t.jsx)(r,{label:"Origen",value:e.origin,icon:(0,t.jsx)(W.A,{size:16})}),(0,t.jsx)(r,{label:"Numeraci\xf3n de Bultos",value:e.numberPackages,icon:(0,t.jsx)($.A,{size:16})}),(0,t.jsx)(r,{label:"Cantidad de Bultos",value:e.quantityPackages,icon:(0,t.jsx)(X.A,{size:16})}),(0,t.jsx)(r,{label:"Cantidad de Unidades",value:e.quantityUnits,icon:(0,t.jsx)(Z.A,{size:16})}),(0,t.jsx)(r,{label:"Condici\xf3n Embalaje",value:e.packagingCondition,icon:(0,t.jsx)(Y.A,{size:16})}),(0,t.jsx)("div",{className:"sm:col-span-2",children:(0,t.jsx)(r,{label:"Descripci\xf3n",value:e.description,icon:(0,t.jsx)(q.A,{size:16})})}),(0,t.jsx)("div",{className:"sm:col-span-2",children:(0,t.jsx)(r,{label:"Observaci\xf3n",value:e.observation,icon:(0,t.jsx)(Q.A,{size:16})})}),(0,t.jsxs)("div",{className:"sm:col-span-2 pt-2 border-t",children:[(0,t.jsxs)("div",{className:"flex items-center text-sm font-medium text-muted-foreground",children:[(0,t.jsx)(er.A,{size:16,className:"mr-2"}),"Estado General del Producto"]}),(0,t.jsxs)("div",{className:"flex flex-wrap gap-2 mt-1 pl-6",children:[e.isConform&&(0,t.jsx)(E.E,{className:"bg-green-100 text-green-800",children:"Conforme"}),e.isExcess&&(0,t.jsx)(E.E,{className:"bg-red-100 text-red-800",children:"Excedente"}),e.isMissing&&(0,t.jsx)(E.E,{className:"bg-yellow-100 text-yellow-800",children:"Faltante"}),e.isFault&&(0,t.jsx)(E.E,{className:"bg-gray-100 text-gray-800",children:"Aver\xeda"}),!e.isConform&&!e.isExcess&&!e.isMissing&&!e.isFault&&(0,t.jsx)(E.E,{variant:"outline",children:"Sin especificar"})]})]})]})}),(0,t.jsx)(z.Es,{className:"mt-6",children:(0,t.jsx)(u.$,{variant:"outline",onClick:s,children:"Cerrar"})})]})})})})}var ei=s(4246),el=s(11929);function eo(){let{examData:e,setCurrentStep:a,openAddProductModal:s,products:n,addProduct:i,setProducts:o,selectedProducts:c,deleteSelectedProducts:d}=(0,l.U)(),{toast:m}=(0,v.dj)(),x=r.useRef(null);return e?(0,t.jsxs)(p.Zp,{className:"w-full max-w-5xl mx-auto custom-shadow",children:[(0,t.jsx)(p.aR,{children:(0,t.jsxs)("div",{className:"flex flex-col md:flex-row md:justify-between md:items-start gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(p.ZB,{className:"text-xl md:text-2xl font-semibold text-gray-800",children:"EXAMEN PREVIO"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:"A\xf1ada o importe los productos para el examen."})]}),(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3",children:[(0,t.jsx)("input",{type:"file",ref:x,onChange:e=>{var a;let s=null==(a=e.target.files)?void 0:a[0];if(!s)return;let t=new FileReader;t.onload=e=>{try{var a;let s=new Uint8Array(null==(a=e.target)?void 0:a.result),t=ei.LF(s,{type:"array"}),r=t.SheetNames[0],i=t.Sheets[r],l=ei.Wp.sheet_to_json(i),c={Item:"itemNumber",Peso:"weight",Descripcion:"description",Marca:"brand",Modelo:"model","Unidad Medida":"unitMeasure",Serie:"serial",Origen:"origin","Numeracion Bultos":"numberPackages","Cantidad Bultos":"quantityPackages","Cantidad Unidades":"quantityUnits","Condicion Embalaje":"packagingCondition",Observacion:"observation",Conforme:"isConform",Excedente:"isExcess",Faltante:"isMissing",Averia:"isFault"},d=l.map((e,a)=>{let s={id:(0,el.A)(),productTimestampSaveAt:b.Dc.now()};for(let a in c)if(void 0!==e[a]){let t=c[a],r=e[a];["isConform","isExcess","isMissing","isFault"].includes(t)&&(r="si"===String(r).trim().toLowerCase()),s[t]=r}if(!s.description||!s.numberPackages||void 0===s.quantityPackages||void 0===s.quantityUnits)throw Error("Fila ".concat(a+2,": Faltan datos requeridos (Descripci\xf3n, Numeraci\xf3n de Bultos, Cantidades)."));return s});o([...n,...d]),m({title:"Importaci\xf3n Exitosa",description:"".concat(d.length," productos han sido a\xf1adidos a la lista.")})}catch(e){console.error("Error al importar el archivo: ",e),m({title:"Error de Importaci\xf3n",description:e.message||"Hubo un problema al leer el archivo Excel. Aseg\xfarese de que el formato y los encabezados son correctos.",variant:"destructive"})}finally{x.current&&(x.current.value="")}},t.readAsArrayBuffer(s)},className:"hidden",accept:".xlsx, .xls"}),(0,t.jsxs)(u.$,{onClick:()=>{var e;return null==(e=x.current)?void 0:e.click()},variant:"outline",children:[(0,t.jsx)(ea.A,{className:"mr-2 h-5 w-5"})," Importar desde Excel"]}),(0,t.jsxs)(u.$,{onClick:()=>s(),className:"btn-primary",children:[(0,t.jsx)(es.A,{className:"mr-2 h-5 w-5"})," A\xf1adir Nuevo Producto"]})]})]})}),(0,t.jsxs)(p.Wu,{children:[(0,t.jsxs)("div",{className:"mb-6 p-4 bg-blue-50 border border-blue-200 rounded-md shadow",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 text-sm",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"font-semibold",children:"NE:"})," ",e.ne]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"font-semibold",children:"Referencia:"})," ",e.reference||"N/A"]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"font-semibold",children:"Consignatario:"})," ",e.consignee]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"font-semibold",children:"Gestor:"})," ",e.manager]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"font-semibold",children:"Ubicaci\xf3n:"})," ",e.location]})]}),(0,t.jsx)("div",{className:"mt-3",children:(0,t.jsxs)(u.$,{variant:"link",onClick:()=>a(l.I.INITIAL_INFO),className:"text-primary p-0 h-auto",children:[(0,t.jsx)(j.A,{className:"mr-1 h-4 w-4"})," Regresar para modificar"]})})]}),(0,t.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsxs)("h3",{className:"text-lg font-medium",children:["Productos A\xf1adidos: ",n.length]}),c.length>0&&(0,t.jsxs)(M.Lt,{children:[(0,t.jsx)(M.tv,{asChild:!0,children:(0,t.jsxs)(u.$,{variant:"destructive",size:"sm",children:[(0,t.jsx)(k.A,{className:"mr-2 h-4 w-4"})," Eliminar (",c.length,")"]})}),(0,t.jsxs)(M.EO,{children:[(0,t.jsxs)(M.wd,{children:[(0,t.jsx)(M.r7,{children:"\xbfEst\xe1 seguro de eliminar los productos seleccionados?"}),(0,t.jsxs)(M.$v,{children:["Esta acci\xf3n no se puede deshacer. Se eliminar\xe1n ",c.length," productos de la lista."]})]}),(0,t.jsxs)(M.ck,{children:[(0,t.jsx)(M.Zr,{children:"Cancelar"}),(0,t.jsx)(M.Rx,{onClick:d,children:"S\xed, eliminar"})]})]})]})]}),(0,t.jsxs)(u.$,{onClick:()=>{if(0===n.length)return void m({title:"No hay productos",description:"Debe agregar al menos un producto antes de finalizar.",variant:"destructive"});a(l.I.PREVIEW)},className:"btn-secondary",children:[(0,t.jsx)(et.A,{className:"mr-2 h-5 w-5"})," Finalizar y Previsualizar"]})]}),(0,t.jsx)(P,{})]}),(0,t.jsx)(ee,{}),(0,t.jsx)(en,{})]}):(0,t.jsxs)("div",{className:"text-center py-10",children:[(0,t.jsx)("p",{children:"Error: Datos del examen no encontrados."}),(0,t.jsx)(u.$,{onClick:()=>a(l.I.WELCOME),children:"Volver al inicio"})]})}var ec=s(77059),ed=s(53489),eu=s(72251);let em=e=>{let a,{label:s,value:r,icon:n}=e;return a="boolean"==typeof r?r?"S\xed":"No":String(null!=r?r:"N/A"),(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center",children:[n&&(0,t.jsx)("span",{className:"mr-2 text-primary",children:n}),(0,t.jsx)("p",{className:"text-xs font-medium text-gray-500",children:s})]}),(0,t.jsx)("p",{className:"text-sm text-foreground ml-6",children:a})]})};function ex(){let{examData:e,products:a,setCurrentStep:s}=(0,l.U)();return e?(0,t.jsxs)(p.Zp,{className:"w-full max-w-5xl mx-auto custom-shadow",children:[(0,t.jsxs)(p.aR,{children:[(0,t.jsx)(p.ZB,{className:"text-xl md:text-2xl font-semibold text-foreground",children:"Vista Previa del Examen"}),(0,t.jsx)(p.BT,{className:"text-muted-foreground",children:"Revise la informaci\xf3n antes de confirmar."})]}),(0,t.jsxs)(p.Wu,{className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"text-lg font-medium mb-2 text-foreground",children:"Informaci\xf3n General"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-x-6 gap-y-2 bg-secondary/30 p-4 rounded-md shadow-sm text-sm",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"font-semibold text-foreground/80",children:"NE:"})," ",e.ne]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"font-semibold text-foreground/80",children:"Referencia:"})," ",e.reference||"N/A"]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"font-semibold text-foreground/80",children:"Consignatario:"})," ",e.consignee]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"font-semibold text-foreground/80",children:"Gestor:"})," ",e.manager]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"font-semibold text-foreground/80",children:"Ubicaci\xf3n:"})," ",e.location]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("h4",{className:"text-lg font-medium mb-3 text-foreground",children:["Productos (",a.length,")"]}),a.length>0?(0,t.jsx)("div",{className:"space-y-6",children:a.map((e,a)=>(0,t.jsxs)("div",{className:"p-4 border border-border bg-card rounded-lg shadow",children:[(0,t.jsxs)("h5",{className:"text-md font-semibold mb-3 text-primary",children:["Producto ",a+1,e.itemNumber&&(0,t.jsxs)("span",{className:"text-sm font-normal text-muted-foreground",children:[" (Item: ",e.itemNumber,")"]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-x-6 gap-y-4",children:[(0,t.jsx)(em,{label:"N\xfamero de Item",value:e.itemNumber,icon:(0,t.jsx)(B.A,{size:16})}),(0,t.jsx)(em,{label:"Peso",value:e.weight,icon:(0,t.jsx)(L.A,{size:16})}),(0,t.jsx)(em,{label:"Marca",value:e.brand,icon:(0,t.jsx)(G.A,{size:16})}),(0,t.jsx)(em,{label:"Modelo",value:e.model,icon:(0,t.jsx)(V.A,{size:16})}),(0,t.jsx)(em,{label:"Unidad de Medida",value:e.unitMeasure,icon:(0,t.jsx)(H.A,{size:16})}),(0,t.jsx)(em,{label:"Serie",value:e.serial,icon:(0,t.jsx)(J.A,{size:16})}),(0,t.jsx)(em,{label:"Origen",value:e.origin,icon:(0,t.jsx)(W.A,{size:16})}),(0,t.jsx)(em,{label:"Numeraci\xf3n de Bultos",value:e.numberPackages,icon:(0,t.jsx)($.A,{size:16})}),(0,t.jsx)(em,{label:"Cantidad de Bultos",value:e.quantityPackages,icon:(0,t.jsx)(X.A,{size:16})}),(0,t.jsx)(em,{label:"Cantidad de Unidades",value:e.quantityUnits,icon:(0,t.jsx)(Z.A,{size:16})}),(0,t.jsx)(em,{label:"Estado de Mercanc\xeda (Condici\xf3n)",value:e.packagingCondition,icon:(0,t.jsx)(Y.A,{size:16})}),(0,t.jsx)("div",{className:"md:col-span-2 lg:col-span-3",children:(0,t.jsx)(em,{label:"Descripci\xf3n",value:e.description,icon:(0,t.jsx)(q.A,{size:16})})}),(0,t.jsx)("div",{className:"md:col-span-2 lg:col-span-3",children:(0,t.jsx)(em,{label:"Observaci\xf3n",value:e.observation,icon:(0,t.jsx)(Q.A,{size:16})})}),(0,t.jsx)("div",{className:"md:col-span-full pt-2 mt-2 border-t border-border",children:(0,t.jsx)(em,{label:"Estado General del Producto",value:(e=>{let a=[];return(e.isConform&&a.push("Conforme a factura"),e.isExcess&&a.push("Excedente"),e.isMissing&&a.push("Faltante"),e.isFault&&a.push("Aver\xeda"),0===a.length)?"Sin estado espec\xedfico":a.join(", ")})(e),icon:(0,t.jsx)(er.A,{size:16})})})]})]},e.id))}):(0,t.jsx)("p",{className:"text-muted-foreground",children:"No hay productos para mostrar."})]}),(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4 pt-6 border-t border-border mt-6",children:[(0,t.jsxs)(u.$,{variant:"outline",onClick:()=>s(l.I.PRODUCT_LIST),className:"hover:bg-accent/50",children:[(0,t.jsx)(j.A,{className:"mr-2 h-4 w-4"})," Volver a Productos"]}),(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3",children:[(0,t.jsxs)(u.$,{variant:"outline",onClick:()=>{e&&(0,ec.j5)(e,a)},className:"hover:bg-accent/50",children:[(0,t.jsx)(ed.A,{className:"mr-2 h-4 w-4"})," Descargar TXT"]}),(0,t.jsxs)(u.$,{variant:"outline",onClick:()=>{e&&(0,ec.qb)({...e,products:a})},className:"hover:bg-accent/50",children:[(0,t.jsx)(ed.A,{className:"mr-2 h-4 w-4"})," Descargar Excel"]}),(0,t.jsxs)(u.$,{onClick:()=>{s(l.I.SUCCESS)},className:"btn-primary",children:[(0,t.jsx)(eu.A,{className:"mr-2 h-4 w-4"})," Confirmar Examen"]})]})]})]})]}):(0,t.jsx)("div",{className:"text-center p-10",children:"Error: No se encontraron datos del examen."})}var ep=s(73180),eh=s(76140),ef=s(8595),eg=s(52619),ej=s.n(eg);function eN(){let{currentStep:e,setCurrentStep:a,resetApp:s,examData:o,products:c}=(0,l.U)(),{user:d}=(0,i.A)(),{toast:m}=(0,v.dj)(),x=(0,n.useRouter)(),[p,h]=(0,r.useState)(!1),f=async()=>{if(!o||!d||!d.email)return void m({title:"Error al guardar",description:"Faltan datos del examen o informaci\xf3n del usuario.",variant:"destructive"});if(!o.ne)return void m({title:"Error al guardar",description:"El n\xfamero NE (Seguimiento NX1) es requerido para guardar.",variant:"destructive"});try{let e=(0,b.H9)(y.db,"examenesPrevios",o.ne.toUpperCase()),a=c.map(e=>{let a={...e};for(let e in a)void 0===a[e]&&(a[e]=null);return a}),s={...o,products:a,savedBy:d.email,status:"complete",lock:"on",lastUpdated:b.Dc.fromDate(new Date),savedAt:b.Dc.fromDate(new Date),completedAt:b.Dc.fromDate(new Date)};await (0,b.BN)(e,s,{merge:!0}),m({title:"Examen Finalizado y Guardado",description:"El examen NE: ".concat(o.ne," ha sido guardado en la base de datos.")}),(0,ec.qb)({...o,products:c}),h(!0)}catch(e){console.error("Error saving document to Firestore: ",e),m({title:"Error al Guardar en BD",description:"No se pudo guardar el examen en la base de datos. ".concat(e.message),variant:"destructive"})}};if(e!==l.I.SUCCESS)return null;let g=(null==o?void 0:o.manager)||"Gestor",j=(null==o?void 0:o.ne)||"N/A";return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(z.lG,{open:e===l.I.SUCCESS&&!p,onOpenChange:()=>{},children:(0,t.jsxs)(z.Cf,{className:"sm:max-w-md",children:[(0,t.jsxs)(z.c7,{className:"items-center text-center",children:[(0,t.jsx)(et.A,{className:"h-16 w-16 text-green-500 mb-4"}),(0,t.jsx)(z.L3,{className:"text-xl font-semibold text-foreground",children:"\xa1Operaci\xf3n Exitosa!"})]}),(0,t.jsx)(z.rr,{asChild:!0,children:(0,t.jsxs)("div",{className:"text-center text-muted-foreground space-y-3",children:[(0,t.jsx)("div",{children:"El examen previo ha sido registrado correctamente."}),(0,t.jsxs)("div",{children:["Se notific\xf3 a: ",(0,t.jsx)("br",{}),(0,t.jsx)("span",{className:"font-medium",children:"gerencia@aconic.com"}),",",(0,t.jsx)("br",{}),(0,t.jsx)("span",{className:"font-medium",children:"asuntos.juridicos@aconic.com"}),",",(0,t.jsx)("br",{}),(0,t.jsx)("span",{className:"font-medium",children:"coordinacion@aconic.com"}),"."]}),(null==o?void 0:o.manager)&&(0,t.jsxs)("div",{children:["Gracias por tu desempe\xf1o, ",o.manager,"."]}),(0,t.jsx)("div",{children:(0,t.jsx)(ej(),{href:"https://aconisani-my.sharepoint.com/:f:/g/personal/asuntos_juridicos_aconic_com_ni/Emrpj4Ss8bhDifpuYc8U_bwBj9r29FGcXxzfxu4PSh2tEQ?e=FhIPTt",target:"_blank",className:"text-primary underline hover:text-primary/80",children:"A\xf1adir im\xe1genes del predio aqu\xed"})})]})}),(0,t.jsxs)("div",{className:"mt-6 flex flex-col space-y-3 items-center",children:[(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3 w-full",children:[(0,t.jsxs)(u.$,{onClick:f,variant:"default",className:"btn-primary w-full","aria-label":"Finalizar y Guardar en Base de Datos",children:[(0,t.jsx)(ep.A,{className:"h-5 w-5 mr-2"})," Finalizar y Guardar"]}),(0,t.jsxs)(u.$,{onClick:()=>a(l.I.PREVIEW),variant:"outline",className:"w-full",children:[(0,t.jsx)(eh.A,{className:"mr-2 h-4 w-4"})," Revisar Examen"]})]}),(0,t.jsxs)(M.Lt,{children:[(0,t.jsx)(M.tv,{asChild:!0,children:(0,t.jsxs)(u.$,{className:"btn-secondary w-full",children:[(0,t.jsx)(ef.A,{className:"mr-2 h-4 w-4"})," Volver al Inicio"]})}),(0,t.jsxs)(M.EO,{children:[(0,t.jsxs)(M.wd,{children:[(0,t.jsx)(M.r7,{children:"\xbfEst\xe1 seguro?"}),(0,t.jsx)(M.$v,{children:"Est\xe1 a punto de volver al inicio. Se borrar\xe1 toda la informaci\xf3n del examen actual que no haya sido guardada en la base de datos."})]}),(0,t.jsxs)(M.ck,{children:[(0,t.jsx)(M.Zr,{children:"Cancelar"}),(0,t.jsx)(M.Rx,{onClick:()=>{s(),x.push("/")},children:"S\xed, volver al inicio"})]})]})]})]})]})}),(0,t.jsx)(M.Lt,{open:p,onOpenChange:h,children:(0,t.jsxs)(M.EO,{children:[(0,t.jsxs)(M.wd,{children:[(0,t.jsx)(M.r7,{children:"Instrucci\xf3n General 021"}),(0,t.jsxs)(M.$v,{children:["Estimado/a ",g,", la plataforma ha descargado autom\xe1ticamente el Excel del Examen Previo ",(0,t.jsx)("span",{className:"font-bold text-foreground",children:j}),".",(0,t.jsx)("br",{}),(0,t.jsx)("br",{}),"Como nuevo requisito de Gerencia, favor enviar el archivo a trav\xe9s de WhatsApp."]})]}),(0,t.jsxs)(M.ck,{children:[(0,t.jsx)(M.Rx,{onClick:()=>h(!1),children:"Confirmar"}),(0,t.jsx)(u.$,{asChild:!0,className:"bg-green-500 hover:bg-green-600",children:(0,t.jsxs)("a",{href:"https://wa.me/+50583956505",target:"_blank",rel:"noopener noreferrer",children:[(0,t.jsx)(Q.A,{className:"mr-2 h-4 w-4"}),"Enviar por WhatsApp"]})})]})]})})]})}var ev=s(13381),eb=s(90109),ey=s(87455),eA=s(86126),eC=s(5282),eE=s(80160);function ew(){let{setCurrentStep:e,setExamData:a,setProducts:s,resetApp:n}=(0,l.U)(),{user:o}=(0,i.A)(),[c,d]=(0,r.useState)(!1),[x,h]=(0,r.useState)(""),[f,g]=(0,r.useState)(!1),[j,A]=(0,r.useState)(null),[C,E]=(0,r.useState)([]),[w,I]=(0,r.useState)(!0),{toast:S}=(0,v.dj)();(0,r.useEffect)(()=>{(async()=>{if(!(null==o?void 0:o.displayName))return I(!1);I(!0);try{let e=(0,b.P)((0,b.rJ)(y.db,"examenesPrevios"),(0,b._M)("assignedTo","==",o.displayName),(0,b._M)("status","==","incomplete")),a=(await (0,b.GG)(e)).docs.map(e=>({id:e.id,...e.data()}));a.sort((e,a)=>{var s,t,r,n;return(null!=(r=null==(s=e.assignedAt)?void 0:s.toMillis())?r:0)-(null!=(n=null==(t=a.assignedAt)?void 0:t.toMillis())?n:0)}),E(a)}catch(e){console.error("Error fetching assigned exams:",e),S({title:"Error al Cargar Asignaciones",description:"No se pudieron cargar los previos asignados. Verifique las reglas de Firestore.",variant:"destructive"})}finally{I(!1)}})()},[o,S]);let k=async t=>{if(!t.id)return void S({title:"Error",description:"El examen seleccionado no tiene un ID v\xe1lido.",variant:"destructive"});g(!0);try{var r;let n=(0,b.H9)(y.db,"examenesPrevios",t.id);(null==(r=(await (0,b.x7)(n)).data())?void 0:r.createdAt)||await (0,b.mZ)(n,{createdAt:(0,b.O5)()}),a({ne:t.ne,reference:t.reference,consignee:t.consignee,location:t.location,manager:t.manager},!0),s(t.products||[]),S({title:"Examen Iniciado",description:"Comenzando trabajo en el examen ".concat(t.ne,".")}),e(l.I.PRODUCT_LIST)}catch(e){console.error("Error starting assigned exam:",e),S({title:"Error",description:"No se pudo iniciar el examen asignado.",variant:"destructive"})}finally{g(!1)}},D=async()=>{if(!x.trim())return void A("Por favor, ingrese un NE para recuperar.");g(!0),A(null);try{let t=(0,b.H9)(y.db,"examenesPrevios",x.trim().toUpperCase()),r=await (0,b.x7)(t);if(r.exists()){let t=r.data();if("complete"===t.status){let e="Este previo ya se encuentra finalizado y no puede ser modificado.";A(e),S({title:"Recuperaci\xf3n No Permitida",description:e,variant:"destructive"}),g(!1);return}a({ne:t.ne,reference:t.reference,consignee:t.consignee,location:t.location,manager:t.manager},!0),s(t.products||[]),S({title:"Examen Recuperado",description:"Se carg\xf3 el progreso del examen ".concat(t.ne,".")}),e(l.I.PRODUCT_LIST)}else A("No se encontr\xf3 ning\xfan examen para el NE: ".concat(x)),S({title:"Error de Recuperaci\xf3n",description:"No se encontr\xf3 un examen para el NE: ".concat(x),variant:"destructive"})}catch(e){console.error("Error recovering exam:",e),A("Ocurri\xf3 un error al intentar recuperar el examen."),S({title:"Error de Servidor",description:"No se pudo comunicar con la base de datos.",variant:"destructive"})}finally{g(!1)}},R=(null==o?void 0:o.displayName)?o.displayName.split(" ")[0]:"Gestor";return(0,t.jsxs)("div",{className:"w-full max-w-4xl mx-auto space-y-6",children:[(0,t.jsxs)(p.Zp,{className:"custom-shadow",children:[(0,t.jsxs)(p.aR,{className:"text-center",children:[(0,t.jsxs)(p.ZB,{className:"text-2xl font-semibold",children:["Bienvenido, ",R]}),(0,t.jsx)(p.BT,{children:"\xbfQu\xe9 desea hacer hoy?"})]}),(0,t.jsxs)(p.Wu,{className:"space-y-6",children:[(0,t.jsx)("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:(0,t.jsxs)(u.$,{onClick:()=>d(!c),size:"lg",variant:"outline",className:"h-20 text-lg",children:[(0,t.jsx)(ev.A,{className:"mr-3 h-6 w-6"}),c?"Ocultar Recuperaci\xf3n":"Continuar/Recuperar Examen"]})}),c&&(0,t.jsxs)("div",{className:"p-4 border rounded-md bg-secondary/30",children:[(0,t.jsx)("h3",{className:"font-semibold text-center mb-3",children:"Recuperar Examen no Finalizado"}),(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row items-center gap-3",children:[(0,t.jsx)(m.p,{type:"text",placeholder:"Ingrese NE a recuperar",value:x,onChange:e=>h(e.target.value),className:"flex-grow","aria-label":"NE a recuperar",onKeyDown:e=>"Enter"===e.key&&D()}),(0,t.jsxs)(u.$,{onClick:D,className:"btn-primary w-full sm:w-auto",disabled:f,children:[f?(0,t.jsx)(N.A,{className:"mr-2 h-4 w-4 animate-spin"}):(0,t.jsx)(eb.A,{className:"mr-2 h-4 w-4"}),f?"Buscando...":"Recuperar"]})]}),j&&(0,t.jsx)("p",{className:"text-destructive text-sm mt-2 text-center",children:j})]})]})]}),(0,t.jsxs)(p.Zp,{className:"custom-shadow",children:[(0,t.jsxs)(p.aR,{children:[(0,t.jsxs)(p.ZB,{className:"text-xl flex items-center gap-2",children:[(0,t.jsx)(ey.A,{})," Mis Asignaciones"]}),(0,t.jsx)(p.BT,{children:"Estos son los ex\xe1menes previos que se le han asignado para su gesti\xf3n."})]}),(0,t.jsxs)(p.Wu,{children:[w&&(0,t.jsxs)("div",{className:"flex items-center justify-center p-4",children:[(0,t.jsx)(N.A,{className:"h-6 w-6 animate-spin text-primary"}),(0,t.jsx)("p",{className:"ml-2 text-muted-foreground",children:"Cargando asignaciones..."})]}),!w&&0===C.length&&(0,t.jsx)("div",{className:"text-center py-6 px-4 bg-secondary/30 rounded-lg",children:(0,t.jsx)("p",{className:"text-muted-foreground",children:"No tiene ex\xe1menes previos asignados pendientes."})}),!w&&C.length>0&&(0,t.jsx)("div",{className:"space-y-3",children:C.map(e=>{var a;return(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row items-center justify-between p-3 border rounded-lg bg-card hover:bg-muted/50 transition-colors",children:[(0,t.jsxs)("div",{className:"flex-1 mb-2 sm:mb-0",children:[(0,t.jsx)("p",{className:"font-bold text-primary",children:e.ne}),(0,t.jsx)("p",{className:"text-sm text-foreground",children:e.consignee}),(0,t.jsxs)("p",{className:"text-xs text-muted-foreground",children:["Asignado por ",e.requestedBy," el ",(a=e.assignedAt)?(0,eC.GP)(a.toDate(),"dd/MM/yy HH:mm",{locale:eE.es}):"N/A"]})]}),(0,t.jsxs)(u.$,{size:"sm",onClick:()=>k(e),disabled:f,children:[(0,t.jsx)(eA.A,{className:"mr-2 h-4 w-4"})," Empezar Previo"]})]},e.id)})})]})]})]})}var eI=s(76444),eS=s(27314);function ek(e){let{isOpen:a}=e,{updateUserProfile:s}=(0,i.A)(),[n,l]=(0,r.useState)(""),[o,c]=(0,r.useState)(!1),{toast:d}=(0,v.dj)(),x=async e=>{if(e.preventDefault(),!n.trim())return void d({title:"Nombre no v\xe1lido",description:"Por favor, ingresa un nombre.",variant:"destructive"});c(!0);try{await s(n.trim()),d({title:"\xa1Bienvenido!",description:"Tu nombre ha sido guardado."})}catch(e){d({title:"Error",description:"No se pudo guardar tu nombre.",variant:"destructive"})}finally{c(!1)}};return a?(0,t.jsx)(z.lG,{open:a,onOpenChange:()=>{},children:(0,t.jsxs)(z.Cf,{className:"sm:max-w-md glass-effect text-foreground border-border/30",onPointerDownOutside:e=>e.preventDefault(),onEscapeKeyDown:e=>e.preventDefault(),children:[(0,t.jsx)(z.c7,{children:(0,t.jsx)(z.L3,{className:"text-2xl font-bold text-foreground",children:"\xa1Bienvenido a CustomsEX-p!"})}),(0,t.jsx)(z.rr,{className:"text-muted-foreground",children:"Parece que es tu primera vez aqu\xed. Por favor, ingresa tu nombre completo para continuar."}),(0,t.jsxs)("form",{onSubmit:x,className:"space-y-6 py-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)(eI.J,{htmlFor:"displayName",className:"flex items-center text-sm font-medium text-foreground mb-1",children:[(0,t.jsx)(eS.A,{className:"mr-2 h-4 w-4 text-primary"}),'Nombre y Apellido (Ej. "John Doe")']}),(0,t.jsx)(m.p,{id:"displayName",type:"text",value:n,onChange:e=>l(e.target.value),required:!0,className:"w-full px-4 py-3 text-foreground placeholder:text-muted-foreground border-input bg-background rounded-md focus:outline-none focus:ring-2 focus:ring-primary",placeholder:"Ej: John Doe"})]}),(0,t.jsx)(z.Es,{children:(0,t.jsx)(u.$,{type:"submit",className:"btn-primary text-primary-foreground px-8 py-3 rounded-md font-medium w-full",disabled:o,children:o?(0,t.jsx)(N.A,{className:"animate-spin"}):"Guardar y Continuar"})})]})]})}):null}function eD(){let{user:e,loading:a,isProfileComplete:s}=(0,i.A)(),{currentStep:c}=(0,l.U)(),d=(0,n.useRouter)(),[u,m]=(0,r.useState)(!1);return((0,r.useEffect)(()=>{!a&&e?"calificador"===e.role?d.push("/databasePay"):e.role&&!["gestor","admin"].includes(e.role)&&d.push("/"):a||e||d.push("/")},[e,a,d]),(0,r.useEffect)(()=>{a||!e||s||"admin"===e.role?m(!1):m(!0)},[e,a,s]),(0,r.useEffect)(()=>{let e=e=>{c>l.I.WELCOME&&c<l.I.SUCCESS&&(e.preventDefault(),e.returnValue="")};return window.addEventListener("beforeunload",e),()=>{window.removeEventListener("beforeunload",e)}},[c]),a||e&&!s&&"admin"!==e.role||!e||e.role&&!["gestor","admin","calificador"].includes(e.role))?(0,t.jsxs)("div",{className:"min-h-screen flex items-center justify-center bg-background",children:[(0,t.jsx)(N.A,{className:"h-12 w-12 animate-spin text-primary"}),(0,t.jsx)("p",{className:"ml-4 text-lg",children:"Cargando perfil..."}),(0,t.jsx)(ek,{isOpen:u})]}):e?(0,t.jsxs)(o.G,{children:[(0,t.jsx)(ek,{isOpen:u}),(0,t.jsx)("div",{className:"py-2 md:py-5",children:(()=>{switch(c){case l.I.WELCOME:return(0,t.jsx)(ew,{});case l.I.INITIAL_INFO:return(0,t.jsx)(A,{});case l.I.PRODUCT_LIST:return(0,t.jsx)(eo,{});case l.I.PREVIEW:return(0,t.jsx)(ex,{});case l.I.SUCCESS:return(0,t.jsxs)(t.Fragment,{children:[" ",(0,t.jsx)(ex,{})," ",(0,t.jsx)(eN,{})," "]});default:return(0,t.jsx)(ew,{})}})()}),c===l.I.SUCCESS&&(0,t.jsx)(eN,{})]}):(0,t.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-background",children:(0,t.jsx)("p",{className:"text-lg",children:"Redirigiendo a inicio de sesi\xf3n..."})})}},76444:(e,a,s)=>{"use strict";s.d(a,{J:()=>c});var t=s(95155),r=s(12115),n=s(10489),i=s(83101),l=s(64269);let o=(0,i.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),c=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)(n.b,{ref:a,className:(0,l.cn)(o(),s),...r})});c.displayName=n.b.displayName},77059:(e,a,s)=>{"use strict";s.d(a,{j5:()=>l,qb:()=>o,qf:()=>m});var t=s(19708),r=s(4246),n=s(5282),i=s(80160);function l(e,a){let s="EXAMEN PREVIO AGENCIA ACONIC - CustomsEX-p\n";s+="===========================================\n\n",s+="INFORMACI\xd3N GENERAL DEL EXAMEN:\n",s+="NE: ".concat(e.ne,"\n"),s+="Referencia: ".concat(e.reference||"N/A","\n"),s+="Consignatario: ".concat(e.consignee,"\n"),s+="Gestor: ".concat(e.manager,"\n"),s+="Ubicaci\xf3n: ".concat(e.location,"\n\n"),s+="PRODUCTOS:\n",(Array.isArray(a)?a:[]).forEach((e,a)=>{s+="\n--- Producto ".concat(a+1," ---\n"),s+="N\xfamero de Item: ".concat(e.itemNumber||"N/A","\n"),s+="Numeraci\xf3n de Bultos: ".concat(e.numberPackages||"N/A","\n"),s+="Cantidad de Bultos: ".concat(e.quantityPackages||0,"\n"),s+="Cantidad de Unidades: ".concat(e.quantityUnits||0,"\n"),s+="Descripci\xf3n: ".concat(e.description||"N/A","\n"),s+="Marca: ".concat(e.brand||"N/A","\n"),s+="Modelo: ".concat(e.model||"N/A","\n"),s+="Serie: ".concat(e.serial||"N/A","\n"),s+="Origen: ".concat(e.origin||"N/A","\n"),s+="Estado de Mercanc\xeda: ".concat(e.packagingCondition||"N/A","\n"),s+="Unidad de Medida: ".concat(e.unitMeasure||"N/A","\n"),s+="Peso: ".concat(e.weight||"N/A","\n"),s+="Observaci\xf3n: ".concat(e.observation||"N/A","\n");let t=[];e.isConform&&t.push("Conforme a factura"),e.isExcess&&t.push("Excedente"),e.isMissing&&t.push("Faltante"),e.isFault&&t.push("Aver\xeda"),s+="Estado: ".concat(t.length>0?t.join(", "):"Sin estado espec\xedfico","\n")});let t=new Blob([s],{type:"text/plain;charset=utf-8"}),r=URL.createObjectURL(t),n=document.createElement("a");n.href=r,n.download="CustomsEX-p_".concat(e.ne,"_").concat(new Date().toISOString().split("T")[0],".txt"),document.body.appendChild(n),n.click(),document.body.removeChild(n),URL.revokeObjectURL(r)}function o(e){var a,s;let t=new Date,l=(0,n.GP)(t,"dd/MM/yy HH:mm",{locale:i.es}),o=[["EXAMEN PREVIO AGENCIA ACONIC - CustomsEX-p"],[],["INFORMACI\xd3N GENERAL DEL EXAMEN:"],["NE:",e.ne],["Referencia:",e.reference||"N/A"],["Consignatario:",e.consignee],["Gestor del Examen:",e.manager],["Ubicaci\xf3n Mercanc\xeda:",e.location],["Fotos:",{v:"Abrir Carpeta de Fotos",t:"s",l:{Target:"https://aconisani-my.sharepoint.com/:f:/g/personal/asuntos_juridicos_aconic_com_ni/Emrpj4Ss8bhDifpuYc8U_bwBj9r29FGcXxzfxu4PSh2tEQ?e=FhIPTt",Tooltip:"Ir a la carpeta de fotos en SharePoint"}}],[],["PRODUCTOS:"]],c=["N\xfamero de Item","Numeraci\xf3n de Bultos","Cantidad de Bultos","Cantidad de Unidades","Descripci\xf3n","Marca","Modelo","Origen","Estado de Mercanc\xeda","Peso","Unidad de Medida","Serie","Observaci\xf3n","Estado"],d=[...o,c,...(Array.isArray(e.products)?e.products:[]).map(e=>{let a="",s=[];return e.isConform&&s.push("Conforme"),e.isExcess&&s.push("Excedente"),e.isMissing&&s.push("Faltante"),e.isFault&&s.push("Aver\xeda"),a=s.length>0?s.join("/"):"S/E",[e.itemNumber||"N/A",e.numberPackages||"N/A",e.quantityPackages||0,e.quantityUnits||0,e.description||"N/A",e.brand||"N/A",e.model||"N/A",e.origin||"N/A",e.packagingCondition||"N/A",e.weight||"N/A",e.unitMeasure||"N/A",e.serial||"N/A",e.observation||"N/A",a]})],u=r.Wp.aoa_to_sheet(d),m=c.map((e,a)=>({wch:Math.max(e.length,...d.slice(o.length).map(e=>e[a]?String(e[a]).length:0))+2})),x=o.slice(0,o.length-2).map(e=>String(e[0]||"")),p=o.slice(0,o.length-2).map(e=>{let a=e[1];return"object"==typeof a&&null!==a&&"v"in a?String(a.v||""):String(a||"")});m.length>0&&(m[0].wch=Math.max((null==(a=m[0])?void 0:a.wch)||0,...x.map(e=>e.length+2))),m.length>1&&(m[1].wch=Math.max((null==(s=m[1])?void 0:s.wch)||0,...p.map(e=>e.length+5))),u["!cols"]=m;let h=[["DETALLES DE SISTEMA DEL EXAMEN:"]];e.savedBy?h.push(["Guardado por (correo):",e.savedBy]):h.push(["Guardado por (correo):","N/A (No guardado en BD a\xfan o dato no disponible)"]);let f=e=>{if(!e)return"N/A";let a=(null==e?void 0:e.toDate)?e.toDate():e;return a instanceof Date&&!isNaN(a.getTime())?(0,n.GP)(a,"dd/MM/yy HH:mm",{locale:i.es}):"Fecha inv\xe1lida"};h.push(["Fecha y Hora de Inicio:",f(e.createdAt)]),h.push(["Fecha y Hora de \xdaltimo Guardado:",f(e.savedAt)]),h.push(["Fecha y Hora de Finalizaci\xf3n:",e.completedAt?f(e.completedAt):"Examen no finalizado"]),h.push(["Fecha y Hora de Exportaci\xf3n:",l]);let g=r.Wp.aoa_to_sheet(h),j=[{wch:Math.max(...h.map(e=>String(e[0]).length))+2},{wch:Math.max(...h.map(e=>String(e[1]).length))+5}];g["!cols"]=j;let N=r.Wp.book_new();r.Wp.book_append_sheet(N,u,"Examen ".concat(e.ne)),r.Wp.book_append_sheet(N,g,"Detalle de Sistema"),r._h(N,"CustomsEX-p_".concat(e.ne,"_").concat(new Date().toISOString().split("T")[0],".xlsx"))}let c=function(e){let a=!(arguments.length>1)||void 0===arguments[1]||arguments[1];if(!e)return"N/A";let s=e.toDate?e.toDate():new Date(e);return s instanceof Date&&!isNaN(s.getTime())?(0,n.GP)(s,a?"dd/MM/yy HH:mm":"dd/MM/yy",{locale:i.es}):"Fecha Inv\xe1lida"},d=e=>e instanceof t.Dc?c(e):"boolean"==typeof e?e?"S\xed":"No":null==e||""===e?"vac\xedo":"object"==typeof e?JSON.stringify(e):String(e),u=(e,a,s,t)=>{let n=[[s],[t],[],e,...a],i=r.Wp.aoa_to_sheet(n),l=e.map((e,s)=>({wch:Math.max(e.length,...a.map(e=>String(e[s]||"").length))+2}));return i["!cols"]=l,i};async function m(e,a){let s=new Date,t=(0,n.GP)(s,"dd/MM/yy HH:mm",{locale:i.es}),l=u(["NE","INICIO DE OPERACION","RESA","VENCIMIENTO DE RESA","CONSIGNATARIO","FACTURA","ASIGNACION DE AFORO","ESTATUS DE REVISOR","ESTATUS DIGITACION","SELECTIVO","FECHA DE DESPACHO","TIPO INCIDENCIA","FACTURADO","FECHA DE FACTURACION","CUENTA DE REGISTRO","ESTATUS EJECUTIVO (AMPLIADO)"],e.map(e=>{var a;let s=["Aforador: ".concat(e.aforadorStatus||"N/A"),"Revisor: ".concat(e.revisorStatus||"N/A"),"Preliquidaci\xf3n: ".concat(e.preliquidationStatus||"N/A"),"Digitaci\xf3n: ".concat(e.digitacionStatus||"N/A")].join(" | ");return[e.ne,c(e.createdAt),(null==(a=e.worksheet)?void 0:a.resa)||"N/A",c(e.resaDueDate,!1),e.consignee,e.facturaNumber||"N/A",c(e.assignmentDate),e.revisorStatus||"N/A",e.digitacionStatus||"N/A",e.selectividad||"N/A",c(e.fechaDespacho,!1),e.incidentType||"N/A",e.facturado?"S\xed":"No",c(e.facturadoAt),e.cuentaDeRegistro||"N/A",s]}),"Reporte Ejecutivo - Customs Reports","Generado el: ".concat(t)),o=u(["NE","Consignatario","Declaraci\xf3n","Aduana Despacho","Monto de Preliquidaci\xf3n (USD)","Proceso","Levante Solicitado","Ampliaci\xf3n de Plazo","Vencimiento de Caso","Asignado a Legal"],e.filter(e=>e.hasValueDoubt).map(e=>{var a,s;return[e.ne,e.consignee,e.declaracionAduanera||"N/A",(null==(a=e.worksheet)?void 0:a.dispatchCustoms)||"N/A",null!=(s=e.valueDoubtAmount)?s:"N/A",e.valueDoubtStatus||"N/A",e.valueDoubtLevanteRequested?"S\xed":"No",e.valueDoubtExtensionRequested?"S\xed":"No",c(e.valueDoubtDueDate,!1),e.valueDoubtAssignedToLegal?"S\xed":"No"]}),"Casos con Duda de Valor","Generado el: ".concat(t)),m=u(["NE","CONSIGNATARIO","DECLARACION ADUANERA","PAGO INICIAL (SI/NO)","RECIBO DE CAJA PAGO INICIAL","MONTO DE DECLARACION INICIAL","ADUANA DE DESPACHO","MOTIVO DE LA RECTIFICACION","OBSERVACIONES","ESTADO INCIDENCIA","REVISADO POR","FECHA REVISI\xd3N"],e.filter(e=>"Rectificacion"===e.incidentType).map(e=>{var a,s;return[e.ne,e.consignee,e.declaracionAduanera||"N/A",e.pagoInicialRealizado?"S\xed":"No",e.reciboDeCajaPagoInicial||"N/A",null!=(s=e.montoPagoInicial)?s:"N/A",(null==(a=e.worksheet)?void 0:a.dispatchCustoms)||"N/A",e.motivoRectificacion||"",e.observaciones||"",e.incidentStatus||"N/A",e.incidentReviewedBy||"N/A",c(e.incidentReviewedAt,!1)]}),"Casos con Complementaria (Rectificaci\xf3n)","Generado el: ".concat(t));a.sort((e,a)=>e.caseNe<a.caseNe?-1:e.caseNe>a.caseNe?1:(e.updatedAt instanceof Date?e.updatedAt.getTime():e.updatedAt.toMillis())-(a.updatedAt instanceof Date?a.updatedAt.getTime():a.updatedAt.toMillis()));let x=u(["NE del Caso","Fecha de Actualizaci\xf3n","Actualizado Por","Campo Modificado","Valor Anterior","Valor Nuevo","Comentario"],a.map(e=>[e.caseNe,c(e.updatedAt),e.updatedBy,e.field,d(e.oldValue),d(e.newValue),e.comment||""]),"Bit\xe1cora de Cambios - Customs Reports","Generado el: ".concat(t)),p=r.Wp.book_new();r.Wp.book_append_sheet(p,l,"Reporte Ejecutivo"),r.Wp.book_append_sheet(p,o,"Duda de Valor"),r.Wp.book_append_sheet(p,m,"Rectificaciones"),r.Wp.book_append_sheet(p,x,"Bit\xe1cora de Cambios"),r._h(p,"Reporte_Ejecutivo_".concat(s.toISOString().split("T")[0],".xlsx"))}},83686:()=>{},87270:(e,a,s)=>{"use strict";s.d(a,{A0:()=>l,BF:()=>o,Hj:()=>c,XI:()=>i,nA:()=>u,nd:()=>d});var t=s(95155),r=s(12115),n=s(64269);let i=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)("div",{className:"relative w-full overflow-auto",children:(0,t.jsx)("table",{ref:a,className:(0,n.cn)("w-full caption-bottom text-sm",s),...r})})});i.displayName="Table";let l=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)("thead",{ref:a,className:(0,n.cn)("[&_tr]:border-b",s),...r})});l.displayName="TableHeader";let o=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)("tbody",{ref:a,className:(0,n.cn)("[&_tr:last-child]:border-0",s),...r})});o.displayName="TableBody",r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)("tfoot",{ref:a,className:(0,n.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",s),...r})}).displayName="TableFooter";let c=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)("tr",{ref:a,className:(0,n.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",s),...r})});c.displayName="TableRow";let d=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)("th",{ref:a,className:(0,n.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",s),...r})});d.displayName="TableHead";let u=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)("td",{ref:a,className:(0,n.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",s),...r})});u.displayName="TableCell",r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)("caption",{ref:a,className:(0,n.cn)("mt-4 text-sm text-muted-foreground",s),...r})}).displayName="TableCaption"},98053:(e,a,s)=>{"use strict";s.d(a,{$v:()=>f,EO:()=>m,Lt:()=>o,Rx:()=>g,Zr:()=>j,ck:()=>p,r7:()=>h,tv:()=>c,wd:()=>x});var t=s(95155),r=s(12115),n=s(35646),i=s(64269),l=s(3998);let o=n.bL,c=n.l9,d=n.ZL,u=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)(n.hJ,{className:(0,i.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",s),...r,ref:a})});u.displayName=n.hJ.displayName;let m=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsxs)(d,{children:[(0,t.jsx)(u,{}),(0,t.jsx)(n.UC,{ref:a,className:(0,i.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",s),...r})]})});m.displayName=n.UC.displayName;let x=e=>{let{className:a,...s}=e;return(0,t.jsx)("div",{className:(0,i.cn)("flex flex-col space-y-2 text-center sm:text-left",a),...s})};x.displayName="AlertDialogHeader";let p=e=>{let{className:a,...s}=e;return(0,t.jsx)("div",{className:(0,i.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",a),...s})};p.displayName="AlertDialogFooter";let h=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)(n.hE,{ref:a,className:(0,i.cn)("text-lg font-semibold",s),...r})});h.displayName=n.hE.displayName;let f=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)(n.VY,{ref:a,className:(0,i.cn)("text-sm text-muted-foreground",s),...r})});f.displayName=n.VY.displayName;let g=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)(n.rc,{ref:a,className:(0,i.cn)((0,l.r)(),s),...r})});g.displayName=n.rc.displayName;let j=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)(n.ZD,{ref:a,className:(0,i.cn)((0,l.r)({variant:"outline"}),"mt-2 sm:mt-0",s),...r})});j.displayName=n.ZD.displayName}},e=>{e.O(0,[2992,7138,3524,4865,9255,3744,5282,3504,1621,7525,5479,5171,8441,1255,7358],()=>e(e.s=67829)),_N_E=e.O()}]);