(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7115],{32383:()=>{},41052:(e,a,t)=>{"use strict";t.d(a,{C5:()=>E,MJ:()=>f,eI:()=>N,lR:()=>A,lV:()=>d,zB:()=>u});var o=t(95155),n=t(12115),i=t(32467),s=t(22544),r=t(64269),c=t(76444);let d=s.Op,l=n.createContext({}),u=e=>{let{...a}=e;return(0,o.jsx)(l.Provider,{value:{name:a.name},children:(0,o.jsx)(s.xI,{...a})})},m=()=>{let e=n.useContext(l),a=n.useContext(p),{getFieldState:t,formState:o}=(0,s.xW)(),i=t(e.name,o);if(!e)throw Error("useFormField should be used within <FormField>");let{id:r}=a;return{id:r,name:e.name,formItemId:"".concat(r,"-form-item"),formDescriptionId:"".concat(r,"-form-item-description"),formMessageId:"".concat(r,"-form-item-message"),...i}},p=n.createContext({}),N=n.forwardRef((e,a)=>{let{className:t,...i}=e,s=n.useId();return(0,o.jsx)(p.Provider,{value:{id:s},children:(0,o.jsx)("div",{ref:a,className:(0,r.cn)("space-y-2",t),...i})})});N.displayName="FormItem";let A=n.forwardRef((e,a)=>{let{className:t,...n}=e,{error:i,formItemId:s}=m();return(0,o.jsx)(c.J,{ref:a,className:(0,r.cn)(i&&"text-destructive",t),htmlFor:s,...n})});A.displayName="FormLabel";let f=n.forwardRef((e,a)=>{let{...t}=e,{error:n,formItemId:s,formDescriptionId:r,formMessageId:c}=m();return(0,o.jsx)(i.DX,{ref:a,id:s,"aria-describedby":n?"".concat(r," ").concat(c):"".concat(r),"aria-invalid":!!n,...t})});f.displayName="FormControl",n.forwardRef((e,a)=>{let{className:t,...n}=e,{formDescriptionId:i}=m();return(0,o.jsx)("p",{ref:a,id:i,className:(0,r.cn)("text-sm text-muted-foreground",t),...n})}).displayName="FormDescription";let E=n.forwardRef((e,a)=>{var t;let{className:n,children:i,...s}=e,{error:c,formMessageId:d}=m(),l=c?String(null!=(t=null==c?void 0:c.message)?t:""):i;return l?(0,o.jsx)("p",{ref:a,id:d,className:(0,r.cn)("text-sm font-medium text-destructive",n),...s,children:l}):null});E.displayName="FormMessage"},77059:(e,a,t)=>{"use strict";t.d(a,{j5:()=>r,qb:()=>c,qf:()=>m});var o=t(19708),n=t(4246),i=t(5282),s=t(80160);function r(e,a){let t="EXAMEN PREVIO AGENCIA ACONIC - CustomsEX-p\n";t+="===========================================\n\n",t+="INFORMACI\xd3N GENERAL DEL EXAMEN:\n",t+="NE: ".concat(e.ne,"\n"),t+="Referencia: ".concat(e.reference||"N/A","\n"),t+="Consignatario: ".concat(e.consignee,"\n"),t+="Gestor: ".concat(e.manager,"\n"),t+="Ubicaci\xf3n: ".concat(e.location,"\n\n"),t+="PRODUCTOS:\n",(Array.isArray(a)?a:[]).forEach((e,a)=>{t+="\n--- Producto ".concat(a+1," ---\n"),t+="N\xfamero de Item: ".concat(e.itemNumber||"N/A","\n"),t+="Numeraci\xf3n de Bultos: ".concat(e.numberPackages||"N/A","\n"),t+="Cantidad de Bultos: ".concat(e.quantityPackages||0,"\n"),t+="Cantidad de Unidades: ".concat(e.quantityUnits||0,"\n"),t+="Descripci\xf3n: ".concat(e.description||"N/A","\n"),t+="Marca: ".concat(e.brand||"N/A","\n"),t+="Modelo: ".concat(e.model||"N/A","\n"),t+="Serie: ".concat(e.serial||"N/A","\n"),t+="Origen: ".concat(e.origin||"N/A","\n"),t+="Estado de Mercanc\xeda: ".concat(e.packagingCondition||"N/A","\n"),t+="Unidad de Medida: ".concat(e.unitMeasure||"N/A","\n"),t+="Peso: ".concat(e.weight||"N/A","\n"),t+="Observaci\xf3n: ".concat(e.observation||"N/A","\n");let o=[];e.isConform&&o.push("Conforme a factura"),e.isExcess&&o.push("Excedente"),e.isMissing&&o.push("Faltante"),e.isFault&&o.push("Aver\xeda"),t+="Estado: ".concat(o.length>0?o.join(", "):"Sin estado espec\xedfico","\n")});let o=new Blob([t],{type:"text/plain;charset=utf-8"}),n=URL.createObjectURL(o),i=document.createElement("a");i.href=n,i.download="CustomsEX-p_".concat(e.ne,"_").concat(new Date().toISOString().split("T")[0],".txt"),document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(n)}function c(e){var a,t;let o=new Date,r=(0,i.GP)(o,"dd/MM/yy HH:mm",{locale:s.es}),c=[["EXAMEN PREVIO AGENCIA ACONIC - CustomsEX-p"],[],["INFORMACI\xd3N GENERAL DEL EXAMEN:"],["NE:",e.ne],["Referencia:",e.reference||"N/A"],["Consignatario:",e.consignee],["Gestor del Examen:",e.manager],["Ubicaci\xf3n Mercanc\xeda:",e.location],["Fotos:",{v:"Abrir Carpeta de Fotos",t:"s",l:{Target:"https://aconisani-my.sharepoint.com/:f:/g/personal/asuntos_juridicos_aconic_com_ni/Emrpj4Ss8bhDifpuYc8U_bwBj9r29FGcXxzfxu4PSh2tEQ?e=FhIPTt",Tooltip:"Ir a la carpeta de fotos en SharePoint"}}],[],["PRODUCTOS:"]],d=["N\xfamero de Item","Numeraci\xf3n de Bultos","Cantidad de Bultos","Cantidad de Unidades","Descripci\xf3n","Marca","Modelo","Origen","Estado de Mercanc\xeda","Peso","Unidad de Medida","Serie","Observaci\xf3n","Estado"],l=[...c,d,...(Array.isArray(e.products)?e.products:[]).map(e=>{let a="",t=[];return e.isConform&&t.push("Conforme"),e.isExcess&&t.push("Excedente"),e.isMissing&&t.push("Faltante"),e.isFault&&t.push("Aver\xeda"),a=t.length>0?t.join("/"):"S/E",[e.itemNumber||"N/A",e.numberPackages||"N/A",e.quantityPackages||0,e.quantityUnits||0,e.description||"N/A",e.brand||"N/A",e.model||"N/A",e.origin||"N/A",e.packagingCondition||"N/A",e.weight||"N/A",e.unitMeasure||"N/A",e.serial||"N/A",e.observation||"N/A",a]})],u=n.Wp.aoa_to_sheet(l),m=d.map((e,a)=>({wch:Math.max(e.length,...l.slice(c.length).map(e=>e[a]?String(e[a]).length:0))+2})),p=c.slice(0,c.length-2).map(e=>String(e[0]||"")),N=c.slice(0,c.length-2).map(e=>{let a=e[1];return"object"==typeof a&&null!==a&&"v"in a?String(a.v||""):String(a||"")});m.length>0&&(m[0].wch=Math.max((null==(a=m[0])?void 0:a.wch)||0,...p.map(e=>e.length+2))),m.length>1&&(m[1].wch=Math.max((null==(t=m[1])?void 0:t.wch)||0,...N.map(e=>e.length+5))),u["!cols"]=m;let A=[["DETALLES DE SISTEMA DEL EXAMEN:"]];e.savedBy?A.push(["Guardado por (correo):",e.savedBy]):A.push(["Guardado por (correo):","N/A (No guardado en BD a\xfan o dato no disponible)"]);let f=e=>{if(!e)return"N/A";let a=(null==e?void 0:e.toDate)?e.toDate():e;return a instanceof Date&&!isNaN(a.getTime())?(0,i.GP)(a,"dd/MM/yy HH:mm",{locale:s.es}):"Fecha inv\xe1lida"};A.push(["Fecha y Hora de Inicio:",f(e.createdAt)]),A.push(["Fecha y Hora de \xdaltimo Guardado:",f(e.savedAt)]),A.push(["Fecha y Hora de Finalizaci\xf3n:",e.completedAt?f(e.completedAt):"Examen no finalizado"]),A.push(["Fecha y Hora de Exportaci\xf3n:",r]);let E=n.Wp.aoa_to_sheet(A),h=[{wch:Math.max(...A.map(e=>String(e[0]).length))+2},{wch:Math.max(...A.map(e=>String(e[1]).length))+5}];E["!cols"]=h;let g=n.Wp.book_new();n.Wp.book_append_sheet(g,u,"Examen ".concat(e.ne)),n.Wp.book_append_sheet(g,E,"Detalle de Sistema"),n._h(g,"CustomsEX-p_".concat(e.ne,"_").concat(new Date().toISOString().split("T")[0],".xlsx"))}let d=function(e){let a=!(arguments.length>1)||void 0===arguments[1]||arguments[1];if(!e)return"N/A";let t=e.toDate?e.toDate():new Date(e);return t instanceof Date&&!isNaN(t.getTime())?(0,i.GP)(t,a?"dd/MM/yy HH:mm":"dd/MM/yy",{locale:s.es}):"Fecha Inv\xe1lida"},l=e=>e instanceof o.Dc?d(e):"boolean"==typeof e?e?"S\xed":"No":null==e||""===e?"vac\xedo":"object"==typeof e?JSON.stringify(e):String(e),u=(e,a,t,o)=>{let i=[[t],[o],[],e,...a],s=n.Wp.aoa_to_sheet(i),r=e.map((e,t)=>({wch:Math.max(e.length,...a.map(e=>String(e[t]||"").length))+2}));return s["!cols"]=r,s};async function m(e,a){let t=new Date,o=(0,i.GP)(t,"dd/MM/yy HH:mm",{locale:s.es}),r=u(["NE","INICIO DE OPERACION","RESA","VENCIMIENTO DE RESA","CONSIGNATARIO","FACTURA","ASIGNACION DE AFORO","ESTATUS DE REVISOR","ESTATUS DIGITACION","SELECTIVO","FECHA DE DESPACHO","TIPO INCIDENCIA","FACTURADO","FECHA DE FACTURACION","CUENTA DE REGISTRO","ESTATUS EJECUTIVO (AMPLIADO)"],e.map(e=>{var a;let t=["Aforador: ".concat(e.aforadorStatus||"N/A"),"Revisor: ".concat(e.revisorStatus||"N/A"),"Preliquidaci\xf3n: ".concat(e.preliquidationStatus||"N/A"),"Digitaci\xf3n: ".concat(e.digitacionStatus||"N/A")].join(" | ");return[e.ne,d(e.createdAt),(null==(a=e.worksheet)?void 0:a.resa)||"N/A",d(e.resaDueDate,!1),e.consignee,e.facturaNumber||"N/A",d(e.assignmentDate),e.revisorStatus||"N/A",e.digitacionStatus||"N/A",e.selectividad||"N/A",d(e.fechaDespacho,!1),e.incidentType||"N/A",e.facturado?"S\xed":"No",d(e.facturadoAt),e.cuentaDeRegistro||"N/A",t]}),"Reporte Ejecutivo - Customs Reports","Generado el: ".concat(o)),c=u(["NE","Consignatario","Declaraci\xf3n","Aduana Despacho","Monto de Preliquidaci\xf3n (USD)","Proceso","Levante Solicitado","Ampliaci\xf3n de Plazo","Vencimiento de Caso","Asignado a Legal"],e.filter(e=>e.hasValueDoubt).map(e=>{var a,t;return[e.ne,e.consignee,e.declaracionAduanera||"N/A",(null==(a=e.worksheet)?void 0:a.dispatchCustoms)||"N/A",null!=(t=e.valueDoubtAmount)?t:"N/A",e.valueDoubtStatus||"N/A",e.valueDoubtLevanteRequested?"S\xed":"No",e.valueDoubtExtensionRequested?"S\xed":"No",d(e.valueDoubtDueDate,!1),e.valueDoubtAssignedToLegal?"S\xed":"No"]}),"Casos con Duda de Valor","Generado el: ".concat(o)),m=u(["NE","CONSIGNATARIO","DECLARACION ADUANERA","PAGO INICIAL (SI/NO)","RECIBO DE CAJA PAGO INICIAL","MONTO DE DECLARACION INICIAL","ADUANA DE DESPACHO","MOTIVO DE LA RECTIFICACION","OBSERVACIONES","ESTADO INCIDENCIA","REVISADO POR","FECHA REVISI\xd3N"],e.filter(e=>"Rectificacion"===e.incidentType).map(e=>{var a,t;return[e.ne,e.consignee,e.declaracionAduanera||"N/A",e.pagoInicialRealizado?"S\xed":"No",e.reciboDeCajaPagoInicial||"N/A",null!=(t=e.montoPagoInicial)?t:"N/A",(null==(a=e.worksheet)?void 0:a.dispatchCustoms)||"N/A",e.motivoRectificacion||"",e.observaciones||"",e.incidentStatus||"N/A",e.incidentReviewedBy||"N/A",d(e.incidentReviewedAt,!1)]}),"Casos con Complementaria (Rectificaci\xf3n)","Generado el: ".concat(o));a.sort((e,a)=>e.caseNe<a.caseNe?-1:e.caseNe>a.caseNe?1:(e.updatedAt instanceof Date?e.updatedAt.getTime():e.updatedAt.toMillis())-(a.updatedAt instanceof Date?a.updatedAt.getTime():a.updatedAt.toMillis()));let p=u(["NE del Caso","Fecha de Actualizaci\xf3n","Actualizado Por","Campo Modificado","Valor Anterior","Valor Nuevo","Comentario"],a.map(e=>[e.caseNe,d(e.updatedAt),e.updatedBy,e.field,l(e.oldValue),l(e.newValue),e.comment||""]),"Bit\xe1cora de Cambios - Customs Reports","Generado el: ".concat(o)),N=n.Wp.book_new();n.Wp.book_append_sheet(N,r,"Reporte Ejecutivo"),n.Wp.book_append_sheet(N,c,"Duda de Valor"),n.Wp.book_append_sheet(N,m,"Rectificaciones"),n.Wp.book_append_sheet(N,p,"Bit\xe1cora de Cambios"),n._h(N,"Reporte_Ejecutivo_".concat(t.toISOString().split("T")[0],".xlsx"))}},83686:()=>{},98053:(e,a,t)=>{"use strict";t.d(a,{$v:()=>f,EO:()=>m,Lt:()=>c,Rx:()=>E,Zr:()=>h,ck:()=>N,r7:()=>A,tv:()=>d,wd:()=>p});var o=t(95155),n=t(12115),i=t(35646),s=t(64269),r=t(3998);let c=i.bL,d=i.l9,l=i.ZL,u=n.forwardRef((e,a)=>{let{className:t,...n}=e;return(0,o.jsx)(i.hJ,{className:(0,s.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...n,ref:a})});u.displayName=i.hJ.displayName;let m=n.forwardRef((e,a)=>{let{className:t,...n}=e;return(0,o.jsxs)(l,{children:[(0,o.jsx)(u,{}),(0,o.jsx)(i.UC,{ref:a,className:(0,s.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n})]})});m.displayName=i.UC.displayName;let p=e=>{let{className:a,...t}=e;return(0,o.jsx)("div",{className:(0,s.cn)("flex flex-col space-y-2 text-center sm:text-left",a),...t})};p.displayName="AlertDialogHeader";let N=e=>{let{className:a,...t}=e;return(0,o.jsx)("div",{className:(0,s.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",a),...t})};N.displayName="AlertDialogFooter";let A=n.forwardRef((e,a)=>{let{className:t,...n}=e;return(0,o.jsx)(i.hE,{ref:a,className:(0,s.cn)("text-lg font-semibold",t),...n})});A.displayName=i.hE.displayName;let f=n.forwardRef((e,a)=>{let{className:t,...n}=e;return(0,o.jsx)(i.VY,{ref:a,className:(0,s.cn)("text-sm text-muted-foreground",t),...n})});f.displayName=i.VY.displayName;let E=n.forwardRef((e,a)=>{let{className:t,...n}=e;return(0,o.jsx)(i.rc,{ref:a,className:(0,s.cn)((0,r.r)(),t),...n})});E.displayName=i.rc.displayName;let h=n.forwardRef((e,a)=>{let{className:t,...n}=e;return(0,o.jsx)(i.ZD,{ref:a,className:(0,s.cn)((0,r.r)({variant:"outline"}),"mt-2 sm:mt-0",t),...n})});h.displayName=i.ZD.displayName}}]);